{"version":3,"file":"blueprint-picker-modal.element-CxJdS4ni.js","sources":["../src/blueprint-picker-modal.element.ts"],"sourcesContent":["import type { DocumentTypeOption, BlueprintPickerModalData, BlueprintPickerModalValue } from './blueprint-picker-modal.token.js';\r\nimport { html, customElement, css, state, repeat, when } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { UmbModalBaseElement } from '@umbraco-cms/backoffice/modal';\r\n\r\n@customElement('blueprint-picker-modal')\r\nexport class BlueprintPickerModalElement extends UmbModalBaseElement<\r\n\tBlueprintPickerModalData,\r\n\tBlueprintPickerModalValue\r\n> {\r\n\t@state()\r\n\tprivate _selectedDocType: DocumentTypeOption | null = null;\r\n\r\n\t#handleDocTypeSelect(docType: DocumentTypeOption) {\r\n\t\tthis._selectedDocType = docType;\r\n\t}\r\n\r\n\t#handleBlueprintSelect(blueprintUnique: string) {\r\n\t\tif (!this._selectedDocType) return;\r\n\t\tthis.value = {\r\n\t\t\tblueprintUnique,\r\n\t\t\tdocumentTypeUnique: this._selectedDocType.documentTypeUnique,\r\n\t\t};\r\n\t\tthis._submitModal();\r\n\t}\r\n\r\n\t#handleBack() {\r\n\t\tthis._selectedDocType = null;\r\n\t}\r\n\r\n\t#handleClose() {\r\n\t\tthis._rejectModal();\r\n\t}\r\n\r\n\t#renderNoDocumentTypes() {\r\n\t\treturn html`\r\n\t\t\t<div class=\"no-blueprints\">\r\n\t\t\t\t<uui-icon name=\"icon-alert\"></uui-icon>\r\n\t\t\t\t<p>\r\n\t\t\t\t\tTo create a document from a source, you first need to create a\r\n\t\t\t\t\t<strong>Document Blueprint</strong>.\r\n\t\t\t\t</p>\r\n\t\t\t\t<p class=\"hint\">\r\n\t\t\t\t\tUse the <strong>Create Document Blueprint</strong> option from\r\n\t\t\t\t\tthe document actions menu.\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderDocumentTypeList() {\r\n\t\tconst documentTypes = this.data?.documentTypes ?? [];\r\n\t\treturn html`\r\n\t\t\t${repeat(\r\n\t\t\t\tdocumentTypes,\r\n\t\t\t\t(dt) => dt.documentTypeUnique,\r\n\t\t\t\t(dt) => html`\r\n\t\t\t\t\t<uui-menu-item\r\n\t\t\t\t\t\tlabel=${dt.documentTypeName}\r\n\t\t\t\t\t\t@click=${() => this.#handleDocTypeSelect(dt)}>\r\n\t\t\t\t\t\t<umb-icon slot=\"icon\" name=${dt.documentTypeIcon || 'icon-document'}></umb-icon>\r\n\t\t\t\t\t</uui-menu-item>\r\n\t\t\t\t`,\r\n\t\t\t)}\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderBlueprintList() {\r\n\t\tif (!this._selectedDocType) return html``;\r\n\t\treturn html`\r\n\t\t\t${repeat(\r\n\t\t\t\tthis._selectedDocType.blueprints,\r\n\t\t\t\t(bp) => bp.blueprintUnique,\r\n\t\t\t\t(bp) => html`\r\n\t\t\t\t\t<uui-menu-item\r\n\t\t\t\t\t\tlabel=${bp.blueprintName}\r\n\t\t\t\t\t\t@click=${() => this.#handleBlueprintSelect(bp.blueprintUnique)}>\r\n\t\t\t\t\t\t<umb-icon slot=\"icon\" name=\"icon-blueprint\"></umb-icon>\r\n\t\t\t\t\t</uui-menu-item>\r\n\t\t\t\t`,\r\n\t\t\t)}\r\n\t\t`;\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tconst hasDocumentTypes = (this.data?.documentTypes?.length ?? 0) > 0;\r\n\t\tconst showBlueprints = this._selectedDocType !== null;\r\n\t\tconst headline = showBlueprints\r\n\t\t\t? this.localize.term('blueprints_selectBlueprint')\r\n\t\t\t: 'Choose a Document Type';\r\n\r\n\t\treturn html`\r\n\t\t\t<uui-dialog-layout headline=${headline}>\r\n\t\t\t\t${when(\r\n\t\t\t\t\t!hasDocumentTypes,\r\n\t\t\t\t\t() => this.#renderNoDocumentTypes(),\r\n\t\t\t\t\t() => when(\r\n\t\t\t\t\t\tshowBlueprints,\r\n\t\t\t\t\t\t() => this.#renderBlueprintList(),\r\n\t\t\t\t\t\t() => this.#renderDocumentTypeList(),\r\n\t\t\t\t\t),\r\n\t\t\t\t)}\r\n\t\t\t\t${when(\r\n\t\t\t\t\tshowBlueprints,\r\n\t\t\t\t\t() => html`\r\n\t\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\t\tslot=\"actions\"\r\n\t\t\t\t\t\t\tlabel=\"Back\"\r\n\t\t\t\t\t\t\t@click=${this.#handleBack}></uui-button>\r\n\t\t\t\t\t`,\r\n\t\t\t\t)}\r\n\t\t\t\t<uui-button\r\n\t\t\t\t\tslot=\"actions\"\r\n\t\t\t\t\tid=\"cancel\"\r\n\t\t\t\t\tlabel=${this.localize.term('general_cancel')}\r\n\t\t\t\t\t@click=${this.#handleClose}></uui-button>\r\n\t\t\t</uui-dialog-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t.no-blueprints {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tpadding: var(--uui-size-space-5);\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t}\r\n\r\n\t\t\t.no-blueprints > uui-icon {\r\n\t\t\t\tfont-size: var(--uui-size-8);\r\n\t\t\t\tcolor: var(--uui-color-warning);\r\n\t\t\t}\r\n\r\n\t\t\t.no-blueprints p {\r\n\t\t\t\tmargin: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.no-blueprints .hint {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t}\r\n\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default BlueprintPickerModalElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'blueprint-picker-modal': BlueprintPickerModalElement;\r\n\t}\r\n}\r\n"],"names":["_BlueprintPickerModalElement_instances","handleDocTypeSelect_fn","handleBlueprintSelect_fn","handleBack_fn","handleClose_fn","renderNoDocumentTypes_fn","renderDocumentTypeList_fn","renderBlueprintList_fn","BlueprintPickerModalElement","UmbModalBaseElement","__privateAdd","hasDocumentTypes","_b","_a","showBlueprints","headline","html","when","__privateMethod","docType","blueprintUnique","documentTypes","repeat","dt","bp","UmbTextStyles","css","__decorateClass","state","customElement","BlueprintPickerModalElement_default"],"mappings":"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"}
{"version":3,"file":"pdf-CwFtZUSJ.js","sources":["../node_modules/pdfjs-dist/build/pdf.mjs"],"sourcesContent":["/**\n * @licstart The following is the entire license notice for the\n * JavaScript code in this page\n *\n * Copyright 2023 Mozilla Foundation\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @licend The above is the entire license notice for the\n * JavaScript code in this page\n */\n\n/******/ var __webpack_modules__ = ({\n\n/***/ 976:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  AnnotationLayer: () => (/* binding */ AnnotationLayer),\n  FreeTextAnnotationElement: () => (/* binding */ FreeTextAnnotationElement),\n  InkAnnotationElement: () => (/* binding */ InkAnnotationElement),\n  StampAnnotationElement: () => (/* binding */ StampAnnotationElement)\n});\n\n// EXTERNAL MODULE: ./src/shared/util.js\nvar util = __webpack_require__(292);\n// EXTERNAL MODULE: ./src/display/display_utils.js\nvar display_utils = __webpack_require__(419);\n// EXTERNAL MODULE: ./src/display/annotation_storage.js\nvar annotation_storage = __webpack_require__(792);\n;// CONCATENATED MODULE: ./src/shared/scripting_utils.js\nfunction makeColorComp(n) {\n  return Math.floor(Math.max(0, Math.min(1, n)) * 255).toString(16).padStart(2, \"0\");\n}\nfunction scaleAndClamp(x) {\n  return Math.max(0, Math.min(255, 255 * x));\n}\nclass ColorConverters {\n  static CMYK_G([c, y, m, k]) {\n    return [\"G\", 1 - Math.min(1, 0.3 * c + 0.59 * m + 0.11 * y + k)];\n  }\n  static G_CMYK([g]) {\n    return [\"CMYK\", 0, 0, 0, 1 - g];\n  }\n  static G_RGB([g]) {\n    return [\"RGB\", g, g, g];\n  }\n  static G_rgb([g]) {\n    g = scaleAndClamp(g);\n    return [g, g, g];\n  }\n  static G_HTML([g]) {\n    const G = makeColorComp(g);\n    return `#${G}${G}${G}`;\n  }\n  static RGB_G([r, g, b]) {\n    return [\"G\", 0.3 * r + 0.59 * g + 0.11 * b];\n  }\n  static RGB_rgb(color) {\n    return color.map(scaleAndClamp);\n  }\n  static RGB_HTML(color) {\n    return `#${color.map(makeColorComp).join(\"\")}`;\n  }\n  static T_HTML() {\n    return \"#00000000\";\n  }\n  static T_rgb() {\n    return [null];\n  }\n  static CMYK_RGB([c, y, m, k]) {\n    return [\"RGB\", 1 - Math.min(1, c + k), 1 - Math.min(1, m + k), 1 - Math.min(1, y + k)];\n  }\n  static CMYK_rgb([c, y, m, k]) {\n    return [scaleAndClamp(1 - Math.min(1, c + k)), scaleAndClamp(1 - Math.min(1, m + k)), scaleAndClamp(1 - Math.min(1, y + k))];\n  }\n  static CMYK_HTML(components) {\n    const rgb = this.CMYK_RGB(components).slice(1);\n    return this.RGB_HTML(rgb);\n  }\n  static RGB_CMYK([r, g, b]) {\n    const c = 1 - r;\n    const m = 1 - g;\n    const y = 1 - b;\n    const k = Math.min(c, m, y);\n    return [\"CMYK\", c, m, y, k];\n  }\n}\n\n// EXTERNAL MODULE: ./src/display/xfa_layer.js\nvar xfa_layer = __webpack_require__(284);\n;// CONCATENATED MODULE: ./src/display/annotation_layer.js\n\n\n\n\n\nconst DEFAULT_TAB_INDEX = 1000;\nconst DEFAULT_FONT_SIZE = 9;\nconst GetElementsByNameSet = new WeakSet();\nfunction getRectDims(rect) {\n  return {\n    width: rect[2] - rect[0],\n    height: rect[3] - rect[1]\n  };\n}\nclass AnnotationElementFactory {\n  static create(parameters) {\n    const subtype = parameters.data.annotationType;\n    switch (subtype) {\n      case util.AnnotationType.LINK:\n        return new LinkAnnotationElement(parameters);\n      case util.AnnotationType.TEXT:\n        return new TextAnnotationElement(parameters);\n      case util.AnnotationType.WIDGET:\n        const fieldType = parameters.data.fieldType;\n        switch (fieldType) {\n          case \"Tx\":\n            return new TextWidgetAnnotationElement(parameters);\n          case \"Btn\":\n            if (parameters.data.radioButton) {\n              return new RadioButtonWidgetAnnotationElement(parameters);\n            } else if (parameters.data.checkBox) {\n              return new CheckboxWidgetAnnotationElement(parameters);\n            }\n            return new PushButtonWidgetAnnotationElement(parameters);\n          case \"Ch\":\n            return new ChoiceWidgetAnnotationElement(parameters);\n          case \"Sig\":\n            return new SignatureWidgetAnnotationElement(parameters);\n        }\n        return new WidgetAnnotationElement(parameters);\n      case util.AnnotationType.POPUP:\n        return new PopupAnnotationElement(parameters);\n      case util.AnnotationType.FREETEXT:\n        return new FreeTextAnnotationElement(parameters);\n      case util.AnnotationType.LINE:\n        return new LineAnnotationElement(parameters);\n      case util.AnnotationType.SQUARE:\n        return new SquareAnnotationElement(parameters);\n      case util.AnnotationType.CIRCLE:\n        return new CircleAnnotationElement(parameters);\n      case util.AnnotationType.POLYLINE:\n        return new PolylineAnnotationElement(parameters);\n      case util.AnnotationType.CARET:\n        return new CaretAnnotationElement(parameters);\n      case util.AnnotationType.INK:\n        return new InkAnnotationElement(parameters);\n      case util.AnnotationType.POLYGON:\n        return new PolygonAnnotationElement(parameters);\n      case util.AnnotationType.HIGHLIGHT:\n        return new HighlightAnnotationElement(parameters);\n      case util.AnnotationType.UNDERLINE:\n        return new UnderlineAnnotationElement(parameters);\n      case util.AnnotationType.SQUIGGLY:\n        return new SquigglyAnnotationElement(parameters);\n      case util.AnnotationType.STRIKEOUT:\n        return new StrikeOutAnnotationElement(parameters);\n      case util.AnnotationType.STAMP:\n        return new StampAnnotationElement(parameters);\n      case util.AnnotationType.FILEATTACHMENT:\n        return new FileAttachmentAnnotationElement(parameters);\n      default:\n        return new AnnotationElement(parameters);\n    }\n  }\n}\nclass AnnotationElement {\n  #updates = null;\n  #hasBorder = false;\n  constructor(parameters, {\n    isRenderable = false,\n    ignoreBorder = false,\n    createQuadrilaterals = false\n  } = {}) {\n    this.isRenderable = isRenderable;\n    this.data = parameters.data;\n    this.layer = parameters.layer;\n    this.linkService = parameters.linkService;\n    this.downloadManager = parameters.downloadManager;\n    this.imageResourcesPath = parameters.imageResourcesPath;\n    this.renderForms = parameters.renderForms;\n    this.svgFactory = parameters.svgFactory;\n    this.annotationStorage = parameters.annotationStorage;\n    this.enableScripting = parameters.enableScripting;\n    this.hasJSActions = parameters.hasJSActions;\n    this._fieldObjects = parameters.fieldObjects;\n    this.parent = parameters.parent;\n    if (isRenderable) {\n      this.container = this._createContainer(ignoreBorder);\n    }\n    if (createQuadrilaterals) {\n      this._createQuadrilaterals();\n    }\n  }\n  static _hasPopupData({\n    titleObj,\n    contentsObj,\n    richText\n  }) {\n    return !!(titleObj?.str || contentsObj?.str || richText?.str);\n  }\n  get hasPopupData() {\n    return AnnotationElement._hasPopupData(this.data);\n  }\n  updateEdited(params) {\n    if (!this.container) {\n      return;\n    }\n    this.#updates ||= {\n      rect: this.data.rect.slice(0)\n    };\n    const {\n      rect\n    } = params;\n    if (rect) {\n      this.#setRectEdited(rect);\n    }\n  }\n  resetEdited() {\n    if (!this.#updates) {\n      return;\n    }\n    this.#setRectEdited(this.#updates.rect);\n    this.#updates = null;\n  }\n  #setRectEdited(rect) {\n    const {\n      container: {\n        style\n      },\n      data: {\n        rect: currentRect,\n        rotation\n      },\n      parent: {\n        viewport: {\n          rawDims: {\n            pageWidth,\n            pageHeight,\n            pageX,\n            pageY\n          }\n        }\n      }\n    } = this;\n    currentRect?.splice(0, 4, ...rect);\n    const {\n      width,\n      height\n    } = getRectDims(rect);\n    style.left = `${100 * (rect[0] - pageX) / pageWidth}%`;\n    style.top = `${100 * (pageHeight - rect[3] + pageY) / pageHeight}%`;\n    if (rotation === 0) {\n      style.width = `${100 * width / pageWidth}%`;\n      style.height = `${100 * height / pageHeight}%`;\n    } else {\n      this.setRotation(rotation);\n    }\n  }\n  _createContainer(ignoreBorder) {\n    const {\n      data,\n      parent: {\n        page,\n        viewport\n      }\n    } = this;\n    const container = document.createElement(\"section\");\n    container.setAttribute(\"data-annotation-id\", data.id);\n    if (!(this instanceof WidgetAnnotationElement)) {\n      container.tabIndex = DEFAULT_TAB_INDEX;\n    }\n    const {\n      style\n    } = container;\n    style.zIndex = this.parent.zIndex++;\n    if (data.popupRef) {\n      container.setAttribute(\"aria-haspopup\", \"dialog\");\n    }\n    if (data.alternativeText) {\n      container.title = data.alternativeText;\n    }\n    if (data.noRotate) {\n      container.classList.add(\"norotate\");\n    }\n    if (!data.rect || this instanceof PopupAnnotationElement) {\n      const {\n        rotation\n      } = data;\n      if (!data.hasOwnCanvas && rotation !== 0) {\n        this.setRotation(rotation, container);\n      }\n      return container;\n    }\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    if (!ignoreBorder && data.borderStyle.width > 0) {\n      style.borderWidth = `${data.borderStyle.width}px`;\n      const horizontalRadius = data.borderStyle.horizontalCornerRadius;\n      const verticalRadius = data.borderStyle.verticalCornerRadius;\n      if (horizontalRadius > 0 || verticalRadius > 0) {\n        const radius = `calc(${horizontalRadius}px * var(--scale-factor)) / calc(${verticalRadius}px * var(--scale-factor))`;\n        style.borderRadius = radius;\n      } else if (this instanceof RadioButtonWidgetAnnotationElement) {\n        const radius = `calc(${width}px * var(--scale-factor)) / calc(${height}px * var(--scale-factor))`;\n        style.borderRadius = radius;\n      }\n      switch (data.borderStyle.style) {\n        case util.AnnotationBorderStyleType.SOLID:\n          style.borderStyle = \"solid\";\n          break;\n        case util.AnnotationBorderStyleType.DASHED:\n          style.borderStyle = \"dashed\";\n          break;\n        case util.AnnotationBorderStyleType.BEVELED:\n          (0,util.warn)(\"Unimplemented border style: beveled\");\n          break;\n        case util.AnnotationBorderStyleType.INSET:\n          (0,util.warn)(\"Unimplemented border style: inset\");\n          break;\n        case util.AnnotationBorderStyleType.UNDERLINE:\n          style.borderBottomStyle = \"solid\";\n          break;\n        default:\n          break;\n      }\n      const borderColor = data.borderColor || null;\n      if (borderColor) {\n        this.#hasBorder = true;\n        style.borderColor = util.Util.makeHexColor(borderColor[0] | 0, borderColor[1] | 0, borderColor[2] | 0);\n      } else {\n        style.borderWidth = 0;\n      }\n    }\n    const rect = util.Util.normalizeRect([data.rect[0], page.view[3] - data.rect[1] + page.view[1], data.rect[2], page.view[3] - data.rect[3] + page.view[1]]);\n    const {\n      pageWidth,\n      pageHeight,\n      pageX,\n      pageY\n    } = viewport.rawDims;\n    style.left = `${100 * (rect[0] - pageX) / pageWidth}%`;\n    style.top = `${100 * (rect[1] - pageY) / pageHeight}%`;\n    const {\n      rotation\n    } = data;\n    if (data.hasOwnCanvas || rotation === 0) {\n      style.width = `${100 * width / pageWidth}%`;\n      style.height = `${100 * height / pageHeight}%`;\n    } else {\n      this.setRotation(rotation, container);\n    }\n    return container;\n  }\n  setRotation(angle, container = this.container) {\n    if (!this.data.rect) {\n      return;\n    }\n    const {\n      pageWidth,\n      pageHeight\n    } = this.parent.viewport.rawDims;\n    const {\n      width,\n      height\n    } = getRectDims(this.data.rect);\n    let elementWidth, elementHeight;\n    if (angle % 180 === 0) {\n      elementWidth = 100 * width / pageWidth;\n      elementHeight = 100 * height / pageHeight;\n    } else {\n      elementWidth = 100 * height / pageWidth;\n      elementHeight = 100 * width / pageHeight;\n    }\n    container.style.width = `${elementWidth}%`;\n    container.style.height = `${elementHeight}%`;\n    container.setAttribute(\"data-main-rotation\", (360 - angle) % 360);\n  }\n  get _commonActions() {\n    const setColor = (jsName, styleName, event) => {\n      const color = event.detail[jsName];\n      const colorType = color[0];\n      const colorArray = color.slice(1);\n      event.target.style[styleName] = ColorConverters[`${colorType}_HTML`](colorArray);\n      this.annotationStorage.setValue(this.data.id, {\n        [styleName]: ColorConverters[`${colorType}_rgb`](colorArray)\n      });\n    };\n    return (0,util.shadow)(this, \"_commonActions\", {\n      display: event => {\n        const {\n          display\n        } = event.detail;\n        const hidden = display % 2 === 1;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noView: hidden,\n          noPrint: display === 1 || display === 2\n        });\n      },\n      print: event => {\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: !event.detail.print\n        });\n      },\n      hidden: event => {\n        const {\n          hidden\n        } = event.detail;\n        this.container.style.visibility = hidden ? \"hidden\" : \"visible\";\n        this.annotationStorage.setValue(this.data.id, {\n          noPrint: hidden,\n          noView: hidden\n        });\n      },\n      focus: event => {\n        setTimeout(() => event.target.focus({\n          preventScroll: false\n        }), 0);\n      },\n      userName: event => {\n        event.target.title = event.detail.userName;\n      },\n      readonly: event => {\n        event.target.disabled = event.detail.readonly;\n      },\n      required: event => {\n        this._setRequired(event.target, event.detail.required);\n      },\n      bgColor: event => {\n        setColor(\"bgColor\", \"backgroundColor\", event);\n      },\n      fillColor: event => {\n        setColor(\"fillColor\", \"backgroundColor\", event);\n      },\n      fgColor: event => {\n        setColor(\"fgColor\", \"color\", event);\n      },\n      textColor: event => {\n        setColor(\"textColor\", \"color\", event);\n      },\n      borderColor: event => {\n        setColor(\"borderColor\", \"borderColor\", event);\n      },\n      strokeColor: event => {\n        setColor(\"strokeColor\", \"borderColor\", event);\n      },\n      rotation: event => {\n        const angle = event.detail.rotation;\n        this.setRotation(angle);\n        this.annotationStorage.setValue(this.data.id, {\n          rotation: angle\n        });\n      }\n    });\n  }\n  _dispatchEventFromSandbox(actions, jsEvent) {\n    const commonActions = this._commonActions;\n    for (const name of Object.keys(jsEvent.detail)) {\n      const action = actions[name] || commonActions[name];\n      action?.(jsEvent);\n    }\n  }\n  _setDefaultPropertiesFromJS(element) {\n    if (!this.enableScripting) {\n      return;\n    }\n    const storedData = this.annotationStorage.getRawValue(this.data.id);\n    if (!storedData) {\n      return;\n    }\n    const commonActions = this._commonActions;\n    for (const [actionName, detail] of Object.entries(storedData)) {\n      const action = commonActions[actionName];\n      if (action) {\n        const eventProxy = {\n          detail: {\n            [actionName]: detail\n          },\n          target: element\n        };\n        action(eventProxy);\n        delete storedData[actionName];\n      }\n    }\n  }\n  _createQuadrilaterals() {\n    if (!this.container) {\n      return;\n    }\n    const {\n      quadPoints\n    } = this.data;\n    if (!quadPoints) {\n      return;\n    }\n    const [rectBlX, rectBlY, rectTrX, rectTrY] = this.data.rect;\n    if (quadPoints.length === 1) {\n      const [, {\n        x: trX,\n        y: trY\n      }, {\n        x: blX,\n        y: blY\n      }] = quadPoints[0];\n      if (rectTrX === trX && rectTrY === trY && rectBlX === blX && rectBlY === blY) {\n        return;\n      }\n    }\n    const {\n      style\n    } = this.container;\n    let svgBuffer;\n    if (this.#hasBorder) {\n      const {\n        borderColor,\n        borderWidth\n      } = style;\n      style.borderWidth = 0;\n      svgBuffer = [\"url('data:image/svg+xml;utf8,\", `<svg xmlns=\"http://www.w3.org/2000/svg\"`, ` preserveAspectRatio=\"none\" viewBox=\"0 0 1 1\">`, `<g fill=\"transparent\" stroke=\"${borderColor}\" stroke-width=\"${borderWidth}\">`];\n      this.container.classList.add(\"hasBorder\");\n    }\n    const width = rectTrX - rectBlX;\n    const height = rectTrY - rectBlY;\n    const {\n      svgFactory\n    } = this;\n    const svg = svgFactory.createElement(\"svg\");\n    svg.classList.add(\"quadrilateralsContainer\");\n    svg.setAttribute(\"width\", 0);\n    svg.setAttribute(\"height\", 0);\n    const defs = svgFactory.createElement(\"defs\");\n    svg.append(defs);\n    const clipPath = svgFactory.createElement(\"clipPath\");\n    const id = `clippath_${this.data.id}`;\n    clipPath.setAttribute(\"id\", id);\n    clipPath.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n    defs.append(clipPath);\n    for (const [, {\n      x: trX,\n      y: trY\n    }, {\n      x: blX,\n      y: blY\n    }] of quadPoints) {\n      const rect = svgFactory.createElement(\"rect\");\n      const x = (blX - rectBlX) / width;\n      const y = (rectTrY - trY) / height;\n      const rectWidth = (trX - blX) / width;\n      const rectHeight = (trY - blY) / height;\n      rect.setAttribute(\"x\", x);\n      rect.setAttribute(\"y\", y);\n      rect.setAttribute(\"width\", rectWidth);\n      rect.setAttribute(\"height\", rectHeight);\n      clipPath.append(rect);\n      svgBuffer?.push(`<rect vector-effect=\"non-scaling-stroke\" x=\"${x}\" y=\"${y}\" width=\"${rectWidth}\" height=\"${rectHeight}\"/>`);\n    }\n    if (this.#hasBorder) {\n      svgBuffer.push(`</g></svg>')`);\n      style.backgroundImage = svgBuffer.join(\"\");\n    }\n    this.container.append(svg);\n    this.container.style.clipPath = `url(#${id})`;\n  }\n  _createPopup() {\n    const {\n      container,\n      data\n    } = this;\n    container.setAttribute(\"aria-haspopup\", \"dialog\");\n    const popup = new PopupAnnotationElement({\n      data: {\n        color: data.color,\n        titleObj: data.titleObj,\n        modificationDate: data.modificationDate,\n        contentsObj: data.contentsObj,\n        richText: data.richText,\n        parentRect: data.rect,\n        borderStyle: 0,\n        id: `popup_${data.id}`,\n        rotation: data.rotation\n      },\n      parent: this.parent,\n      elements: [this]\n    });\n    this.parent.div.append(popup.render());\n  }\n  render() {\n    (0,util.unreachable)(\"Abstract method `AnnotationElement.render` called\");\n  }\n  _getElementsByName(name, skipId = null) {\n    const fields = [];\n    if (this._fieldObjects) {\n      const fieldObj = this._fieldObjects[name];\n      if (fieldObj) {\n        for (const {\n          page,\n          id,\n          exportValues\n        } of fieldObj) {\n          if (page === -1) {\n            continue;\n          }\n          if (id === skipId) {\n            continue;\n          }\n          const exportValue = typeof exportValues === \"string\" ? exportValues : null;\n          const domElement = document.querySelector(`[data-element-id=\"${id}\"]`);\n          if (domElement && !GetElementsByNameSet.has(domElement)) {\n            (0,util.warn)(`_getElementsByName - element not allowed: ${id}`);\n            continue;\n          }\n          fields.push({\n            id,\n            exportValue,\n            domElement\n          });\n        }\n      }\n      return fields;\n    }\n    for (const domElement of document.getElementsByName(name)) {\n      const {\n        exportValue\n      } = domElement;\n      const id = domElement.getAttribute(\"data-element-id\");\n      if (id === skipId) {\n        continue;\n      }\n      if (!GetElementsByNameSet.has(domElement)) {\n        continue;\n      }\n      fields.push({\n        id,\n        exportValue,\n        domElement\n      });\n    }\n    return fields;\n  }\n  show() {\n    if (this.container) {\n      this.container.hidden = false;\n    }\n    this.popup?.maybeShow();\n  }\n  hide() {\n    if (this.container) {\n      this.container.hidden = true;\n    }\n    this.popup?.forceHide();\n  }\n  getElementsToTriggerPopup() {\n    return this.container;\n  }\n  addHighlightArea() {\n    const triggers = this.getElementsToTriggerPopup();\n    if (Array.isArray(triggers)) {\n      for (const element of triggers) {\n        element.classList.add(\"highlightArea\");\n      }\n    } else {\n      triggers.classList.add(\"highlightArea\");\n    }\n  }\n  get _isEditable() {\n    return false;\n  }\n  _editOnDoubleClick() {\n    if (!this._isEditable) {\n      return;\n    }\n    const {\n      annotationEditorType: mode,\n      data: {\n        id: editId\n      }\n    } = this;\n    this.container.addEventListener(\"dblclick\", () => {\n      this.linkService.eventBus?.dispatch(\"switchannotationeditormode\", {\n        source: this,\n        mode,\n        editId\n      });\n    });\n  }\n}\nclass LinkAnnotationElement extends AnnotationElement {\n  constructor(parameters, options = null) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: !!options?.ignoreBorder,\n      createQuadrilaterals: true\n    });\n    this.isTooltipOnly = parameters.data.isTooltipOnly;\n  }\n  render() {\n    const {\n      data,\n      linkService\n    } = this;\n    const link = document.createElement(\"a\");\n    link.setAttribute(\"data-element-id\", data.id);\n    let isBound = false;\n    if (data.url) {\n      linkService.addLinkAttributes(link, data.url, data.newWindow);\n      isBound = true;\n    } else if (data.action) {\n      this._bindNamedAction(link, data.action);\n      isBound = true;\n    } else if (data.attachment) {\n      this.#bindAttachment(link, data.attachment, data.attachmentDest);\n      isBound = true;\n    } else if (data.setOCGState) {\n      this.#bindSetOCGState(link, data.setOCGState);\n      isBound = true;\n    } else if (data.dest) {\n      this._bindLink(link, data.dest);\n      isBound = true;\n    } else {\n      if (data.actions && (data.actions.Action || data.actions[\"Mouse Up\"] || data.actions[\"Mouse Down\"]) && this.enableScripting && this.hasJSActions) {\n        this._bindJSAction(link, data);\n        isBound = true;\n      }\n      if (data.resetForm) {\n        this._bindResetFormAction(link, data.resetForm);\n        isBound = true;\n      } else if (this.isTooltipOnly && !isBound) {\n        this._bindLink(link, \"\");\n        isBound = true;\n      }\n    }\n    this.container.classList.add(\"linkAnnotation\");\n    if (isBound) {\n      this.container.append(link);\n    }\n    return this.container;\n  }\n  #setInternalLink() {\n    this.container.setAttribute(\"data-internal-link\", \"\");\n  }\n  _bindLink(link, destination) {\n    link.href = this.linkService.getDestinationHash(destination);\n    link.onclick = () => {\n      if (destination) {\n        this.linkService.goToDestination(destination);\n      }\n      return false;\n    };\n    if (destination || destination === \"\") {\n      this.#setInternalLink();\n    }\n  }\n  _bindNamedAction(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeNamedAction(action);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n  #bindAttachment(link, attachment, dest = null) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.downloadManager?.openOrDownloadData(attachment.content, attachment.filename, dest);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n  #bindSetOCGState(link, action) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    link.onclick = () => {\n      this.linkService.executeSetOCGState(action);\n      return false;\n    };\n    this.#setInternalLink();\n  }\n  _bindJSAction(link, data) {\n    link.href = this.linkService.getAnchorUrl(\"\");\n    const map = new Map([[\"Action\", \"onclick\"], [\"Mouse Up\", \"onmouseup\"], [\"Mouse Down\", \"onmousedown\"]]);\n    for (const name of Object.keys(data.actions)) {\n      const jsName = map.get(name);\n      if (!jsName) {\n        continue;\n      }\n      link[jsName] = () => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: data.id,\n            name\n          }\n        });\n        return false;\n      };\n    }\n    if (!link.onclick) {\n      link.onclick = () => false;\n    }\n    this.#setInternalLink();\n  }\n  _bindResetFormAction(link, resetForm) {\n    const otherClickAction = link.onclick;\n    if (!otherClickAction) {\n      link.href = this.linkService.getAnchorUrl(\"\");\n    }\n    this.#setInternalLink();\n    if (!this._fieldObjects) {\n      (0,util.warn)(`_bindResetFormAction - \"resetForm\" action not supported, ` + \"ensure that the `fieldObjects` parameter is provided.\");\n      if (!otherClickAction) {\n        link.onclick = () => false;\n      }\n      return;\n    }\n    link.onclick = () => {\n      otherClickAction?.();\n      const {\n        fields: resetFormFields,\n        refs: resetFormRefs,\n        include\n      } = resetForm;\n      const allFields = [];\n      if (resetFormFields.length !== 0 || resetFormRefs.length !== 0) {\n        const fieldIds = new Set(resetFormRefs);\n        for (const fieldName of resetFormFields) {\n          const fields = this._fieldObjects[fieldName] || [];\n          for (const {\n            id\n          } of fields) {\n            fieldIds.add(id);\n          }\n        }\n        for (const fields of Object.values(this._fieldObjects)) {\n          for (const field of fields) {\n            if (fieldIds.has(field.id) === include) {\n              allFields.push(field);\n            }\n          }\n        }\n      } else {\n        for (const fields of Object.values(this._fieldObjects)) {\n          allFields.push(...fields);\n        }\n      }\n      const storage = this.annotationStorage;\n      const allIds = [];\n      for (const field of allFields) {\n        const {\n          id\n        } = field;\n        allIds.push(id);\n        switch (field.type) {\n          case \"text\":\n            {\n              const value = field.defaultValue || \"\";\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          case \"checkbox\":\n          case \"radiobutton\":\n            {\n              const value = field.defaultValue === field.exportValues;\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          case \"combobox\":\n          case \"listbox\":\n            {\n              const value = field.defaultValue || \"\";\n              storage.setValue(id, {\n                value\n              });\n              break;\n            }\n          default:\n            continue;\n        }\n        const domElement = document.querySelector(`[data-element-id=\"${id}\"]`);\n        if (!domElement) {\n          continue;\n        } else if (!GetElementsByNameSet.has(domElement)) {\n          (0,util.warn)(`_bindResetFormAction - element not allowed: ${id}`);\n          continue;\n        }\n        domElement.dispatchEvent(new Event(\"resetform\"));\n      }\n      if (this.enableScripting) {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: \"app\",\n            ids: allIds,\n            name: \"ResetForm\"\n          }\n        });\n      }\n      return false;\n    };\n  }\n}\nclass TextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"textAnnotation\");\n    const image = document.createElement(\"img\");\n    image.src = this.imageResourcesPath + \"annotation-\" + this.data.name.toLowerCase() + \".svg\";\n    image.setAttribute(\"data-l10n-id\", \"pdfjs-text-annotation-type\");\n    image.setAttribute(\"data-l10n-args\", JSON.stringify({\n      type: this.data.name\n    }));\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.append(image);\n    return this.container;\n  }\n}\nclass WidgetAnnotationElement extends AnnotationElement {\n  render() {\n    return this.container;\n  }\n  showElementAndHideCanvas(element) {\n    if (this.data.hasOwnCanvas) {\n      if (element.previousSibling?.nodeName === \"CANVAS\") {\n        element.previousSibling.hidden = true;\n      }\n      element.hidden = false;\n    }\n  }\n  _getKeyModifier(event) {\n    return util.FeatureTest.platform.isMac ? event.metaKey : event.ctrlKey;\n  }\n  _setEventListener(element, elementData, baseName, eventName, valueGetter) {\n    if (baseName.includes(\"mouse\")) {\n      element.addEventListener(baseName, event => {\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event),\n            shift: event.shiftKey,\n            modifier: this._getKeyModifier(event)\n          }\n        });\n      });\n    } else {\n      element.addEventListener(baseName, event => {\n        if (baseName === \"blur\") {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          elementData.focused = false;\n        } else if (baseName === \"focus\") {\n          if (elementData.focused) {\n            return;\n          }\n          elementData.focused = true;\n        }\n        if (!valueGetter) {\n          return;\n        }\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id: this.data.id,\n            name: eventName,\n            value: valueGetter(event)\n          }\n        });\n      });\n    }\n  }\n  _setEventListeners(element, elementData, names, getter) {\n    for (const [baseName, eventName] of names) {\n      if (eventName === \"Action\" || this.data.actions?.[eventName]) {\n        if (eventName === \"Focus\" || eventName === \"Blur\") {\n          elementData ||= {\n            focused: false\n          };\n        }\n        this._setEventListener(element, elementData, baseName, eventName, getter);\n        if (eventName === \"Focus\" && !this.data.actions?.Blur) {\n          this._setEventListener(element, elementData, \"blur\", \"Blur\", null);\n        } else if (eventName === \"Blur\" && !this.data.actions?.Focus) {\n          this._setEventListener(element, elementData, \"focus\", \"Focus\", null);\n        }\n      }\n    }\n  }\n  _setBackgroundColor(element) {\n    const color = this.data.backgroundColor || null;\n    element.style.backgroundColor = color === null ? \"transparent\" : util.Util.makeHexColor(color[0], color[1], color[2]);\n  }\n  _setTextStyle(element) {\n    const TEXT_ALIGNMENT = [\"left\", \"center\", \"right\"];\n    const {\n      fontColor\n    } = this.data.defaultAppearanceData;\n    const fontSize = this.data.defaultAppearanceData.fontSize || DEFAULT_FONT_SIZE;\n    const style = element.style;\n    let computedFontSize;\n    const BORDER_SIZE = 2;\n    const roundToOneDecimal = x => Math.round(10 * x) / 10;\n    if (this.data.multiLine) {\n      const height = Math.abs(this.data.rect[3] - this.data.rect[1] - BORDER_SIZE);\n      const numberOfLines = Math.round(height / (util.LINE_FACTOR * fontSize)) || 1;\n      const lineHeight = height / numberOfLines;\n      computedFontSize = Math.min(fontSize, roundToOneDecimal(lineHeight / util.LINE_FACTOR));\n    } else {\n      const height = Math.abs(this.data.rect[3] - this.data.rect[1] - BORDER_SIZE);\n      computedFontSize = Math.min(fontSize, roundToOneDecimal(height / util.LINE_FACTOR));\n    }\n    style.fontSize = `calc(${computedFontSize}px * var(--scale-factor))`;\n    style.color = util.Util.makeHexColor(fontColor[0], fontColor[1], fontColor[2]);\n    if (this.data.textAlignment !== null) {\n      style.textAlign = TEXT_ALIGNMENT[this.data.textAlignment];\n    }\n  }\n  _setRequired(element, isRequired) {\n    if (isRequired) {\n      element.setAttribute(\"required\", true);\n    } else {\n      element.removeAttribute(\"required\");\n    }\n    element.setAttribute(\"aria-required\", isRequired);\n  }\n}\nclass TextWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    const isRenderable = parameters.renderForms || parameters.data.hasOwnCanvas || !parameters.data.hasAppearance && !!parameters.data.fieldValue;\n    super(parameters, {\n      isRenderable\n    });\n  }\n  setPropertyOnSiblings(base, key, value, keyInStorage) {\n    const storage = this.annotationStorage;\n    for (const element of this._getElementsByName(base.name, base.id)) {\n      if (element.domElement) {\n        element.domElement[key] = value;\n      }\n      storage.setValue(element.id, {\n        [keyInStorage]: value\n      });\n    }\n  }\n  render() {\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n    this.container.classList.add(\"textWidgetAnnotation\");\n    let element = null;\n    if (this.renderForms) {\n      const storedData = storage.getValue(id, {\n        value: this.data.fieldValue\n      });\n      let textContent = storedData.value || \"\";\n      const maxLen = storage.getValue(id, {\n        charLimit: this.data.maxLen\n      }).charLimit;\n      if (maxLen && textContent.length > maxLen) {\n        textContent = textContent.slice(0, maxLen);\n      }\n      let fieldFormattedValues = storedData.formattedValue || this.data.textContent?.join(\"\\n\") || null;\n      if (fieldFormattedValues && this.data.comb) {\n        fieldFormattedValues = fieldFormattedValues.replaceAll(/\\s+/g, \"\");\n      }\n      const elementData = {\n        userValue: textContent,\n        formattedValue: fieldFormattedValues,\n        lastCommittedValue: null,\n        commitKey: 1,\n        focused: false\n      };\n      if (this.data.multiLine) {\n        element = document.createElement(\"textarea\");\n        element.textContent = fieldFormattedValues ?? textContent;\n        if (this.data.doNotScroll) {\n          element.style.overflowY = \"hidden\";\n        }\n      } else {\n        element = document.createElement(\"input\");\n        element.type = \"text\";\n        element.setAttribute(\"value\", fieldFormattedValues ?? textContent);\n        if (this.data.doNotScroll) {\n          element.style.overflowX = \"hidden\";\n        }\n      }\n      if (this.data.hasOwnCanvas) {\n        element.hidden = true;\n      }\n      GetElementsByNameSet.add(element);\n      element.setAttribute(\"data-element-id\", id);\n      element.disabled = this.data.readOnly;\n      element.name = this.data.fieldName;\n      element.tabIndex = DEFAULT_TAB_INDEX;\n      this._setRequired(element, this.data.required);\n      if (maxLen) {\n        element.maxLength = maxLen;\n      }\n      element.addEventListener(\"input\", event => {\n        storage.setValue(id, {\n          value: event.target.value\n        });\n        this.setPropertyOnSiblings(element, \"value\", event.target.value, \"value\");\n        elementData.formattedValue = null;\n      });\n      element.addEventListener(\"resetform\", event => {\n        const defaultValue = this.data.defaultFieldValue ?? \"\";\n        element.value = elementData.userValue = defaultValue;\n        elementData.formattedValue = null;\n      });\n      let blurListener = event => {\n        const {\n          formattedValue\n        } = elementData;\n        if (formattedValue !== null && formattedValue !== undefined) {\n          event.target.value = formattedValue;\n        }\n        event.target.scrollLeft = 0;\n      };\n      if (this.enableScripting && this.hasJSActions) {\n        element.addEventListener(\"focus\", event => {\n          if (elementData.focused) {\n            return;\n          }\n          const {\n            target\n          } = event;\n          if (elementData.userValue) {\n            target.value = elementData.userValue;\n          }\n          elementData.lastCommittedValue = target.value;\n          elementData.commitKey = 1;\n          if (!this.data.actions?.Focus) {\n            elementData.focused = true;\n          }\n        });\n        element.addEventListener(\"updatefromsandbox\", jsEvent => {\n          this.showElementAndHideCanvas(jsEvent.target);\n          const actions = {\n            value(event) {\n              elementData.userValue = event.detail.value ?? \"\";\n              storage.setValue(id, {\n                value: elementData.userValue.toString()\n              });\n              event.target.value = elementData.userValue;\n            },\n            formattedValue(event) {\n              const {\n                formattedValue\n              } = event.detail;\n              elementData.formattedValue = formattedValue;\n              if (formattedValue !== null && formattedValue !== undefined && event.target !== document.activeElement) {\n                event.target.value = formattedValue;\n              }\n              storage.setValue(id, {\n                formattedValue\n              });\n            },\n            selRange(event) {\n              event.target.setSelectionRange(...event.detail.selRange);\n            },\n            charLimit: event => {\n              const {\n                charLimit\n              } = event.detail;\n              const {\n                target\n              } = event;\n              if (charLimit === 0) {\n                target.removeAttribute(\"maxLength\");\n                return;\n              }\n              target.setAttribute(\"maxLength\", charLimit);\n              let value = elementData.userValue;\n              if (!value || value.length <= charLimit) {\n                return;\n              }\n              value = value.slice(0, charLimit);\n              target.value = elementData.userValue = value;\n              storage.setValue(id, {\n                value\n              });\n              this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n                source: this,\n                detail: {\n                  id,\n                  name: \"Keystroke\",\n                  value,\n                  willCommit: true,\n                  commitKey: 1,\n                  selStart: target.selectionStart,\n                  selEnd: target.selectionEnd\n                }\n              });\n            }\n          };\n          this._dispatchEventFromSandbox(actions, jsEvent);\n        });\n        element.addEventListener(\"keydown\", event => {\n          elementData.commitKey = 1;\n          let commitKey = -1;\n          if (event.key === \"Escape\") {\n            commitKey = 0;\n          } else if (event.key === \"Enter\" && !this.data.multiLine) {\n            commitKey = 2;\n          } else if (event.key === \"Tab\") {\n            elementData.commitKey = 3;\n          }\n          if (commitKey === -1) {\n            return;\n          }\n          const {\n            value\n          } = event.target;\n          if (elementData.lastCommittedValue === value) {\n            return;\n          }\n          elementData.lastCommittedValue = value;\n          elementData.userValue = value;\n          this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n            source: this,\n            detail: {\n              id,\n              name: \"Keystroke\",\n              value,\n              willCommit: true,\n              commitKey,\n              selStart: event.target.selectionStart,\n              selEnd: event.target.selectionEnd\n            }\n          });\n        });\n        const _blurListener = blurListener;\n        blurListener = null;\n        element.addEventListener(\"blur\", event => {\n          if (!elementData.focused || !event.relatedTarget) {\n            return;\n          }\n          if (!this.data.actions?.Blur) {\n            elementData.focused = false;\n          }\n          const {\n            value\n          } = event.target;\n          elementData.userValue = value;\n          if (elementData.lastCommittedValue !== value) {\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                willCommit: true,\n                commitKey: elementData.commitKey,\n                selStart: event.target.selectionStart,\n                selEnd: event.target.selectionEnd\n              }\n            });\n          }\n          _blurListener(event);\n        });\n        if (this.data.actions?.Keystroke) {\n          element.addEventListener(\"beforeinput\", event => {\n            elementData.lastCommittedValue = null;\n            const {\n              data,\n              target\n            } = event;\n            const {\n              value,\n              selectionStart,\n              selectionEnd\n            } = target;\n            let selStart = selectionStart,\n              selEnd = selectionEnd;\n            switch (event.inputType) {\n              case \"deleteWordBackward\":\n                {\n                  const match = value.substring(0, selectionStart).match(/\\w*[^\\w]*$/);\n                  if (match) {\n                    selStart -= match[0].length;\n                  }\n                  break;\n                }\n              case \"deleteWordForward\":\n                {\n                  const match = value.substring(selectionStart).match(/^[^\\w]*\\w*/);\n                  if (match) {\n                    selEnd += match[0].length;\n                  }\n                  break;\n                }\n              case \"deleteContentBackward\":\n                if (selectionStart === selectionEnd) {\n                  selStart -= 1;\n                }\n                break;\n              case \"deleteContentForward\":\n                if (selectionStart === selectionEnd) {\n                  selEnd += 1;\n                }\n                break;\n            }\n            event.preventDefault();\n            this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n              source: this,\n              detail: {\n                id,\n                name: \"Keystroke\",\n                value,\n                change: data || \"\",\n                willCommit: false,\n                selStart,\n                selEnd\n              }\n            });\n          });\n        }\n        this._setEventListeners(element, elementData, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.value);\n      }\n      if (blurListener) {\n        element.addEventListener(\"blur\", blurListener);\n      }\n      if (this.data.comb) {\n        const fieldWidth = this.data.rect[2] - this.data.rect[0];\n        const combWidth = fieldWidth / maxLen;\n        element.classList.add(\"comb\");\n        element.style.letterSpacing = `calc(${combWidth}px * var(--scale-factor) - 1ch)`;\n      }\n    } else {\n      element = document.createElement(\"div\");\n      element.textContent = this.data.fieldValue;\n      element.style.verticalAlign = \"middle\";\n      element.style.display = \"table-cell\";\n      if (this.data.hasOwnCanvas) {\n        element.hidden = true;\n      }\n    }\n    this._setTextStyle(element);\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass SignatureWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: !!parameters.data.hasOwnCanvas\n    });\n  }\n}\nclass CheckboxWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.exportValue === data.fieldValue\n    }).value;\n    if (typeof value === \"string\") {\n      value = value !== \"Off\";\n      storage.setValue(id, {\n        value\n      });\n    }\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"checkBox\");\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"checkbox\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.setAttribute(\"exportValue\", data.exportValue);\n    element.tabIndex = DEFAULT_TAB_INDEX;\n    element.addEventListener(\"change\", event => {\n      const {\n        name,\n        checked\n      } = event.target;\n      for (const checkbox of this._getElementsByName(name, id)) {\n        const curChecked = checked && checkbox.exportValue === data.exportValue;\n        if (checkbox.domElement) {\n          checkbox.domElement.checked = curChecked;\n        }\n        storage.setValue(checkbox.id, {\n          value: curChecked\n        });\n      }\n      storage.setValue(id, {\n        value: checked\n      });\n    });\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue || \"Off\";\n      event.target.checked = defaultValue === data.exportValue;\n    });\n    if (this.enableScripting && this.hasJSActions) {\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            event.target.checked = event.detail.value !== \"Off\";\n            storage.setValue(id, {\n              value: event.target.checked\n            });\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      this._setEventListeners(element, null, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n    }\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    this.container.classList.add(\"buttonWidgetAnnotation\", \"radioButton\");\n    const storage = this.annotationStorage;\n    const data = this.data;\n    const id = data.id;\n    let value = storage.getValue(id, {\n      value: data.fieldValue === data.buttonValue\n    }).value;\n    if (typeof value === \"string\") {\n      value = value !== data.buttonValue;\n      storage.setValue(id, {\n        value\n      });\n    }\n    if (value) {\n      for (const radio of this._getElementsByName(data.fieldName, id)) {\n        storage.setValue(radio.id, {\n          value: false\n        });\n      }\n    }\n    const element = document.createElement(\"input\");\n    GetElementsByNameSet.add(element);\n    element.setAttribute(\"data-element-id\", id);\n    element.disabled = data.readOnly;\n    this._setRequired(element, this.data.required);\n    element.type = \"radio\";\n    element.name = data.fieldName;\n    if (value) {\n      element.setAttribute(\"checked\", true);\n    }\n    element.tabIndex = DEFAULT_TAB_INDEX;\n    element.addEventListener(\"change\", event => {\n      const {\n        name,\n        checked\n      } = event.target;\n      for (const radio of this._getElementsByName(name, id)) {\n        storage.setValue(radio.id, {\n          value: false\n        });\n      }\n      storage.setValue(id, {\n        value: checked\n      });\n    });\n    element.addEventListener(\"resetform\", event => {\n      const defaultValue = data.defaultFieldValue;\n      event.target.checked = defaultValue !== null && defaultValue !== undefined && defaultValue === data.buttonValue;\n    });\n    if (this.enableScripting && this.hasJSActions) {\n      const pdfButtonValue = data.buttonValue;\n      element.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value: event => {\n            const checked = pdfButtonValue === event.detail.value;\n            for (const radio of this._getElementsByName(event.target.name)) {\n              const curChecked = checked && radio.id === id;\n              if (radio.domElement) {\n                radio.domElement.checked = curChecked;\n              }\n              storage.setValue(radio.id, {\n                value: curChecked\n              });\n            }\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      this._setEventListeners(element, null, [[\"change\", \"Validate\"], [\"change\", \"Action\"], [\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"]], event => event.target.checked);\n    }\n    this._setBackgroundColor(element);\n    this._setDefaultPropertiesFromJS(element);\n    this.container.append(element);\n    return this.container;\n  }\n}\nclass PushButtonWidgetAnnotationElement extends LinkAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      ignoreBorder: parameters.data.hasAppearance\n    });\n  }\n  render() {\n    const container = super.render();\n    container.classList.add(\"buttonWidgetAnnotation\", \"pushButton\");\n    const linkElement = container.lastChild;\n    if (this.enableScripting && this.hasJSActions && linkElement) {\n      this._setDefaultPropertiesFromJS(linkElement);\n      linkElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        this._dispatchEventFromSandbox({}, jsEvent);\n      });\n    }\n    return container;\n  }\n}\nclass ChoiceWidgetAnnotationElement extends WidgetAnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: parameters.renderForms\n    });\n  }\n  render() {\n    this.container.classList.add(\"choiceWidgetAnnotation\");\n    const storage = this.annotationStorage;\n    const id = this.data.id;\n    const storedData = storage.getValue(id, {\n      value: this.data.fieldValue\n    });\n    const selectElement = document.createElement(\"select\");\n    GetElementsByNameSet.add(selectElement);\n    selectElement.setAttribute(\"data-element-id\", id);\n    selectElement.disabled = this.data.readOnly;\n    this._setRequired(selectElement, this.data.required);\n    selectElement.name = this.data.fieldName;\n    selectElement.tabIndex = DEFAULT_TAB_INDEX;\n    let addAnEmptyEntry = this.data.combo && this.data.options.length > 0;\n    if (!this.data.combo) {\n      selectElement.size = this.data.options.length;\n      if (this.data.multiSelect) {\n        selectElement.multiple = true;\n      }\n    }\n    selectElement.addEventListener(\"resetform\", event => {\n      const defaultValue = this.data.defaultFieldValue;\n      for (const option of selectElement.options) {\n        option.selected = option.value === defaultValue;\n      }\n    });\n    for (const option of this.data.options) {\n      const optionElement = document.createElement(\"option\");\n      optionElement.textContent = option.displayValue;\n      optionElement.value = option.exportValue;\n      if (storedData.value.includes(option.exportValue)) {\n        optionElement.setAttribute(\"selected\", true);\n        addAnEmptyEntry = false;\n      }\n      selectElement.append(optionElement);\n    }\n    let removeEmptyEntry = null;\n    if (addAnEmptyEntry) {\n      const noneOptionElement = document.createElement(\"option\");\n      noneOptionElement.value = \" \";\n      noneOptionElement.setAttribute(\"hidden\", true);\n      noneOptionElement.setAttribute(\"selected\", true);\n      selectElement.prepend(noneOptionElement);\n      removeEmptyEntry = () => {\n        noneOptionElement.remove();\n        selectElement.removeEventListener(\"input\", removeEmptyEntry);\n        removeEmptyEntry = null;\n      };\n      selectElement.addEventListener(\"input\", removeEmptyEntry);\n    }\n    const getValue = isExport => {\n      const name = isExport ? \"value\" : \"textContent\";\n      const {\n        options,\n        multiple\n      } = selectElement;\n      if (!multiple) {\n        return options.selectedIndex === -1 ? null : options[options.selectedIndex][name];\n      }\n      return Array.prototype.filter.call(options, option => option.selected).map(option => option[name]);\n    };\n    let selectedValues = getValue(false);\n    const getItems = event => {\n      const options = event.target.options;\n      return Array.prototype.map.call(options, option => ({\n        displayValue: option.textContent,\n        exportValue: option.value\n      }));\n    };\n    if (this.enableScripting && this.hasJSActions) {\n      selectElement.addEventListener(\"updatefromsandbox\", jsEvent => {\n        const actions = {\n          value(event) {\n            removeEmptyEntry?.();\n            const value = event.detail.value;\n            const values = new Set(Array.isArray(value) ? value : [value]);\n            for (const option of selectElement.options) {\n              option.selected = values.has(option.value);\n            }\n            storage.setValue(id, {\n              value: getValue(true)\n            });\n            selectedValues = getValue(false);\n          },\n          multipleSelection(event) {\n            selectElement.multiple = true;\n          },\n          remove(event) {\n            const options = selectElement.options;\n            const index = event.detail.remove;\n            options[index].selected = false;\n            selectElement.remove(index);\n            if (options.length > 0) {\n              const i = Array.prototype.findIndex.call(options, option => option.selected);\n              if (i === -1) {\n                options[0].selected = true;\n              }\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          clear(event) {\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            storage.setValue(id, {\n              value: null,\n              items: []\n            });\n            selectedValues = getValue(false);\n          },\n          insert(event) {\n            const {\n              index,\n              displayValue,\n              exportValue\n            } = event.detail.insert;\n            const selectChild = selectElement.children[index];\n            const optionElement = document.createElement(\"option\");\n            optionElement.textContent = displayValue;\n            optionElement.value = exportValue;\n            if (selectChild) {\n              selectChild.before(optionElement);\n            } else {\n              selectElement.append(optionElement);\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          items(event) {\n            const {\n              items\n            } = event.detail;\n            while (selectElement.length !== 0) {\n              selectElement.remove(0);\n            }\n            for (const item of items) {\n              const {\n                displayValue,\n                exportValue\n              } = item;\n              const optionElement = document.createElement(\"option\");\n              optionElement.textContent = displayValue;\n              optionElement.value = exportValue;\n              selectElement.append(optionElement);\n            }\n            if (selectElement.options.length > 0) {\n              selectElement.options[0].selected = true;\n            }\n            storage.setValue(id, {\n              value: getValue(true),\n              items: getItems(event)\n            });\n            selectedValues = getValue(false);\n          },\n          indices(event) {\n            const indices = new Set(event.detail.indices);\n            for (const option of event.target.options) {\n              option.selected = indices.has(option.index);\n            }\n            storage.setValue(id, {\n              value: getValue(true)\n            });\n            selectedValues = getValue(false);\n          },\n          editable(event) {\n            event.target.disabled = !event.detail.editable;\n          }\n        };\n        this._dispatchEventFromSandbox(actions, jsEvent);\n      });\n      selectElement.addEventListener(\"input\", event => {\n        const exportValue = getValue(true);\n        const change = getValue(false);\n        storage.setValue(id, {\n          value: exportValue\n        });\n        event.preventDefault();\n        this.linkService.eventBus?.dispatch(\"dispatcheventinsandbox\", {\n          source: this,\n          detail: {\n            id,\n            name: \"Keystroke\",\n            value: selectedValues,\n            change,\n            changeEx: exportValue,\n            willCommit: false,\n            commitKey: 1,\n            keyDown: false\n          }\n        });\n      });\n      this._setEventListeners(selectElement, null, [[\"focus\", \"Focus\"], [\"blur\", \"Blur\"], [\"mousedown\", \"Mouse Down\"], [\"mouseenter\", \"Mouse Enter\"], [\"mouseleave\", \"Mouse Exit\"], [\"mouseup\", \"Mouse Up\"], [\"input\", \"Action\"], [\"input\", \"Validate\"]], event => event.target.value);\n    } else {\n      selectElement.addEventListener(\"input\", function (event) {\n        storage.setValue(id, {\n          value: getValue(true)\n        });\n      });\n    }\n    if (this.data.combo) {\n      this._setTextStyle(selectElement);\n    } else {}\n    this._setBackgroundColor(selectElement);\n    this._setDefaultPropertiesFromJS(selectElement);\n    this.container.append(selectElement);\n    return this.container;\n  }\n}\nclass PopupAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    const {\n      data,\n      elements\n    } = parameters;\n    super(parameters, {\n      isRenderable: AnnotationElement._hasPopupData(data)\n    });\n    this.elements = elements;\n  }\n  render() {\n    this.container.classList.add(\"popupAnnotation\");\n    const popup = new PopupElement({\n      container: this.container,\n      color: this.data.color,\n      titleObj: this.data.titleObj,\n      modificationDate: this.data.modificationDate,\n      contentsObj: this.data.contentsObj,\n      richText: this.data.richText,\n      rect: this.data.rect,\n      parentRect: this.data.parentRect || null,\n      parent: this.parent,\n      elements: this.elements,\n      open: this.data.open\n    });\n    const elementIds = [];\n    for (const element of this.elements) {\n      element.popup = popup;\n      elementIds.push(element.data.id);\n      element.addHighlightArea();\n    }\n    this.container.setAttribute(\"aria-controls\", elementIds.map(id => `${util.AnnotationPrefix}${id}`).join(\",\"));\n    return this.container;\n  }\n}\nclass PopupElement {\n  #boundKeyDown = this.#keyDown.bind(this);\n  #boundHide = this.#hide.bind(this);\n  #boundShow = this.#show.bind(this);\n  #boundToggle = this.#toggle.bind(this);\n  #color = null;\n  #container = null;\n  #contentsObj = null;\n  #dateObj = null;\n  #elements = null;\n  #parent = null;\n  #parentRect = null;\n  #pinned = false;\n  #popup = null;\n  #rect = null;\n  #richText = null;\n  #titleObj = null;\n  #wasVisible = false;\n  constructor({\n    container,\n    color,\n    elements,\n    titleObj,\n    modificationDate,\n    contentsObj,\n    richText,\n    parent,\n    rect,\n    parentRect,\n    open\n  }) {\n    this.#container = container;\n    this.#titleObj = titleObj;\n    this.#contentsObj = contentsObj;\n    this.#richText = richText;\n    this.#parent = parent;\n    this.#color = color;\n    this.#rect = rect;\n    this.#parentRect = parentRect;\n    this.#elements = elements;\n    this.#dateObj = display_utils.PDFDateString.toDateObject(modificationDate);\n    this.trigger = elements.flatMap(e => e.getElementsToTriggerPopup());\n    for (const element of this.trigger) {\n      element.addEventListener(\"click\", this.#boundToggle);\n      element.addEventListener(\"mouseenter\", this.#boundShow);\n      element.addEventListener(\"mouseleave\", this.#boundHide);\n      element.classList.add(\"popupTriggerArea\");\n    }\n    for (const element of elements) {\n      element.container?.addEventListener(\"keydown\", this.#boundKeyDown);\n    }\n    this.#container.hidden = true;\n    if (open) {\n      this.#toggle();\n    }\n  }\n  render() {\n    if (this.#popup) {\n      return;\n    }\n    const {\n      page: {\n        view\n      },\n      viewport: {\n        rawDims: {\n          pageWidth,\n          pageHeight,\n          pageX,\n          pageY\n        }\n      }\n    } = this.#parent;\n    const popup = this.#popup = document.createElement(\"div\");\n    popup.className = \"popup\";\n    if (this.#color) {\n      const baseColor = popup.style.outlineColor = util.Util.makeHexColor(...this.#color);\n      if (CSS.supports(\"background-color\", \"color-mix(in srgb, red 30%, white)\")) {\n        popup.style.backgroundColor = `color-mix(in srgb, ${baseColor} 30%, white)`;\n      } else {\n        const BACKGROUND_ENLIGHT = 0.7;\n        popup.style.backgroundColor = util.Util.makeHexColor(...this.#color.map(c => Math.floor(BACKGROUND_ENLIGHT * (255 - c) + c)));\n      }\n    }\n    const header = document.createElement(\"span\");\n    header.className = \"header\";\n    const title = document.createElement(\"h1\");\n    header.append(title);\n    ({\n      dir: title.dir,\n      str: title.textContent\n    } = this.#titleObj);\n    popup.append(header);\n    if (this.#dateObj) {\n      const modificationDate = document.createElement(\"span\");\n      modificationDate.classList.add(\"popupDate\");\n      modificationDate.setAttribute(\"data-l10n-id\", \"pdfjs-annotation-date-string\");\n      modificationDate.setAttribute(\"data-l10n-args\", JSON.stringify({\n        date: this.#dateObj.toLocaleDateString(),\n        time: this.#dateObj.toLocaleTimeString()\n      }));\n      header.append(modificationDate);\n    }\n    const contentsObj = this.#contentsObj;\n    const richText = this.#richText;\n    if (richText?.str && (!contentsObj?.str || contentsObj.str === richText.str)) {\n      xfa_layer.XfaLayer.render({\n        xfaHtml: richText.html,\n        intent: \"richText\",\n        div: popup\n      });\n      popup.lastChild.classList.add(\"richText\", \"popupContent\");\n    } else {\n      const contents = this._formatContents(contentsObj);\n      popup.append(contents);\n    }\n    let useParentRect = !!this.#parentRect;\n    let rect = useParentRect ? this.#parentRect : this.#rect;\n    for (const element of this.#elements) {\n      if (!rect || util.Util.intersect(element.data.rect, rect) !== null) {\n        rect = element.data.rect;\n        useParentRect = true;\n        break;\n      }\n    }\n    const normalizedRect = util.Util.normalizeRect([rect[0], view[3] - rect[1] + view[1], rect[2], view[3] - rect[3] + view[1]]);\n    const HORIZONTAL_SPACE_AFTER_ANNOTATION = 5;\n    const parentWidth = useParentRect ? rect[2] - rect[0] + HORIZONTAL_SPACE_AFTER_ANNOTATION : 0;\n    const popupLeft = normalizedRect[0] + parentWidth;\n    const popupTop = normalizedRect[1];\n    const {\n      style\n    } = this.#container;\n    style.left = `${100 * (popupLeft - pageX) / pageWidth}%`;\n    style.top = `${100 * (popupTop - pageY) / pageHeight}%`;\n    this.#container.append(popup);\n  }\n  _formatContents({\n    str,\n    dir\n  }) {\n    const p = document.createElement(\"p\");\n    p.classList.add(\"popupContent\");\n    p.dir = dir;\n    const lines = str.split(/(?:\\r\\n?|\\n)/);\n    for (let i = 0, ii = lines.length; i < ii; ++i) {\n      const line = lines[i];\n      p.append(document.createTextNode(line));\n      if (i < ii - 1) {\n        p.append(document.createElement(\"br\"));\n      }\n    }\n    return p;\n  }\n  #keyDown(event) {\n    if (event.altKey || event.shiftKey || event.ctrlKey || event.metaKey) {\n      return;\n    }\n    if (event.key === \"Enter\" || event.key === \"Escape\" && this.#pinned) {\n      this.#toggle();\n    }\n  }\n  #toggle() {\n    this.#pinned = !this.#pinned;\n    if (this.#pinned) {\n      this.#show();\n      this.#container.addEventListener(\"click\", this.#boundToggle);\n      this.#container.addEventListener(\"keydown\", this.#boundKeyDown);\n    } else {\n      this.#hide();\n      this.#container.removeEventListener(\"click\", this.#boundToggle);\n      this.#container.removeEventListener(\"keydown\", this.#boundKeyDown);\n    }\n  }\n  #show() {\n    if (!this.#popup) {\n      this.render();\n    }\n    if (!this.isVisible) {\n      this.#container.hidden = false;\n      this.#container.style.zIndex = parseInt(this.#container.style.zIndex) + 1000;\n    } else if (this.#pinned) {\n      this.#container.classList.add(\"focused\");\n    }\n  }\n  #hide() {\n    this.#container.classList.remove(\"focused\");\n    if (this.#pinned || !this.isVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n    this.#container.style.zIndex = parseInt(this.#container.style.zIndex) - 1000;\n  }\n  forceHide() {\n    this.#wasVisible = this.isVisible;\n    if (!this.#wasVisible) {\n      return;\n    }\n    this.#container.hidden = true;\n  }\n  maybeShow() {\n    if (!this.#wasVisible) {\n      return;\n    }\n    this.#wasVisible = false;\n    this.#container.hidden = false;\n  }\n  get isVisible() {\n    return this.#container.hidden === false;\n  }\n}\nclass FreeTextAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.textContent = parameters.data.textContent;\n    this.textPosition = parameters.data.textPosition;\n    this.annotationEditorType = util.AnnotationEditorType.FREETEXT;\n  }\n  render() {\n    this.container.classList.add(\"freeTextAnnotation\");\n    if (this.textContent) {\n      const content = document.createElement(\"div\");\n      content.classList.add(\"annotationTextContent\");\n      content.setAttribute(\"role\", \"comment\");\n      for (const line of this.textContent) {\n        const lineSpan = document.createElement(\"span\");\n        lineSpan.textContent = line;\n        content.append(lineSpan);\n      }\n      this.container.append(content);\n    }\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this._editOnDoubleClick();\n    return this.container;\n  }\n  get _isEditable() {\n    return this.data.hasOwnCanvas;\n  }\n}\nclass LineAnnotationElement extends AnnotationElement {\n  #line = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"lineAnnotation\");\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    const line = this.#line = this.svgFactory.createElement(\"svg:line\");\n    line.setAttribute(\"x1\", data.rect[2] - data.lineCoordinates[0]);\n    line.setAttribute(\"y1\", data.rect[3] - data.lineCoordinates[1]);\n    line.setAttribute(\"x2\", data.rect[2] - data.lineCoordinates[2]);\n    line.setAttribute(\"y2\", data.rect[3] - data.lineCoordinates[3]);\n    line.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    line.setAttribute(\"stroke\", \"transparent\");\n    line.setAttribute(\"fill\", \"transparent\");\n    svg.append(line);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#line;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass SquareAnnotationElement extends AnnotationElement {\n  #square = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"squareAnnotation\");\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    const borderWidth = data.borderStyle.width;\n    const square = this.#square = this.svgFactory.createElement(\"svg:rect\");\n    square.setAttribute(\"x\", borderWidth / 2);\n    square.setAttribute(\"y\", borderWidth / 2);\n    square.setAttribute(\"width\", width - borderWidth);\n    square.setAttribute(\"height\", height - borderWidth);\n    square.setAttribute(\"stroke-width\", borderWidth || 1);\n    square.setAttribute(\"stroke\", \"transparent\");\n    square.setAttribute(\"fill\", \"transparent\");\n    svg.append(square);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#square;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass CircleAnnotationElement extends AnnotationElement {\n  #circle = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"circleAnnotation\");\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    const borderWidth = data.borderStyle.width;\n    const circle = this.#circle = this.svgFactory.createElement(\"svg:ellipse\");\n    circle.setAttribute(\"cx\", width / 2);\n    circle.setAttribute(\"cy\", height / 2);\n    circle.setAttribute(\"rx\", width / 2 - borderWidth / 2);\n    circle.setAttribute(\"ry\", height / 2 - borderWidth / 2);\n    circle.setAttribute(\"stroke-width\", borderWidth || 1);\n    circle.setAttribute(\"stroke\", \"transparent\");\n    circle.setAttribute(\"fill\", \"transparent\");\n    svg.append(circle);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#circle;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass PolylineAnnotationElement extends AnnotationElement {\n  #polyline = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.containerClassName = \"polylineAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n  }\n  render() {\n    this.container.classList.add(this.containerClassName);\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    let points = [];\n    for (const coordinate of data.vertices) {\n      const x = coordinate.x - data.rect[0];\n      const y = data.rect[3] - coordinate.y;\n      points.push(x + \",\" + y);\n    }\n    points = points.join(\" \");\n    const polyline = this.#polyline = this.svgFactory.createElement(this.svgElementName);\n    polyline.setAttribute(\"points\", points);\n    polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n    polyline.setAttribute(\"stroke\", \"transparent\");\n    polyline.setAttribute(\"fill\", \"transparent\");\n    svg.append(polyline);\n    this.container.append(svg);\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#polyline;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass PolygonAnnotationElement extends PolylineAnnotationElement {\n  constructor(parameters) {\n    super(parameters);\n    this.containerClassName = \"polygonAnnotation\";\n    this.svgElementName = \"svg:polygon\";\n  }\n}\nclass CaretAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"caretAnnotation\");\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n}\nclass InkAnnotationElement extends AnnotationElement {\n  #polylines = [];\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n    this.containerClassName = \"inkAnnotation\";\n    this.svgElementName = \"svg:polyline\";\n    this.annotationEditorType = util.AnnotationEditorType.INK;\n  }\n  render() {\n    this.container.classList.add(this.containerClassName);\n    const data = this.data;\n    const {\n      width,\n      height\n    } = getRectDims(data.rect);\n    const svg = this.svgFactory.create(width, height, true);\n    for (const inkList of data.inkLists) {\n      let points = [];\n      for (const coordinate of inkList) {\n        const x = coordinate.x - data.rect[0];\n        const y = data.rect[3] - coordinate.y;\n        points.push(`${x},${y}`);\n      }\n      points = points.join(\" \");\n      const polyline = this.svgFactory.createElement(this.svgElementName);\n      this.#polylines.push(polyline);\n      polyline.setAttribute(\"points\", points);\n      polyline.setAttribute(\"stroke-width\", data.borderStyle.width || 1);\n      polyline.setAttribute(\"stroke\", \"transparent\");\n      polyline.setAttribute(\"fill\", \"transparent\");\n      if (!data.popupRef && this.hasPopupData) {\n        this._createPopup();\n      }\n      svg.append(polyline);\n    }\n    this.container.append(svg);\n    return this.container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#polylines;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n}\nclass HighlightAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"highlightAnnotation\");\n    return this.container;\n  }\n}\nclass UnderlineAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"underlineAnnotation\");\n    return this.container;\n  }\n}\nclass SquigglyAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"squigglyAnnotation\");\n    return this.container;\n  }\n}\nclass StrikeOutAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true,\n      createQuadrilaterals: true\n    });\n  }\n  render() {\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    this.container.classList.add(\"strikeoutAnnotation\");\n    return this.container;\n  }\n}\nclass StampAnnotationElement extends AnnotationElement {\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true,\n      ignoreBorder: true\n    });\n  }\n  render() {\n    this.container.classList.add(\"stampAnnotation\");\n    if (!this.data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    }\n    return this.container;\n  }\n}\nclass FileAttachmentAnnotationElement extends AnnotationElement {\n  #trigger = null;\n  constructor(parameters) {\n    super(parameters, {\n      isRenderable: true\n    });\n    const {\n      filename,\n      content\n    } = this.data.file;\n    this.filename = (0,display_utils.getFilenameFromUrl)(filename, true);\n    this.content = content;\n    this.linkService.eventBus?.dispatch(\"fileattachmentannotation\", {\n      source: this,\n      filename,\n      content\n    });\n  }\n  render() {\n    this.container.classList.add(\"fileAttachmentAnnotation\");\n    const {\n      container,\n      data\n    } = this;\n    let trigger;\n    if (data.hasAppearance || data.fillAlpha === 0) {\n      trigger = document.createElement(\"div\");\n    } else {\n      trigger = document.createElement(\"img\");\n      trigger.src = `${this.imageResourcesPath}annotation-${/paperclip/i.test(data.name) ? \"paperclip\" : \"pushpin\"}.svg`;\n      if (data.fillAlpha && data.fillAlpha < 1) {\n        trigger.style = `filter: opacity(${Math.round(data.fillAlpha * 100)}%);`;\n      }\n    }\n    trigger.addEventListener(\"dblclick\", this.#download.bind(this));\n    this.#trigger = trigger;\n    const {\n      isMac\n    } = util.FeatureTest.platform;\n    container.addEventListener(\"keydown\", evt => {\n      if (evt.key === \"Enter\" && (isMac ? evt.metaKey : evt.ctrlKey)) {\n        this.#download();\n      }\n    });\n    if (!data.popupRef && this.hasPopupData) {\n      this._createPopup();\n    } else {\n      trigger.classList.add(\"popupTriggerArea\");\n    }\n    container.append(trigger);\n    return container;\n  }\n  getElementsToTriggerPopup() {\n    return this.#trigger;\n  }\n  addHighlightArea() {\n    this.container.classList.add(\"highlightArea\");\n  }\n  #download() {\n    this.downloadManager?.openOrDownloadData(this.content, this.filename);\n  }\n}\nclass AnnotationLayer {\n  #accessibilityManager = null;\n  #annotationCanvasMap = null;\n  #editableAnnotations = new Map();\n  constructor({\n    div,\n    accessibilityManager,\n    annotationCanvasMap,\n    annotationEditorUIManager,\n    page,\n    viewport\n  }) {\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationCanvasMap = annotationCanvasMap;\n    this.page = page;\n    this.viewport = viewport;\n    this.zIndex = 0;\n    this._annotationEditorUIManager = annotationEditorUIManager;\n  }\n  #appendElement(element, id) {\n    const contentElement = element.firstChild || element;\n    contentElement.id = `${util.AnnotationPrefix}${id}`;\n    this.div.append(element);\n    this.#accessibilityManager?.moveElementInDOM(this.div, element, contentElement, false);\n  }\n  async render(params) {\n    const {\n      annotations\n    } = params;\n    const layer = this.div;\n    (0,display_utils.setLayerDimensions)(layer, this.viewport);\n    const popupToElements = new Map();\n    const elementParams = {\n      data: null,\n      layer,\n      linkService: params.linkService,\n      downloadManager: params.downloadManager,\n      imageResourcesPath: params.imageResourcesPath || \"\",\n      renderForms: params.renderForms !== false,\n      svgFactory: new display_utils.DOMSVGFactory(),\n      annotationStorage: params.annotationStorage || new annotation_storage.AnnotationStorage(),\n      enableScripting: params.enableScripting === true,\n      hasJSActions: params.hasJSActions,\n      fieldObjects: params.fieldObjects,\n      parent: this,\n      elements: null\n    };\n    for (const data of annotations) {\n      if (data.noHTML) {\n        continue;\n      }\n      const isPopupAnnotation = data.annotationType === util.AnnotationType.POPUP;\n      if (!isPopupAnnotation) {\n        const {\n          width,\n          height\n        } = getRectDims(data.rect);\n        if (width <= 0 || height <= 0) {\n          continue;\n        }\n      } else {\n        const elements = popupToElements.get(data.id);\n        if (!elements) {\n          continue;\n        }\n        elementParams.elements = elements;\n      }\n      elementParams.data = data;\n      const element = AnnotationElementFactory.create(elementParams);\n      if (!element.isRenderable) {\n        continue;\n      }\n      if (!isPopupAnnotation && data.popupRef) {\n        const elements = popupToElements.get(data.popupRef);\n        if (!elements) {\n          popupToElements.set(data.popupRef, [element]);\n        } else {\n          elements.push(element);\n        }\n      }\n      const rendered = element.render();\n      if (data.hidden) {\n        rendered.style.visibility = \"hidden\";\n      }\n      this.#appendElement(rendered, data.id);\n      if (element.annotationEditorType > 0) {\n        this.#editableAnnotations.set(element.data.id, element);\n        this._annotationEditorUIManager?.renderAnnotationElement(element);\n      }\n    }\n    this.#setAnnotationCanvasMap();\n  }\n  update({\n    viewport\n  }) {\n    const layer = this.div;\n    this.viewport = viewport;\n    (0,display_utils.setLayerDimensions)(layer, {\n      rotation: viewport.rotation\n    });\n    this.#setAnnotationCanvasMap();\n    layer.hidden = false;\n  }\n  #setAnnotationCanvasMap() {\n    if (!this.#annotationCanvasMap) {\n      return;\n    }\n    const layer = this.div;\n    for (const [id, canvas] of this.#annotationCanvasMap) {\n      const element = layer.querySelector(`[data-annotation-id=\"${id}\"]`);\n      if (!element) {\n        continue;\n      }\n      canvas.className = \"annotationContent\";\n      const {\n        firstChild\n      } = element;\n      if (!firstChild) {\n        element.append(canvas);\n      } else if (firstChild.nodeName === \"CANVAS\") {\n        firstChild.replaceWith(canvas);\n      } else if (!firstChild.classList.contains(\"annotationContent\")) {\n        firstChild.before(canvas);\n      } else {\n        firstChild.after(canvas);\n      }\n    }\n    this.#annotationCanvasMap.clear();\n  }\n  getEditableAnnotations() {\n    return Array.from(this.#editableAnnotations.values());\n  }\n  getEditableAnnotation(id) {\n    return this.#editableAnnotations.get(id);\n  }\n}\n\n\n/***/ }),\n\n/***/ 792:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnnotationStorage: () => (/* binding */ AnnotationStorage),\n/* harmony export */   PrintAnnotationStorage: () => (/* binding */ PrintAnnotationStorage),\n/* harmony export */   SerializableEmpty: () => (/* binding */ SerializableEmpty)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _editor_editor_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(310);\n/* harmony import */ var _shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(651);\n\n\n\nconst SerializableEmpty = Object.freeze({\n  map: null,\n  hash: \"\",\n  transfer: undefined\n});\nclass AnnotationStorage {\n  #modified = false;\n  #storage = new Map();\n  constructor() {\n    this.onSetModified = null;\n    this.onResetModified = null;\n    this.onAnnotationEditor = null;\n  }\n  getValue(key, defaultValue) {\n    const value = this.#storage.get(key);\n    if (value === undefined) {\n      return defaultValue;\n    }\n    return Object.assign(defaultValue, value);\n  }\n  getRawValue(key) {\n    return this.#storage.get(key);\n  }\n  remove(key) {\n    this.#storage.delete(key);\n    if (this.#storage.size === 0) {\n      this.resetModified();\n    }\n    if (typeof this.onAnnotationEditor === \"function\") {\n      for (const value of this.#storage.values()) {\n        if (value instanceof _editor_editor_js__WEBPACK_IMPORTED_MODULE_1__.AnnotationEditor) {\n          return;\n        }\n      }\n      this.onAnnotationEditor(null);\n    }\n  }\n  setValue(key, value) {\n    const obj = this.#storage.get(key);\n    let modified = false;\n    if (obj !== undefined) {\n      for (const [entry, val] of Object.entries(value)) {\n        if (obj[entry] !== val) {\n          modified = true;\n          obj[entry] = val;\n        }\n      }\n    } else {\n      modified = true;\n      this.#storage.set(key, value);\n    }\n    if (modified) {\n      this.#setModified();\n    }\n    if (value instanceof _editor_editor_js__WEBPACK_IMPORTED_MODULE_1__.AnnotationEditor && typeof this.onAnnotationEditor === \"function\") {\n      this.onAnnotationEditor(value.constructor._type);\n    }\n  }\n  has(key) {\n    return this.#storage.has(key);\n  }\n  getAll() {\n    return this.#storage.size > 0 ? (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.objectFromMap)(this.#storage) : null;\n  }\n  setAll(obj) {\n    for (const [key, val] of Object.entries(obj)) {\n      this.setValue(key, val);\n    }\n  }\n  get size() {\n    return this.#storage.size;\n  }\n  #setModified() {\n    if (!this.#modified) {\n      this.#modified = true;\n      if (typeof this.onSetModified === \"function\") {\n        this.onSetModified();\n      }\n    }\n  }\n  resetModified() {\n    if (this.#modified) {\n      this.#modified = false;\n      if (typeof this.onResetModified === \"function\") {\n        this.onResetModified();\n      }\n    }\n  }\n  get print() {\n    return new PrintAnnotationStorage(this);\n  }\n  get serializable() {\n    if (this.#storage.size === 0) {\n      return SerializableEmpty;\n    }\n    const map = new Map(),\n      hash = new _shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_2__.MurmurHash3_64(),\n      transfer = [];\n    const context = Object.create(null);\n    let hasBitmap = false;\n    for (const [key, val] of this.#storage) {\n      const serialized = val instanceof _editor_editor_js__WEBPACK_IMPORTED_MODULE_1__.AnnotationEditor ? val.serialize(false, context) : val;\n      if (serialized) {\n        map.set(key, serialized);\n        hash.update(`${key}:${JSON.stringify(serialized)}`);\n        hasBitmap ||= !!serialized.bitmap;\n      }\n    }\n    if (hasBitmap) {\n      for (const value of map.values()) {\n        if (value.bitmap) {\n          transfer.push(value.bitmap);\n        }\n      }\n    }\n    return map.size > 0 ? {\n      map,\n      hash: hash.hexdigest(),\n      transfer\n    } : SerializableEmpty;\n  }\n  get editorStats() {\n    let stats = null;\n    const typeToEditor = new Map();\n    for (const value of this.#storage.values()) {\n      if (!(value instanceof _editor_editor_js__WEBPACK_IMPORTED_MODULE_1__.AnnotationEditor)) {\n        continue;\n      }\n      const editorStats = value.telemetryFinalData;\n      if (!editorStats) {\n        continue;\n      }\n      const {\n        type\n      } = editorStats;\n      if (!typeToEditor.has(type)) {\n        typeToEditor.set(type, Object.getPrototypeOf(value).constructor);\n      }\n      stats ||= Object.create(null);\n      const map = stats[type] ||= new Map();\n      for (const [key, val] of Object.entries(editorStats)) {\n        if (key === \"type\") {\n          continue;\n        }\n        let counters = map.get(key);\n        if (!counters) {\n          counters = new Map();\n          map.set(key, counters);\n        }\n        const count = counters.get(val) ?? 0;\n        counters.set(val, count + 1);\n      }\n    }\n    for (const [type, editor] of typeToEditor) {\n      stats[type] = editor.computeTelemetryFinalData(stats[type]);\n    }\n    return stats;\n  }\n}\nclass PrintAnnotationStorage extends AnnotationStorage {\n  #serializable;\n  constructor(parent) {\n    super();\n    const {\n      map,\n      hash,\n      transfer\n    } = parent.serializable;\n    const clone = structuredClone(map, transfer ? {\n      transfer\n    } : null);\n    this.#serializable = {\n      map: clone,\n      hash,\n      transfer\n    };\n  }\n  get print() {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Should not call PrintAnnotationStorage.print\");\n  }\n  get serializable() {\n    return this.#serializable;\n  }\n}\n\n\n/***/ }),\n\n/***/ 831:\n/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFDataRangeTransport: () => (/* binding */ PDFDataRangeTransport),\n/* harmony export */   PDFWorker: () => (/* binding */ PDFWorker),\n/* harmony export */   build: () => (/* binding */ build),\n/* harmony export */   getDocument: () => (/* binding */ getDocument),\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\n/* unused harmony exports DefaultCanvasFactory, DefaultCMapReaderFactory, DefaultFilterFactory, DefaultStandardFontDataFactory, LoopbackPort, PDFDocumentLoadingTask, PDFDocumentProxy, PDFPageProxy, PDFWorkerUtil, RenderTask */\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _annotation_storage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(792);\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(419);\n/* harmony import */ var _font_loader_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(10);\n/* harmony import */ var display_node_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(573);\n/* harmony import */ var _canvas_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(923);\n/* harmony import */ var _text_layer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(814);\n/* harmony import */ var _worker_options_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(164);\n/* harmony import */ var _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(178);\n/* harmony import */ var _metadata_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(62);\n/* harmony import */ var _optional_content_config_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(626);\n/* harmony import */ var _transport_stream_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(585);\n/* harmony import */ var display_fetch_stream__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(94);\n/* harmony import */ var display_network__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(457);\n/* harmony import */ var display_node_stream__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(786);\n/* harmony import */ var _xfa_text_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(50);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([display_node_utils__WEBPACK_IMPORTED_MODULE_4__, display_node_stream__WEBPACK_IMPORTED_MODULE_13__]);\n([display_node_utils__WEBPACK_IMPORTED_MODULE_4__, display_node_stream__WEBPACK_IMPORTED_MODULE_13__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst DEFAULT_RANGE_CHUNK_SIZE = 65536;\nconst RENDERING_CANCELLED_TIMEOUT = 100;\nconst DELAYED_CLEANUP_TIMEOUT = 5000;\nconst DefaultCanvasFactory = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS ? display_node_utils__WEBPACK_IMPORTED_MODULE_4__.NodeCanvasFactory : _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMCanvasFactory;\nconst DefaultCMapReaderFactory = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS ? display_node_utils__WEBPACK_IMPORTED_MODULE_4__.NodeCMapReaderFactory : _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMCMapReaderFactory;\nconst DefaultFilterFactory = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS ? display_node_utils__WEBPACK_IMPORTED_MODULE_4__.NodeFilterFactory : _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMFilterFactory;\nconst DefaultStandardFontDataFactory = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS ? display_node_utils__WEBPACK_IMPORTED_MODULE_4__.NodeStandardFontDataFactory : _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMStandardFontDataFactory;\nfunction getDocument(src) {\n  if (typeof src === \"string\" || src instanceof URL) {\n    src = {\n      url: src\n    };\n  } else if (src instanceof ArrayBuffer || ArrayBuffer.isView(src)) {\n    src = {\n      data: src\n    };\n  }\n  if (typeof src !== \"object\") {\n    throw new Error(\"Invalid parameter in getDocument, need parameter object.\");\n  }\n  if (!src.url && !src.data && !src.range) {\n    throw new Error(\"Invalid parameter object: need either .data, .range or .url\");\n  }\n  const task = new PDFDocumentLoadingTask();\n  const {\n    docId\n  } = task;\n  const url = src.url ? getUrlProp(src.url) : null;\n  const data = src.data ? getDataProp(src.data) : null;\n  const httpHeaders = src.httpHeaders || null;\n  const withCredentials = src.withCredentials === true;\n  const password = src.password ?? null;\n  const rangeTransport = src.range instanceof PDFDataRangeTransport ? src.range : null;\n  const rangeChunkSize = Number.isInteger(src.rangeChunkSize) && src.rangeChunkSize > 0 ? src.rangeChunkSize : DEFAULT_RANGE_CHUNK_SIZE;\n  let worker = src.worker instanceof PDFWorker ? src.worker : null;\n  const verbosity = src.verbosity;\n  const docBaseUrl = typeof src.docBaseUrl === \"string\" && !(0,_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isDataScheme)(src.docBaseUrl) ? src.docBaseUrl : null;\n  const cMapUrl = typeof src.cMapUrl === \"string\" ? src.cMapUrl : null;\n  const cMapPacked = src.cMapPacked !== false;\n  const CMapReaderFactory = src.CMapReaderFactory || DefaultCMapReaderFactory;\n  const standardFontDataUrl = typeof src.standardFontDataUrl === \"string\" ? src.standardFontDataUrl : null;\n  const StandardFontDataFactory = src.StandardFontDataFactory || DefaultStandardFontDataFactory;\n  const ignoreErrors = src.stopAtErrors !== true;\n  const maxImageSize = Number.isInteger(src.maxImageSize) && src.maxImageSize > -1 ? src.maxImageSize : -1;\n  const isEvalSupported = src.isEvalSupported !== false;\n  const isOffscreenCanvasSupported = typeof src.isOffscreenCanvasSupported === \"boolean\" ? src.isOffscreenCanvasSupported : !_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS;\n  const canvasMaxAreaInBytes = Number.isInteger(src.canvasMaxAreaInBytes) ? src.canvasMaxAreaInBytes : -1;\n  const disableFontFace = typeof src.disableFontFace === \"boolean\" ? src.disableFontFace : _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS;\n  const fontExtraProperties = src.fontExtraProperties === true;\n  const enableXfa = src.enableXfa === true;\n  const ownerDocument = src.ownerDocument || globalThis.document;\n  const disableRange = src.disableRange === true;\n  const disableStream = src.disableStream === true;\n  const disableAutoFetch = src.disableAutoFetch === true;\n  const pdfBug = src.pdfBug === true;\n  const length = rangeTransport ? rangeTransport.length : src.length ?? NaN;\n  const useSystemFonts = typeof src.useSystemFonts === \"boolean\" ? src.useSystemFonts : !_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS && !disableFontFace;\n  const useWorkerFetch = typeof src.useWorkerFetch === \"boolean\" ? src.useWorkerFetch : CMapReaderFactory === _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMCMapReaderFactory && StandardFontDataFactory === _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMStandardFontDataFactory && cMapUrl && standardFontDataUrl && (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isValidFetchUrl)(cMapUrl, document.baseURI) && (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isValidFetchUrl)(standardFontDataUrl, document.baseURI);\n  const canvasFactory = src.canvasFactory || new DefaultCanvasFactory({\n    ownerDocument\n  });\n  const filterFactory = src.filterFactory || new DefaultFilterFactory({\n    docId,\n    ownerDocument\n  });\n  const styleElement = null;\n  (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.setVerbosityLevel)(verbosity);\n  const transportFactory = {\n    canvasFactory,\n    filterFactory\n  };\n  if (!useWorkerFetch) {\n    transportFactory.cMapReaderFactory = new CMapReaderFactory({\n      baseUrl: cMapUrl,\n      isCompressed: cMapPacked\n    });\n    transportFactory.standardFontDataFactory = new StandardFontDataFactory({\n      baseUrl: standardFontDataUrl\n    });\n  }\n  if (!worker) {\n    const workerParams = {\n      verbosity,\n      port: _worker_options_js__WEBPACK_IMPORTED_MODULE_14__.GlobalWorkerOptions.workerPort\n    };\n    worker = workerParams.port ? PDFWorker.fromPort(workerParams) : new PDFWorker(workerParams);\n    task._worker = worker;\n  }\n  const fetchDocParams = {\n    docId,\n    apiVersion: \"4.2.67\",\n    data,\n    password,\n    disableAutoFetch,\n    rangeChunkSize,\n    length,\n    docBaseUrl,\n    enableXfa,\n    evaluatorOptions: {\n      maxImageSize,\n      disableFontFace,\n      ignoreErrors,\n      isEvalSupported,\n      isOffscreenCanvasSupported,\n      canvasMaxAreaInBytes,\n      fontExtraProperties,\n      useSystemFonts,\n      cMapUrl: useWorkerFetch ? cMapUrl : null,\n      standardFontDataUrl: useWorkerFetch ? standardFontDataUrl : null\n    }\n  };\n  const transportParams = {\n    ignoreErrors,\n    disableFontFace,\n    fontExtraProperties,\n    enableXfa,\n    ownerDocument,\n    disableAutoFetch,\n    pdfBug,\n    styleElement\n  };\n  worker.promise.then(function () {\n    if (task.destroyed) {\n      throw new Error(\"Loading aborted\");\n    }\n    const workerIdPromise = _fetchDocument(worker, fetchDocParams);\n    const networkStreamPromise = new Promise(function (resolve) {\n      let networkStream;\n      if (rangeTransport) {\n        networkStream = new _transport_stream_js__WEBPACK_IMPORTED_MODULE_10__.PDFDataTransportStream(rangeTransport, {\n          disableRange,\n          disableStream\n        });\n      } else if (!data) {\n        const createPDFNetworkStream = params => {\n          if (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS) {\n            const isFetchSupported = function () {\n              return typeof fetch !== \"undefined\" && typeof Response !== \"undefined\" && \"body\" in Response.prototype;\n            };\n            return isFetchSupported() && (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isValidFetchUrl)(params.url) ? new display_fetch_stream__WEBPACK_IMPORTED_MODULE_11__.PDFFetchStream(params) : new display_node_stream__WEBPACK_IMPORTED_MODULE_13__.PDFNodeStream(params);\n          }\n          return (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isValidFetchUrl)(params.url) ? new display_fetch_stream__WEBPACK_IMPORTED_MODULE_11__.PDFFetchStream(params) : new display_network__WEBPACK_IMPORTED_MODULE_12__.PDFNetworkStream(params);\n        };\n        networkStream = createPDFNetworkStream({\n          url,\n          length,\n          httpHeaders,\n          withCredentials,\n          rangeChunkSize,\n          disableRange,\n          disableStream\n        });\n      }\n      resolve(networkStream);\n    });\n    return Promise.all([workerIdPromise, networkStreamPromise]).then(function ([workerId, networkStream]) {\n      if (task.destroyed) {\n        throw new Error(\"Loading aborted\");\n      }\n      const messageHandler = new _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__.MessageHandler(docId, workerId, worker.port);\n      const transport = new WorkerTransport(messageHandler, task, networkStream, transportParams, transportFactory);\n      task._transport = transport;\n      messageHandler.send(\"Ready\", null);\n    });\n  }).catch(task._capability.reject);\n  return task;\n}\nasync function _fetchDocument(worker, source) {\n  if (worker.destroyed) {\n    throw new Error(\"Worker was destroyed\");\n  }\n  const workerId = await worker.messageHandler.sendWithPromise(\"GetDocRequest\", source, source.data ? [source.data.buffer] : null);\n  if (worker.destroyed) {\n    throw new Error(\"Worker was destroyed\");\n  }\n  return workerId;\n}\nfunction getUrlProp(val) {\n  if (val instanceof URL) {\n    return val.href;\n  }\n  try {\n    return new URL(val, window.location).href;\n  } catch {\n    if (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS && typeof val === \"string\") {\n      return val;\n    }\n  }\n  throw new Error(\"Invalid PDF url data: \" + \"either string or URL-object is expected in the url property.\");\n}\nfunction getDataProp(val) {\n  if (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS && typeof Buffer !== \"undefined\" && val instanceof Buffer) {\n    throw new Error(\"Please provide binary data as `Uint8Array`, rather than `Buffer`.\");\n  }\n  if (val instanceof Uint8Array && val.byteLength === val.buffer.byteLength) {\n    return val;\n  }\n  if (typeof val === \"string\") {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.stringToBytes)(val);\n  }\n  if (val instanceof ArrayBuffer || ArrayBuffer.isView(val) || typeof val === \"object\" && !isNaN(val?.length)) {\n    return new Uint8Array(val);\n  }\n  throw new Error(\"Invalid PDF binary data: either TypedArray, \" + \"string, or array-like object is expected in the data property.\");\n}\nfunction isRefProxy(ref) {\n  return typeof ref === \"object\" && Number.isInteger(ref?.num) && ref.num >= 0 && Number.isInteger(ref?.gen) && ref.gen >= 0;\n}\nclass PDFDocumentLoadingTask {\n  static #docId = 0;\n  constructor() {\n    this._capability = Promise.withResolvers();\n    this._transport = null;\n    this._worker = null;\n    this.docId = `d${PDFDocumentLoadingTask.#docId++}`;\n    this.destroyed = false;\n    this.onPassword = null;\n    this.onProgress = null;\n  }\n  get promise() {\n    return this._capability.promise;\n  }\n  async destroy() {\n    this.destroyed = true;\n    try {\n      if (this._worker?.port) {\n        this._worker._pendingDestroy = true;\n      }\n      await this._transport?.destroy();\n    } catch (ex) {\n      if (this._worker?.port) {\n        delete this._worker._pendingDestroy;\n      }\n      throw ex;\n    }\n    this._transport = null;\n    if (this._worker) {\n      this._worker.destroy();\n      this._worker = null;\n    }\n  }\n}\nclass PDFDataRangeTransport {\n  constructor(length, initialData, progressiveDone = false, contentDispositionFilename = null) {\n    this.length = length;\n    this.initialData = initialData;\n    this.progressiveDone = progressiveDone;\n    this.contentDispositionFilename = contentDispositionFilename;\n    this._rangeListeners = [];\n    this._progressListeners = [];\n    this._progressiveReadListeners = [];\n    this._progressiveDoneListeners = [];\n    this._readyCapability = Promise.withResolvers();\n  }\n  addRangeListener(listener) {\n    this._rangeListeners.push(listener);\n  }\n  addProgressListener(listener) {\n    this._progressListeners.push(listener);\n  }\n  addProgressiveReadListener(listener) {\n    this._progressiveReadListeners.push(listener);\n  }\n  addProgressiveDoneListener(listener) {\n    this._progressiveDoneListeners.push(listener);\n  }\n  onDataRange(begin, chunk) {\n    for (const listener of this._rangeListeners) {\n      listener(begin, chunk);\n    }\n  }\n  onDataProgress(loaded, total) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressListeners) {\n        listener(loaded, total);\n      }\n    });\n  }\n  onDataProgressiveRead(chunk) {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveReadListeners) {\n        listener(chunk);\n      }\n    });\n  }\n  onDataProgressiveDone() {\n    this._readyCapability.promise.then(() => {\n      for (const listener of this._progressiveDoneListeners) {\n        listener();\n      }\n    });\n  }\n  transportReady() {\n    this._readyCapability.resolve();\n  }\n  requestDataRange(begin, end) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Abstract method PDFDataRangeTransport.requestDataRange\");\n  }\n  abort() {}\n}\nclass PDFDocumentProxy {\n  constructor(pdfInfo, transport) {\n    this._pdfInfo = pdfInfo;\n    this._transport = transport;\n  }\n  get annotationStorage() {\n    return this._transport.annotationStorage;\n  }\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n  get numPages() {\n    return this._pdfInfo.numPages;\n  }\n  get fingerprints() {\n    return this._pdfInfo.fingerprints;\n  }\n  get isPureXfa() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n  get allXfaHtml() {\n    return this._transport._htmlForXfa;\n  }\n  getPage(pageNumber) {\n    return this._transport.getPage(pageNumber);\n  }\n  getPageIndex(ref) {\n    return this._transport.getPageIndex(ref);\n  }\n  getDestinations() {\n    return this._transport.getDestinations();\n  }\n  getDestination(id) {\n    return this._transport.getDestination(id);\n  }\n  getPageLabels() {\n    return this._transport.getPageLabels();\n  }\n  getPageLayout() {\n    return this._transport.getPageLayout();\n  }\n  getPageMode() {\n    return this._transport.getPageMode();\n  }\n  getViewerPreferences() {\n    return this._transport.getViewerPreferences();\n  }\n  getOpenAction() {\n    return this._transport.getOpenAction();\n  }\n  getAttachments() {\n    return this._transport.getAttachments();\n  }\n  getJSActions() {\n    return this._transport.getDocJSActions();\n  }\n  getOutline() {\n    return this._transport.getOutline();\n  }\n  getOptionalContentConfig({\n    intent = \"display\"\n  } = {}) {\n    const {\n      renderingIntent\n    } = this._transport.getRenderingIntent(intent);\n    return this._transport.getOptionalContentConfig(renderingIntent);\n  }\n  getPermissions() {\n    return this._transport.getPermissions();\n  }\n  getMetadata() {\n    return this._transport.getMetadata();\n  }\n  getMarkInfo() {\n    return this._transport.getMarkInfo();\n  }\n  getData() {\n    return this._transport.getData();\n  }\n  saveDocument() {\n    return this._transport.saveDocument();\n  }\n  getDownloadInfo() {\n    return this._transport.downloadInfoCapability.promise;\n  }\n  cleanup(keepLoadedFonts = false) {\n    return this._transport.startCleanup(keepLoadedFonts || this.isPureXfa);\n  }\n  destroy() {\n    return this.loadingTask.destroy();\n  }\n  cachedPageNumber(ref) {\n    return this._transport.cachedPageNumber(ref);\n  }\n  get loadingParams() {\n    return this._transport.loadingParams;\n  }\n  get loadingTask() {\n    return this._transport.loadingTask;\n  }\n  getFieldObjects() {\n    return this._transport.getFieldObjects();\n  }\n  hasJSActions() {\n    return this._transport.hasJSActions();\n  }\n  getCalculationOrderIds() {\n    return this._transport.getCalculationOrderIds();\n  }\n}\nclass PDFPageProxy {\n  #delayedCleanupTimeout = null;\n  #pendingCleanup = false;\n  constructor(pageIndex, pageInfo, transport, pdfBug = false) {\n    this._pageIndex = pageIndex;\n    this._pageInfo = pageInfo;\n    this._transport = transport;\n    this._stats = pdfBug ? new _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.StatTimer() : null;\n    this._pdfBug = pdfBug;\n    this.commonObjs = transport.commonObjs;\n    this.objs = new PDFObjects();\n    this._maybeCleanupAfterRender = false;\n    this._intentStates = new Map();\n    this.destroyed = false;\n  }\n  get pageNumber() {\n    return this._pageIndex + 1;\n  }\n  get rotate() {\n    return this._pageInfo.rotate;\n  }\n  get ref() {\n    return this._pageInfo.ref;\n  }\n  get userUnit() {\n    return this._pageInfo.userUnit;\n  }\n  get view() {\n    return this._pageInfo.view;\n  }\n  getViewport({\n    scale,\n    rotation = this.rotate,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false\n  } = {}) {\n    return new _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.PageViewport({\n      viewBox: this.view,\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip\n    });\n  }\n  getAnnotations({\n    intent = \"display\"\n  } = {}) {\n    const {\n      renderingIntent\n    } = this._transport.getRenderingIntent(intent);\n    return this._transport.getAnnotations(this._pageIndex, renderingIntent);\n  }\n  getJSActions() {\n    return this._transport.getPageJSActions(this._pageIndex);\n  }\n  get filterFactory() {\n    return this._transport.filterFactory;\n  }\n  get isPureXfa() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"isPureXfa\", !!this._transport._htmlForXfa);\n  }\n  async getXfa() {\n    return this._transport._htmlForXfa?.children[this._pageIndex] || null;\n  }\n  render({\n    canvasContext,\n    viewport,\n    intent = \"display\",\n    annotationMode = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE,\n    transform = null,\n    background = null,\n    optionalContentConfigPromise = null,\n    annotationCanvasMap = null,\n    pageColors = null,\n    printAnnotationStorage = null\n  }) {\n    this._stats?.time(\"Overall\");\n    const intentArgs = this._transport.getRenderingIntent(intent, annotationMode, printAnnotationStorage);\n    const {\n      renderingIntent,\n      cacheKey\n    } = intentArgs;\n    this.#pendingCleanup = false;\n    this.#abortDelayedCleanup();\n    optionalContentConfigPromise ||= this._transport.getOptionalContentConfig(renderingIntent);\n    let intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(cacheKey, intentState);\n    }\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n    const intentPrint = !!(renderingIntent & _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.PRINT);\n    if (!intentState.displayReadyCapability) {\n      intentState.displayReadyCapability = Promise.withResolvers();\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null\n      };\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n    const complete = error => {\n      intentState.renderTasks.delete(internalRenderTask);\n      if (this._maybeCleanupAfterRender || intentPrint) {\n        this.#pendingCleanup = true;\n      }\n      this.#tryCleanup(!intentPrint);\n      if (error) {\n        internalRenderTask.capability.reject(error);\n        this._abortOperatorList({\n          intentState,\n          reason: error instanceof Error ? error : new Error(error)\n        });\n      } else {\n        internalRenderTask.capability.resolve();\n      }\n      this._stats?.timeEnd(\"Rendering\");\n      this._stats?.timeEnd(\"Overall\");\n    };\n    const internalRenderTask = new InternalRenderTask({\n      callback: complete,\n      params: {\n        canvasContext,\n        viewport,\n        transform,\n        background\n      },\n      objs: this.objs,\n      commonObjs: this.commonObjs,\n      annotationCanvasMap,\n      operatorList: intentState.operatorList,\n      pageIndex: this._pageIndex,\n      canvasFactory: this._transport.canvasFactory,\n      filterFactory: this._transport.filterFactory,\n      useRequestAnimationFrame: !intentPrint,\n      pdfBug: this._pdfBug,\n      pageColors\n    });\n    (intentState.renderTasks ||= new Set()).add(internalRenderTask);\n    const renderTask = internalRenderTask.task;\n    Promise.all([intentState.displayReadyCapability.promise, optionalContentConfigPromise]).then(([transparency, optionalContentConfig]) => {\n      if (this.destroyed) {\n        complete();\n        return;\n      }\n      this._stats?.time(\"Rendering\");\n      if (!(optionalContentConfig.renderingIntent & renderingIntent)) {\n        throw new Error(\"Must use the same `intent`-argument when calling the `PDFPageProxy.render` \" + \"and `PDFDocumentProxy.getOptionalContentConfig` methods.\");\n      }\n      internalRenderTask.initializeGraphics({\n        transparency,\n        optionalContentConfig\n      });\n      internalRenderTask.operatorListChanged();\n    }).catch(complete);\n    return renderTask;\n  }\n  getOperatorList({\n    intent = \"display\",\n    annotationMode = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE,\n    printAnnotationStorage = null\n  } = {}) {\n    function operatorListChanged() {\n      if (intentState.operatorList.lastChunk) {\n        intentState.opListReadCapability.resolve(intentState.operatorList);\n        intentState.renderTasks.delete(opListTask);\n      }\n    }\n    const intentArgs = this._transport.getRenderingIntent(intent, annotationMode, printAnnotationStorage, true);\n    let intentState = this._intentStates.get(intentArgs.cacheKey);\n    if (!intentState) {\n      intentState = Object.create(null);\n      this._intentStates.set(intentArgs.cacheKey, intentState);\n    }\n    let opListTask;\n    if (!intentState.opListReadCapability) {\n      opListTask = Object.create(null);\n      opListTask.operatorListChanged = operatorListChanged;\n      intentState.opListReadCapability = Promise.withResolvers();\n      (intentState.renderTasks ||= new Set()).add(opListTask);\n      intentState.operatorList = {\n        fnArray: [],\n        argsArray: [],\n        lastChunk: false,\n        separateAnnots: null\n      };\n      this._stats?.time(\"Page Request\");\n      this._pumpOperatorList(intentArgs);\n    }\n    return intentState.opListReadCapability.promise;\n  }\n  streamTextContent({\n    includeMarkedContent = false,\n    disableNormalization = false\n  } = {}) {\n    const TEXT_CONTENT_CHUNK_SIZE = 100;\n    return this._transport.messageHandler.sendWithStream(\"GetTextContent\", {\n      pageIndex: this._pageIndex,\n      includeMarkedContent: includeMarkedContent === true,\n      disableNormalization: disableNormalization === true\n    }, {\n      highWaterMark: TEXT_CONTENT_CHUNK_SIZE,\n      size(textContent) {\n        return textContent.items.length;\n      }\n    });\n  }\n  getTextContent(params = {}) {\n    if (this._transport._htmlForXfa) {\n      return this.getXfa().then(xfa => _xfa_text_js__WEBPACK_IMPORTED_MODULE_15__.XfaText.textContent(xfa));\n    }\n    const readableStream = this.streamTextContent(params);\n    return new Promise(function (resolve, reject) {\n      function pump() {\n        reader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            resolve(textContent);\n            return;\n          }\n          Object.assign(textContent.styles, value.styles);\n          textContent.items.push(...value.items);\n          pump();\n        }, reject);\n      }\n      const reader = readableStream.getReader();\n      const textContent = {\n        items: [],\n        styles: Object.create(null)\n      };\n      pump();\n    });\n  }\n  getStructTree() {\n    return this._transport.getStructTree(this._pageIndex);\n  }\n  _destroy() {\n    this.destroyed = true;\n    const waitOn = [];\n    for (const intentState of this._intentStates.values()) {\n      this._abortOperatorList({\n        intentState,\n        reason: new Error(\"Page was destroyed.\"),\n        force: true\n      });\n      if (intentState.opListReadCapability) {\n        continue;\n      }\n      for (const internalRenderTask of intentState.renderTasks) {\n        waitOn.push(internalRenderTask.completed);\n        internalRenderTask.cancel();\n      }\n    }\n    this.objs.clear();\n    this.#pendingCleanup = false;\n    this.#abortDelayedCleanup();\n    return Promise.all(waitOn);\n  }\n  cleanup(resetStats = false) {\n    this.#pendingCleanup = true;\n    const success = this.#tryCleanup(false);\n    if (resetStats && success) {\n      this._stats &&= new _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.StatTimer();\n    }\n    return success;\n  }\n  #tryCleanup(delayed = false) {\n    this.#abortDelayedCleanup();\n    if (!this.#pendingCleanup || this.destroyed) {\n      return false;\n    }\n    if (delayed) {\n      this.#delayedCleanupTimeout = setTimeout(() => {\n        this.#delayedCleanupTimeout = null;\n        this.#tryCleanup(false);\n      }, DELAYED_CLEANUP_TIMEOUT);\n      return false;\n    }\n    for (const {\n      renderTasks,\n      operatorList\n    } of this._intentStates.values()) {\n      if (renderTasks.size > 0 || !operatorList.lastChunk) {\n        return false;\n      }\n    }\n    this._intentStates.clear();\n    this.objs.clear();\n    this.#pendingCleanup = false;\n    return true;\n  }\n  #abortDelayedCleanup() {\n    if (this.#delayedCleanupTimeout) {\n      clearTimeout(this.#delayedCleanupTimeout);\n      this.#delayedCleanupTimeout = null;\n    }\n  }\n  _startRenderPage(transparency, cacheKey) {\n    const intentState = this._intentStates.get(cacheKey);\n    if (!intentState) {\n      return;\n    }\n    this._stats?.timeEnd(\"Page Request\");\n    intentState.displayReadyCapability?.resolve(transparency);\n  }\n  _renderPageChunk(operatorListChunk, intentState) {\n    for (let i = 0, ii = operatorListChunk.length; i < ii; i++) {\n      intentState.operatorList.fnArray.push(operatorListChunk.fnArray[i]);\n      intentState.operatorList.argsArray.push(operatorListChunk.argsArray[i]);\n    }\n    intentState.operatorList.lastChunk = operatorListChunk.lastChunk;\n    intentState.operatorList.separateAnnots = operatorListChunk.separateAnnots;\n    for (const internalRenderTask of intentState.renderTasks) {\n      internalRenderTask.operatorListChanged();\n    }\n    if (operatorListChunk.lastChunk) {\n      this.#tryCleanup(true);\n    }\n  }\n  _pumpOperatorList({\n    renderingIntent,\n    cacheKey,\n    annotationStorageSerializable\n  }) {\n    const {\n      map,\n      transfer\n    } = annotationStorageSerializable;\n    const readableStream = this._transport.messageHandler.sendWithStream(\"GetOperatorList\", {\n      pageIndex: this._pageIndex,\n      intent: renderingIntent,\n      cacheKey,\n      annotationStorage: map\n    }, transfer);\n    const reader = readableStream.getReader();\n    const intentState = this._intentStates.get(cacheKey);\n    intentState.streamReader = reader;\n    const pump = () => {\n      reader.read().then(({\n        value,\n        done\n      }) => {\n        if (done) {\n          intentState.streamReader = null;\n          return;\n        }\n        if (this._transport.destroyed) {\n          return;\n        }\n        this._renderPageChunk(value, intentState);\n        pump();\n      }, reason => {\n        intentState.streamReader = null;\n        if (this._transport.destroyed) {\n          return;\n        }\n        if (intentState.operatorList) {\n          intentState.operatorList.lastChunk = true;\n          for (const internalRenderTask of intentState.renderTasks) {\n            internalRenderTask.operatorListChanged();\n          }\n          this.#tryCleanup(true);\n        }\n        if (intentState.displayReadyCapability) {\n          intentState.displayReadyCapability.reject(reason);\n        } else if (intentState.opListReadCapability) {\n          intentState.opListReadCapability.reject(reason);\n        } else {\n          throw reason;\n        }\n      });\n    };\n    pump();\n  }\n  _abortOperatorList({\n    intentState,\n    reason,\n    force = false\n  }) {\n    if (!intentState.streamReader) {\n      return;\n    }\n    if (intentState.streamReaderCancelTimeout) {\n      clearTimeout(intentState.streamReaderCancelTimeout);\n      intentState.streamReaderCancelTimeout = null;\n    }\n    if (!force) {\n      if (intentState.renderTasks.size > 0) {\n        return;\n      }\n      if (reason instanceof _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.RenderingCancelledException) {\n        let delay = RENDERING_CANCELLED_TIMEOUT;\n        if (reason.extraDelay > 0 && reason.extraDelay < 1000) {\n          delay += reason.extraDelay;\n        }\n        intentState.streamReaderCancelTimeout = setTimeout(() => {\n          intentState.streamReaderCancelTimeout = null;\n          this._abortOperatorList({\n            intentState,\n            reason,\n            force: true\n          });\n        }, delay);\n        return;\n      }\n    }\n    intentState.streamReader.cancel(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(reason.message)).catch(() => {});\n    intentState.streamReader = null;\n    if (this._transport.destroyed) {\n      return;\n    }\n    for (const [curCacheKey, curIntentState] of this._intentStates) {\n      if (curIntentState === intentState) {\n        this._intentStates.delete(curCacheKey);\n        break;\n      }\n    }\n    this.cleanup();\n  }\n  get stats() {\n    return this._stats;\n  }\n}\nclass LoopbackPort {\n  #listeners = new Set();\n  #deferred = Promise.resolve();\n  postMessage(obj, transfer) {\n    const event = {\n      data: structuredClone(obj, transfer ? {\n        transfer\n      } : null)\n    };\n    this.#deferred.then(() => {\n      for (const listener of this.#listeners) {\n        listener.call(this, event);\n      }\n    });\n  }\n  addEventListener(name, listener) {\n    this.#listeners.add(listener);\n  }\n  removeEventListener(name, listener) {\n    this.#listeners.delete(listener);\n  }\n  terminate() {\n    this.#listeners.clear();\n  }\n}\nconst PDFWorkerUtil = {\n  isWorkerDisabled: false,\n  fakeWorkerId: 0\n};\n{\n  if (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS) {\n    PDFWorkerUtil.isWorkerDisabled = true;\n    _worker_options_js__WEBPACK_IMPORTED_MODULE_14__.GlobalWorkerOptions.workerSrc ||= \"./pdf.worker.mjs\";\n  }\n  PDFWorkerUtil.isSameOrigin = function (baseUrl, otherUrl) {\n    let base;\n    try {\n      base = new URL(baseUrl);\n      if (!base.origin || base.origin === \"null\") {\n        return false;\n      }\n    } catch {\n      return false;\n    }\n    const other = new URL(otherUrl, base);\n    return base.origin === other.origin;\n  };\n  PDFWorkerUtil.createCDNWrapper = function (url) {\n    const wrapper = `await import(\"${url}\");`;\n    return URL.createObjectURL(new Blob([wrapper], {\n      type: \"text/javascript\"\n    }));\n  };\n}\nclass PDFWorker {\n  static #workerPorts;\n  constructor({\n    name = null,\n    port = null,\n    verbosity = (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.getVerbosityLevel)()\n  } = {}) {\n    this.name = name;\n    this.destroyed = false;\n    this.verbosity = verbosity;\n    this._readyCapability = Promise.withResolvers();\n    this._port = null;\n    this._webWorker = null;\n    this._messageHandler = null;\n    if (port) {\n      if (PDFWorker.#workerPorts?.has(port)) {\n        throw new Error(\"Cannot use more than one PDFWorker per port.\");\n      }\n      (PDFWorker.#workerPorts ||= new WeakMap()).set(port, this);\n      this._initializeFromPort(port);\n      return;\n    }\n    this._initialize();\n  }\n  get promise() {\n    return this._readyCapability.promise;\n  }\n  get port() {\n    return this._port;\n  }\n  get messageHandler() {\n    return this._messageHandler;\n  }\n  _initializeFromPort(port) {\n    this._port = port;\n    this._messageHandler = new _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__.MessageHandler(\"main\", \"worker\", port);\n    this._messageHandler.on(\"ready\", function () {});\n    this._readyCapability.resolve();\n    this._messageHandler.send(\"configure\", {\n      verbosity: this.verbosity\n    });\n  }\n  _initialize() {\n    if (!PDFWorkerUtil.isWorkerDisabled && !PDFWorker.#mainThreadWorkerMessageHandler) {\n      let {\n        workerSrc\n      } = PDFWorker;\n      try {\n        if (!PDFWorkerUtil.isSameOrigin(window.location.href, workerSrc)) {\n          workerSrc = PDFWorkerUtil.createCDNWrapper(new URL(workerSrc, window.location).href);\n        }\n        const worker = new Worker(workerSrc, {\n          type: \"module\"\n        });\n        const messageHandler = new _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__.MessageHandler(\"main\", \"worker\", worker);\n        const terminateEarly = () => {\n          worker.removeEventListener(\"error\", onWorkerError);\n          messageHandler.destroy();\n          worker.terminate();\n          if (this.destroyed) {\n            this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n          } else {\n            this._setupFakeWorker();\n          }\n        };\n        const onWorkerError = () => {\n          if (!this._webWorker) {\n            terminateEarly();\n          }\n        };\n        worker.addEventListener(\"error\", onWorkerError);\n        messageHandler.on(\"test\", data => {\n          worker.removeEventListener(\"error\", onWorkerError);\n          if (this.destroyed) {\n            terminateEarly();\n            return;\n          }\n          if (data) {\n            this._messageHandler = messageHandler;\n            this._port = worker;\n            this._webWorker = worker;\n            this._readyCapability.resolve();\n            messageHandler.send(\"configure\", {\n              verbosity: this.verbosity\n            });\n          } else {\n            this._setupFakeWorker();\n            messageHandler.destroy();\n            worker.terminate();\n          }\n        });\n        messageHandler.on(\"ready\", data => {\n          worker.removeEventListener(\"error\", onWorkerError);\n          if (this.destroyed) {\n            terminateEarly();\n            return;\n          }\n          try {\n            sendTest();\n          } catch {\n            this._setupFakeWorker();\n          }\n        });\n        const sendTest = () => {\n          const testObj = new Uint8Array();\n          messageHandler.send(\"test\", testObj, [testObj.buffer]);\n        };\n        sendTest();\n        return;\n      } catch {\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.info)(\"The worker has been disabled.\");\n      }\n    }\n    this._setupFakeWorker();\n  }\n  _setupFakeWorker() {\n    if (!PDFWorkerUtil.isWorkerDisabled) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(\"Setting up fake worker.\");\n      PDFWorkerUtil.isWorkerDisabled = true;\n    }\n    PDFWorker._setupFakeWorkerGlobal.then(WorkerMessageHandler => {\n      if (this.destroyed) {\n        this._readyCapability.reject(new Error(\"Worker was destroyed\"));\n        return;\n      }\n      const port = new LoopbackPort();\n      this._port = port;\n      const id = `fake${PDFWorkerUtil.fakeWorkerId++}`;\n      const workerHandler = new _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__.MessageHandler(id + \"_worker\", id, port);\n      WorkerMessageHandler.setup(workerHandler, port);\n      const messageHandler = new _shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__.MessageHandler(id, id + \"_worker\", port);\n      this._messageHandler = messageHandler;\n      this._readyCapability.resolve();\n      messageHandler.send(\"configure\", {\n        verbosity: this.verbosity\n      });\n    }).catch(reason => {\n      this._readyCapability.reject(new Error(`Setting up fake worker failed: \"${reason.message}\".`));\n    });\n  }\n  destroy() {\n    this.destroyed = true;\n    if (this._webWorker) {\n      this._webWorker.terminate();\n      this._webWorker = null;\n    }\n    PDFWorker.#workerPorts?.delete(this._port);\n    this._port = null;\n    if (this._messageHandler) {\n      this._messageHandler.destroy();\n      this._messageHandler = null;\n    }\n  }\n  static fromPort(params) {\n    if (!params?.port) {\n      throw new Error(\"PDFWorker.fromPort - invalid method signature.\");\n    }\n    const cachedPort = this.#workerPorts?.get(params.port);\n    if (cachedPort) {\n      if (cachedPort._pendingDestroy) {\n        throw new Error(\"PDFWorker.fromPort - the worker is being destroyed.\\n\" + \"Please remember to await `PDFDocumentLoadingTask.destroy()`-calls.\");\n      }\n      return cachedPort;\n    }\n    return new PDFWorker(params);\n  }\n  static get workerSrc() {\n    if (_worker_options_js__WEBPACK_IMPORTED_MODULE_14__.GlobalWorkerOptions.workerSrc) {\n      return _worker_options_js__WEBPACK_IMPORTED_MODULE_14__.GlobalWorkerOptions.workerSrc;\n    }\n    throw new Error('No \"GlobalWorkerOptions.workerSrc\" specified.');\n  }\n  static get #mainThreadWorkerMessageHandler() {\n    try {\n      return globalThis.pdfjsWorker?.WorkerMessageHandler || null;\n    } catch {\n      return null;\n    }\n  }\n  static get _setupFakeWorkerGlobal() {\n    const loader = async () => {\n      if (this.#mainThreadWorkerMessageHandler) {\n        return this.#mainThreadWorkerMessageHandler;\n      }\n      const worker = await import( /*webpackIgnore: true*/this.workerSrc);\n      return worker.WorkerMessageHandler;\n    };\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"_setupFakeWorkerGlobal\", loader());\n  }\n}\nclass WorkerTransport {\n  #methodPromises = new Map();\n  #pageCache = new Map();\n  #pagePromises = new Map();\n  #pageRefCache = new Map();\n  #passwordCapability = null;\n  constructor(messageHandler, loadingTask, networkStream, params, factory) {\n    this.messageHandler = messageHandler;\n    this.loadingTask = loadingTask;\n    this.commonObjs = new PDFObjects();\n    this.fontLoader = new _font_loader_js__WEBPACK_IMPORTED_MODULE_3__.FontLoader({\n      ownerDocument: params.ownerDocument,\n      styleElement: params.styleElement\n    });\n    this._params = params;\n    this.canvasFactory = factory.canvasFactory;\n    this.filterFactory = factory.filterFactory;\n    this.cMapReaderFactory = factory.cMapReaderFactory;\n    this.standardFontDataFactory = factory.standardFontDataFactory;\n    this.destroyed = false;\n    this.destroyCapability = null;\n    this._networkStream = networkStream;\n    this._fullReader = null;\n    this._lastProgress = null;\n    this.downloadInfoCapability = Promise.withResolvers();\n    this.setupMessageHandler();\n  }\n  #cacheSimpleMethod(name, data = null) {\n    const cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(name, data);\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n  get annotationStorage() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"annotationStorage\", new _annotation_storage_js__WEBPACK_IMPORTED_MODULE_1__.AnnotationStorage());\n  }\n  getRenderingIntent(intent, annotationMode = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE, printAnnotationStorage = null, isOpList = false) {\n    let renderingIntent = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.DISPLAY;\n    let annotationStorageSerializable = _annotation_storage_js__WEBPACK_IMPORTED_MODULE_1__.SerializableEmpty;\n    switch (intent) {\n      case \"any\":\n        renderingIntent = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.ANY;\n        break;\n      case \"display\":\n        break;\n      case \"print\":\n        renderingIntent = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.PRINT;\n        break;\n      default:\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`getRenderingIntent - invalid intent: ${intent}`);\n    }\n    switch (annotationMode) {\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.DISABLE:\n        renderingIntent += _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.ANNOTATIONS_DISABLE;\n        break;\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE:\n        break;\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE_FORMS:\n        renderingIntent += _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.ANNOTATIONS_FORMS;\n        break;\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode.ENABLE_STORAGE:\n        renderingIntent += _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.ANNOTATIONS_STORAGE;\n        const annotationStorage = renderingIntent & _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.PRINT && printAnnotationStorage instanceof _annotation_storage_js__WEBPACK_IMPORTED_MODULE_1__.PrintAnnotationStorage ? printAnnotationStorage : this.annotationStorage;\n        annotationStorageSerializable = annotationStorage.serializable;\n        break;\n      default:\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`getRenderingIntent - invalid annotationMode: ${annotationMode}`);\n    }\n    if (isOpList) {\n      renderingIntent += _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.OPLIST;\n    }\n    return {\n      renderingIntent,\n      cacheKey: `${renderingIntent}_${annotationStorageSerializable.hash}`,\n      annotationStorageSerializable\n    };\n  }\n  destroy() {\n    if (this.destroyCapability) {\n      return this.destroyCapability.promise;\n    }\n    this.destroyed = true;\n    this.destroyCapability = Promise.withResolvers();\n    this.#passwordCapability?.reject(new Error(\"Worker was destroyed during onPassword callback\"));\n    const waitOn = [];\n    for (const page of this.#pageCache.values()) {\n      waitOn.push(page._destroy());\n    }\n    this.#pageCache.clear();\n    this.#pagePromises.clear();\n    this.#pageRefCache.clear();\n    if (this.hasOwnProperty(\"annotationStorage\")) {\n      this.annotationStorage.resetModified();\n    }\n    const terminated = this.messageHandler.sendWithPromise(\"Terminate\", null);\n    waitOn.push(terminated);\n    Promise.all(waitOn).then(() => {\n      this.commonObjs.clear();\n      this.fontLoader.clear();\n      this.#methodPromises.clear();\n      this.filterFactory.destroy();\n      (0,_text_layer_js__WEBPACK_IMPORTED_MODULE_6__.cleanupTextLayer)();\n      this._networkStream?.cancelAllRequests(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(\"Worker was terminated.\"));\n      if (this.messageHandler) {\n        this.messageHandler.destroy();\n        this.messageHandler = null;\n      }\n      this.destroyCapability.resolve();\n    }, this.destroyCapability.reject);\n    return this.destroyCapability.promise;\n  }\n  setupMessageHandler() {\n    const {\n      messageHandler,\n      loadingTask\n    } = this;\n    messageHandler.on(\"GetReader\", (data, sink) => {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(this._networkStream, \"GetReader - no `IPDFStream` instance available.\");\n      this._fullReader = this._networkStream.getFullReader();\n      this._fullReader.onProgress = evt => {\n        this._lastProgress = {\n          loaded: evt.loaded,\n          total: evt.total\n        };\n      };\n      sink.onPull = () => {\n        this._fullReader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            sink.close();\n            return;\n          }\n          (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(value instanceof ArrayBuffer, \"GetReader - expected an ArrayBuffer.\");\n          sink.enqueue(new Uint8Array(value), 1, [value]);\n        }).catch(reason => {\n          sink.error(reason);\n        });\n      };\n      sink.onCancel = reason => {\n        this._fullReader.cancel(reason);\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return;\n          }\n          throw readyReason;\n        });\n      };\n    });\n    messageHandler.on(\"ReaderHeadersReady\", data => {\n      const headersCapability = Promise.withResolvers();\n      const fullReader = this._fullReader;\n      fullReader.headersReady.then(() => {\n        if (!fullReader.isStreamingSupported || !fullReader.isRangeSupported) {\n          if (this._lastProgress) {\n            loadingTask.onProgress?.(this._lastProgress);\n          }\n          fullReader.onProgress = evt => {\n            loadingTask.onProgress?.({\n              loaded: evt.loaded,\n              total: evt.total\n            });\n          };\n        }\n        headersCapability.resolve({\n          isStreamingSupported: fullReader.isStreamingSupported,\n          isRangeSupported: fullReader.isRangeSupported,\n          contentLength: fullReader.contentLength\n        });\n      }, headersCapability.reject);\n      return headersCapability.promise;\n    });\n    messageHandler.on(\"GetRangeReader\", (data, sink) => {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(this._networkStream, \"GetRangeReader - no `IPDFStream` instance available.\");\n      const rangeReader = this._networkStream.getRangeReader(data.begin, data.end);\n      if (!rangeReader) {\n        sink.close();\n        return;\n      }\n      sink.onPull = () => {\n        rangeReader.read().then(function ({\n          value,\n          done\n        }) {\n          if (done) {\n            sink.close();\n            return;\n          }\n          (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(value instanceof ArrayBuffer, \"GetRangeReader - expected an ArrayBuffer.\");\n          sink.enqueue(new Uint8Array(value), 1, [value]);\n        }).catch(reason => {\n          sink.error(reason);\n        });\n      };\n      sink.onCancel = reason => {\n        rangeReader.cancel(reason);\n        sink.ready.catch(readyReason => {\n          if (this.destroyed) {\n            return;\n          }\n          throw readyReason;\n        });\n      };\n    });\n    messageHandler.on(\"GetDoc\", ({\n      pdfInfo\n    }) => {\n      this._numPages = pdfInfo.numPages;\n      this._htmlForXfa = pdfInfo.htmlForXfa;\n      delete pdfInfo.htmlForXfa;\n      loadingTask._capability.resolve(new PDFDocumentProxy(pdfInfo, this));\n    });\n    messageHandler.on(\"DocException\", function (ex) {\n      let reason;\n      switch (ex.name) {\n        case \"PasswordException\":\n          reason = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PasswordException(ex.message, ex.code);\n          break;\n        case \"InvalidPDFException\":\n          reason = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.InvalidPDFException(ex.message);\n          break;\n        case \"MissingPDFException\":\n          reason = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException(ex.message);\n          break;\n        case \"UnexpectedResponseException\":\n          reason = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.UnexpectedResponseException(ex.message, ex.status);\n          break;\n        case \"UnknownErrorException\":\n          reason = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.UnknownErrorException(ex.message, ex.details);\n          break;\n        default:\n          (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"DocException - expected a valid Error.\");\n      }\n      loadingTask._capability.reject(reason);\n    });\n    messageHandler.on(\"PasswordRequest\", exception => {\n      this.#passwordCapability = Promise.withResolvers();\n      if (loadingTask.onPassword) {\n        const updatePassword = password => {\n          if (password instanceof Error) {\n            this.#passwordCapability.reject(password);\n          } else {\n            this.#passwordCapability.resolve({\n              password\n            });\n          }\n        };\n        try {\n          loadingTask.onPassword(updatePassword, exception.code);\n        } catch (ex) {\n          this.#passwordCapability.reject(ex);\n        }\n      } else {\n        this.#passwordCapability.reject(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PasswordException(exception.message, exception.code));\n      }\n      return this.#passwordCapability.promise;\n    });\n    messageHandler.on(\"DataLoaded\", data => {\n      loadingTask.onProgress?.({\n        loaded: data.length,\n        total: data.length\n      });\n      this.downloadInfoCapability.resolve(data);\n    });\n    messageHandler.on(\"StartRenderPage\", data => {\n      if (this.destroyed) {\n        return;\n      }\n      const page = this.#pageCache.get(data.pageIndex);\n      page._startRenderPage(data.transparency, data.cacheKey);\n    });\n    messageHandler.on(\"commonobj\", ([id, type, exportedData]) => {\n      if (this.destroyed) {\n        return null;\n      }\n      if (this.commonObjs.has(id)) {\n        return null;\n      }\n      switch (type) {\n        case \"Font\":\n          const params = this._params;\n          if (\"error\" in exportedData) {\n            const exportedError = exportedData.error;\n            (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Error during font loading: ${exportedError}`);\n            this.commonObjs.resolve(id, exportedError);\n            break;\n          }\n          const inspectFont = params.pdfBug && globalThis.FontInspector?.enabled ? (font, url) => globalThis.FontInspector.fontAdded(font, url) : null;\n          const font = new _font_loader_js__WEBPACK_IMPORTED_MODULE_3__.FontFaceObject(exportedData, {\n            disableFontFace: params.disableFontFace,\n            ignoreErrors: params.ignoreErrors,\n            inspectFont\n          });\n          this.fontLoader.bind(font).catch(() => messageHandler.sendWithPromise(\"FontFallback\", {\n            id\n          })).finally(() => {\n            if (!params.fontExtraProperties && font.data) {\n              font.data = null;\n            }\n            this.commonObjs.resolve(id, font);\n          });\n          break;\n        case \"CopyLocalImage\":\n          const {\n            imageRef\n          } = exportedData;\n          (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(imageRef, \"The imageRef must be defined.\");\n          for (const pageProxy of this.#pageCache.values()) {\n            for (const [, data] of pageProxy.objs) {\n              if (data.ref !== imageRef) {\n                continue;\n              }\n              if (!data.dataLen) {\n                return null;\n              }\n              this.commonObjs.resolve(id, structuredClone(data));\n              return data.dataLen;\n            }\n          }\n          break;\n        case \"FontPath\":\n        case \"Image\":\n        case \"Pattern\":\n          this.commonObjs.resolve(id, exportedData);\n          break;\n        default:\n          throw new Error(`Got unknown common object type ${type}`);\n      }\n      return null;\n    });\n    messageHandler.on(\"obj\", ([id, pageIndex, type, imageData]) => {\n      if (this.destroyed) {\n        return;\n      }\n      const pageProxy = this.#pageCache.get(pageIndex);\n      if (pageProxy.objs.has(id)) {\n        return;\n      }\n      if (pageProxy._intentStates.size === 0) {\n        imageData?.bitmap?.close();\n        return;\n      }\n      switch (type) {\n        case \"Image\":\n          pageProxy.objs.resolve(id, imageData);\n          if (imageData?.dataLen > _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MAX_IMAGE_SIZE_TO_CACHE) {\n            pageProxy._maybeCleanupAfterRender = true;\n          }\n          break;\n        case \"Pattern\":\n          pageProxy.objs.resolve(id, imageData);\n          break;\n        default:\n          throw new Error(`Got unknown object type ${type}`);\n      }\n    });\n    messageHandler.on(\"DocProgress\", data => {\n      if (this.destroyed) {\n        return;\n      }\n      loadingTask.onProgress?.({\n        loaded: data.loaded,\n        total: data.total\n      });\n    });\n    messageHandler.on(\"FetchBuiltInCMap\", data => {\n      if (this.destroyed) {\n        return Promise.reject(new Error(\"Worker was destroyed.\"));\n      }\n      if (!this.cMapReaderFactory) {\n        return Promise.reject(new Error(\"CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.\"));\n      }\n      return this.cMapReaderFactory.fetch(data);\n    });\n    messageHandler.on(\"FetchStandardFontData\", data => {\n      if (this.destroyed) {\n        return Promise.reject(new Error(\"Worker was destroyed.\"));\n      }\n      if (!this.standardFontDataFactory) {\n        return Promise.reject(new Error(\"StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.\"));\n      }\n      return this.standardFontDataFactory.fetch(data);\n    });\n  }\n  getData() {\n    return this.messageHandler.sendWithPromise(\"GetData\", null);\n  }\n  saveDocument() {\n    if (this.annotationStorage.size <= 0) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(\"saveDocument called while `annotationStorage` is empty, \" + \"please use the getData-method instead.\");\n    }\n    const {\n      map,\n      transfer\n    } = this.annotationStorage.serializable;\n    return this.messageHandler.sendWithPromise(\"SaveDocument\", {\n      isPureXfa: !!this._htmlForXfa,\n      numPages: this._numPages,\n      annotationStorage: map,\n      filename: this._fullReader?.filename ?? null\n    }, transfer).finally(() => {\n      this.annotationStorage.resetModified();\n    });\n  }\n  getPage(pageNumber) {\n    if (!Number.isInteger(pageNumber) || pageNumber <= 0 || pageNumber > this._numPages) {\n      return Promise.reject(new Error(\"Invalid page request.\"));\n    }\n    const pageIndex = pageNumber - 1,\n      cachedPromise = this.#pagePromises.get(pageIndex);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(\"GetPage\", {\n      pageIndex\n    }).then(pageInfo => {\n      if (this.destroyed) {\n        throw new Error(\"Transport destroyed\");\n      }\n      if (pageInfo.refStr) {\n        this.#pageRefCache.set(pageInfo.refStr, pageNumber);\n      }\n      const page = new PDFPageProxy(pageIndex, pageInfo, this, this._params.pdfBug);\n      this.#pageCache.set(pageIndex, page);\n      return page;\n    });\n    this.#pagePromises.set(pageIndex, promise);\n    return promise;\n  }\n  getPageIndex(ref) {\n    if (!isRefProxy(ref)) {\n      return Promise.reject(new Error(\"Invalid pageIndex request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetPageIndex\", {\n      num: ref.num,\n      gen: ref.gen\n    });\n  }\n  getAnnotations(pageIndex, intent) {\n    return this.messageHandler.sendWithPromise(\"GetAnnotations\", {\n      pageIndex,\n      intent\n    });\n  }\n  getFieldObjects() {\n    return this.#cacheSimpleMethod(\"GetFieldObjects\");\n  }\n  hasJSActions() {\n    return this.#cacheSimpleMethod(\"HasJSActions\");\n  }\n  getCalculationOrderIds() {\n    return this.messageHandler.sendWithPromise(\"GetCalculationOrderIds\", null);\n  }\n  getDestinations() {\n    return this.messageHandler.sendWithPromise(\"GetDestinations\", null);\n  }\n  getDestination(id) {\n    if (typeof id !== \"string\") {\n      return Promise.reject(new Error(\"Invalid destination request.\"));\n    }\n    return this.messageHandler.sendWithPromise(\"GetDestination\", {\n      id\n    });\n  }\n  getPageLabels() {\n    return this.messageHandler.sendWithPromise(\"GetPageLabels\", null);\n  }\n  getPageLayout() {\n    return this.messageHandler.sendWithPromise(\"GetPageLayout\", null);\n  }\n  getPageMode() {\n    return this.messageHandler.sendWithPromise(\"GetPageMode\", null);\n  }\n  getViewerPreferences() {\n    return this.messageHandler.sendWithPromise(\"GetViewerPreferences\", null);\n  }\n  getOpenAction() {\n    return this.messageHandler.sendWithPromise(\"GetOpenAction\", null);\n  }\n  getAttachments() {\n    return this.messageHandler.sendWithPromise(\"GetAttachments\", null);\n  }\n  getDocJSActions() {\n    return this.#cacheSimpleMethod(\"GetDocJSActions\");\n  }\n  getPageJSActions(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetPageJSActions\", {\n      pageIndex\n    });\n  }\n  getStructTree(pageIndex) {\n    return this.messageHandler.sendWithPromise(\"GetStructTree\", {\n      pageIndex\n    });\n  }\n  getOutline() {\n    return this.messageHandler.sendWithPromise(\"GetOutline\", null);\n  }\n  getOptionalContentConfig(renderingIntent) {\n    return this.#cacheSimpleMethod(\"GetOptionalContentConfig\").then(data => new _optional_content_config_js__WEBPACK_IMPORTED_MODULE_9__.OptionalContentConfig(data, renderingIntent));\n  }\n  getPermissions() {\n    return this.messageHandler.sendWithPromise(\"GetPermissions\", null);\n  }\n  getMetadata() {\n    const name = \"GetMetadata\",\n      cachedPromise = this.#methodPromises.get(name);\n    if (cachedPromise) {\n      return cachedPromise;\n    }\n    const promise = this.messageHandler.sendWithPromise(name, null).then(results => ({\n      info: results[0],\n      metadata: results[1] ? new _metadata_js__WEBPACK_IMPORTED_MODULE_8__.Metadata(results[1]) : null,\n      contentDispositionFilename: this._fullReader?.filename ?? null,\n      contentLength: this._fullReader?.contentLength ?? null\n    }));\n    this.#methodPromises.set(name, promise);\n    return promise;\n  }\n  getMarkInfo() {\n    return this.messageHandler.sendWithPromise(\"GetMarkInfo\", null);\n  }\n  async startCleanup(keepLoadedFonts = false) {\n    if (this.destroyed) {\n      return;\n    }\n    await this.messageHandler.sendWithPromise(\"Cleanup\", null);\n    for (const page of this.#pageCache.values()) {\n      const cleanupSuccessful = page.cleanup();\n      if (!cleanupSuccessful) {\n        throw new Error(`startCleanup: Page ${page.pageNumber} is currently rendering.`);\n      }\n    }\n    this.commonObjs.clear();\n    if (!keepLoadedFonts) {\n      this.fontLoader.clear();\n    }\n    this.#methodPromises.clear();\n    this.filterFactory.destroy(true);\n    (0,_text_layer_js__WEBPACK_IMPORTED_MODULE_6__.cleanupTextLayer)();\n  }\n  cachedPageNumber(ref) {\n    if (!isRefProxy(ref)) {\n      return null;\n    }\n    const refStr = ref.gen === 0 ? `${ref.num}R` : `${ref.num}R${ref.gen}`;\n    return this.#pageRefCache.get(refStr) ?? null;\n  }\n  get loadingParams() {\n    const {\n      disableAutoFetch,\n      enableXfa\n    } = this._params;\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"loadingParams\", {\n      disableAutoFetch,\n      enableXfa\n    });\n  }\n}\nconst INITIAL_DATA = Symbol(\"INITIAL_DATA\");\nclass PDFObjects {\n  #objs = Object.create(null);\n  #ensureObj(objId) {\n    return this.#objs[objId] ||= {\n      ...Promise.withResolvers(),\n      data: INITIAL_DATA\n    };\n  }\n  get(objId, callback = null) {\n    if (callback) {\n      const obj = this.#ensureObj(objId);\n      obj.promise.then(() => callback(obj.data));\n      return null;\n    }\n    const obj = this.#objs[objId];\n    if (!obj || obj.data === INITIAL_DATA) {\n      throw new Error(`Requesting object that isn't resolved yet ${objId}.`);\n    }\n    return obj.data;\n  }\n  has(objId) {\n    const obj = this.#objs[objId];\n    return !!obj && obj.data !== INITIAL_DATA;\n  }\n  resolve(objId, data = null) {\n    const obj = this.#ensureObj(objId);\n    obj.data = data;\n    obj.resolve();\n  }\n  clear() {\n    for (const objId in this.#objs) {\n      const {\n        data\n      } = this.#objs[objId];\n      data?.bitmap?.close();\n    }\n    this.#objs = Object.create(null);\n  }\n  *[Symbol.iterator]() {\n    for (const objId in this.#objs) {\n      const {\n        data\n      } = this.#objs[objId];\n      if (data === INITIAL_DATA) {\n        continue;\n      }\n      yield [objId, data];\n    }\n  }\n}\nclass RenderTask {\n  #internalRenderTask = null;\n  constructor(internalRenderTask) {\n    this.#internalRenderTask = internalRenderTask;\n    this.onContinue = null;\n  }\n  get promise() {\n    return this.#internalRenderTask.capability.promise;\n  }\n  cancel(extraDelay = 0) {\n    this.#internalRenderTask.cancel(null, extraDelay);\n  }\n  get separateAnnots() {\n    const {\n      separateAnnots\n    } = this.#internalRenderTask.operatorList;\n    if (!separateAnnots) {\n      return false;\n    }\n    const {\n      annotationCanvasMap\n    } = this.#internalRenderTask;\n    return separateAnnots.form || separateAnnots.canvas && annotationCanvasMap?.size > 0;\n  }\n}\nclass InternalRenderTask {\n  static #canvasInUse = new WeakSet();\n  constructor({\n    callback,\n    params,\n    objs,\n    commonObjs,\n    annotationCanvasMap,\n    operatorList,\n    pageIndex,\n    canvasFactory,\n    filterFactory,\n    useRequestAnimationFrame = false,\n    pdfBug = false,\n    pageColors = null\n  }) {\n    this.callback = callback;\n    this.params = params;\n    this.objs = objs;\n    this.commonObjs = commonObjs;\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.operatorListIdx = null;\n    this.operatorList = operatorList;\n    this._pageIndex = pageIndex;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this._pdfBug = pdfBug;\n    this.pageColors = pageColors;\n    this.running = false;\n    this.graphicsReadyCallback = null;\n    this.graphicsReady = false;\n    this._useRequestAnimationFrame = useRequestAnimationFrame === true && typeof window !== \"undefined\";\n    this.cancelled = false;\n    this.capability = Promise.withResolvers();\n    this.task = new RenderTask(this);\n    this._cancelBound = this.cancel.bind(this);\n    this._continueBound = this._continue.bind(this);\n    this._scheduleNextBound = this._scheduleNext.bind(this);\n    this._nextBound = this._next.bind(this);\n    this._canvas = params.canvasContext.canvas;\n  }\n  get completed() {\n    return this.capability.promise.catch(function () {});\n  }\n  initializeGraphics({\n    transparency = false,\n    optionalContentConfig\n  }) {\n    if (this.cancelled) {\n      return;\n    }\n    if (this._canvas) {\n      if (InternalRenderTask.#canvasInUse.has(this._canvas)) {\n        throw new Error(\"Cannot use the same canvas during multiple render() operations. \" + \"Use different canvas or ensure previous operations were \" + \"cancelled or completed.\");\n      }\n      InternalRenderTask.#canvasInUse.add(this._canvas);\n    }\n    if (this._pdfBug && globalThis.StepperManager?.enabled) {\n      this.stepper = globalThis.StepperManager.create(this._pageIndex);\n      this.stepper.init(this.operatorList);\n      this.stepper.nextBreakPoint = this.stepper.getNextBreakPoint();\n    }\n    const {\n      canvasContext,\n      viewport,\n      transform,\n      background\n    } = this.params;\n    this.gfx = new _canvas_js__WEBPACK_IMPORTED_MODULE_5__.CanvasGraphics(canvasContext, this.commonObjs, this.objs, this.canvasFactory, this.filterFactory, {\n      optionalContentConfig\n    }, this.annotationCanvasMap, this.pageColors);\n    this.gfx.beginDrawing({\n      transform,\n      viewport,\n      transparency,\n      background\n    });\n    this.operatorListIdx = 0;\n    this.graphicsReady = true;\n    this.graphicsReadyCallback?.();\n  }\n  cancel(error = null, extraDelay = 0) {\n    this.running = false;\n    this.cancelled = true;\n    this.gfx?.endDrawing();\n    InternalRenderTask.#canvasInUse.delete(this._canvas);\n    this.callback(error || new _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex + 1}`, extraDelay));\n  }\n  operatorListChanged() {\n    if (!this.graphicsReady) {\n      this.graphicsReadyCallback ||= this._continueBound;\n      return;\n    }\n    this.stepper?.updateOperatorList(this.operatorList);\n    if (this.running) {\n      return;\n    }\n    this._continue();\n  }\n  _continue() {\n    this.running = true;\n    if (this.cancelled) {\n      return;\n    }\n    if (this.task.onContinue) {\n      this.task.onContinue(this._scheduleNextBound);\n    } else {\n      this._scheduleNext();\n    }\n  }\n  _scheduleNext() {\n    if (this._useRequestAnimationFrame) {\n      window.requestAnimationFrame(() => {\n        this._nextBound().catch(this._cancelBound);\n      });\n    } else {\n      Promise.resolve().then(this._nextBound).catch(this._cancelBound);\n    }\n  }\n  async _next() {\n    if (this.cancelled) {\n      return;\n    }\n    this.operatorListIdx = this.gfx.executeOperatorList(this.operatorList, this.operatorListIdx, this._continueBound, this.stepper);\n    if (this.operatorListIdx === this.operatorList.argsArray.length) {\n      this.running = false;\n      if (this.operatorList.lastChunk) {\n        this.gfx.endDrawing();\n        InternalRenderTask.#canvasInUse.delete(this._canvas);\n        this.callback();\n      }\n    }\n  }\n}\nconst version = \"4.2.67\";\nconst build = \"49b388101\";\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n/***/ }),\n\n/***/ 583:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseCMapReaderFactory: () => (/* binding */ BaseCMapReaderFactory),\n/* harmony export */   BaseCanvasFactory: () => (/* binding */ BaseCanvasFactory),\n/* harmony export */   BaseFilterFactory: () => (/* binding */ BaseFilterFactory),\n/* harmony export */   BaseSVGFactory: () => (/* binding */ BaseSVGFactory),\n/* harmony export */   BaseStandardFontDataFactory: () => (/* binding */ BaseStandardFontDataFactory)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n\nclass BaseFilterFactory {\n  constructor() {\n    if (this.constructor === BaseFilterFactory) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Cannot initialize BaseFilterFactory.\");\n    }\n  }\n  addFilter(maps) {\n    return \"none\";\n  }\n  addHCMFilter(fgColor, bgColor) {\n    return \"none\";\n  }\n  addHighlightHCMFilter(filterName, fgColor, bgColor, newFgColor, newBgColor) {\n    return \"none\";\n  }\n  destroy(keepHCM = false) {}\n}\nclass BaseCanvasFactory {\n  constructor() {\n    if (this.constructor === BaseCanvasFactory) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Cannot initialize BaseCanvasFactory.\");\n    }\n  }\n  create(width, height) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    const canvas = this._createCanvas(width, height);\n    return {\n      canvas,\n      context: canvas.getContext(\"2d\")\n    };\n  }\n  reset(canvasAndContext, width, height) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid canvas size\");\n    }\n    canvasAndContext.canvas.width = width;\n    canvasAndContext.canvas.height = height;\n  }\n  destroy(canvasAndContext) {\n    if (!canvasAndContext.canvas) {\n      throw new Error(\"Canvas is not specified\");\n    }\n    canvasAndContext.canvas.width = 0;\n    canvasAndContext.canvas.height = 0;\n    canvasAndContext.canvas = null;\n    canvasAndContext.context = null;\n  }\n  _createCanvas(width, height) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Abstract method `_createCanvas` called.\");\n  }\n}\nclass BaseCMapReaderFactory {\n  constructor({\n    baseUrl = null,\n    isCompressed = true\n  }) {\n    if (this.constructor === BaseCMapReaderFactory) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Cannot initialize BaseCMapReaderFactory.\");\n    }\n    this.baseUrl = baseUrl;\n    this.isCompressed = isCompressed;\n  }\n  async fetch({\n    name\n  }) {\n    if (!this.baseUrl) {\n      throw new Error('The CMap \"baseUrl\" parameter must be specified, ensure that ' + 'the \"cMapUrl\" and \"cMapPacked\" API parameters are provided.');\n    }\n    if (!name) {\n      throw new Error(\"CMap name must be specified.\");\n    }\n    const url = this.baseUrl + name + (this.isCompressed ? \".bcmap\" : \"\");\n    const compressionType = this.isCompressed ? _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.CMapCompressionType.BINARY : _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.CMapCompressionType.NONE;\n    return this._fetchData(url, compressionType).catch(reason => {\n      throw new Error(`Unable to load ${this.isCompressed ? \"binary \" : \"\"}CMap at: ${url}`);\n    });\n  }\n  _fetchData(url, compressionType) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Abstract method `_fetchData` called.\");\n  }\n}\nclass BaseStandardFontDataFactory {\n  constructor({\n    baseUrl = null\n  }) {\n    if (this.constructor === BaseStandardFontDataFactory) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Cannot initialize BaseStandardFontDataFactory.\");\n    }\n    this.baseUrl = baseUrl;\n  }\n  async fetch({\n    filename\n  }) {\n    if (!this.baseUrl) {\n      throw new Error('The standard font \"baseUrl\" parameter must be specified, ensure that ' + 'the \"standardFontDataUrl\" API parameter is provided.');\n    }\n    if (!filename) {\n      throw new Error(\"Font filename must be specified.\");\n    }\n    const url = `${this.baseUrl}${filename}`;\n    return this._fetchData(url).catch(reason => {\n      throw new Error(`Unable to load font data at: ${url}`);\n    });\n  }\n  _fetchData(url) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Abstract method `_fetchData` called.\");\n  }\n}\nclass BaseSVGFactory {\n  constructor() {\n    if (this.constructor === BaseSVGFactory) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Cannot initialize BaseSVGFactory.\");\n    }\n  }\n  create(width, height, skipDimensions = false) {\n    if (width <= 0 || height <= 0) {\n      throw new Error(\"Invalid SVG dimensions\");\n    }\n    const svg = this._createSVG(\"svg:svg\");\n    svg.setAttribute(\"version\", \"1.1\");\n    if (!skipDimensions) {\n      svg.setAttribute(\"width\", `${width}px`);\n      svg.setAttribute(\"height\", `${height}px`);\n    }\n    svg.setAttribute(\"preserveAspectRatio\", \"none\");\n    svg.setAttribute(\"viewBox\", `0 0 ${width} ${height}`);\n    return svg;\n  }\n  createElement(type) {\n    if (typeof type !== \"string\") {\n      throw new Error(\"Invalid SVG element type\");\n    }\n    return this._createSVG(type);\n  }\n  _createSVG(type) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Abstract method `_createSVG` called.\");\n  }\n}\n\n\n/***/ }),\n\n/***/ 923:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  CanvasGraphics: () => (/* binding */ CanvasGraphics)\n});\n\n// EXTERNAL MODULE: ./src/shared/util.js\nvar util = __webpack_require__(292);\n// EXTERNAL MODULE: ./src/display/display_utils.js\nvar display_utils = __webpack_require__(419);\n;// CONCATENATED MODULE: ./src/display/pattern_helper.js\n\n\nconst PathType = {\n  FILL: \"Fill\",\n  STROKE: \"Stroke\",\n  SHADING: \"Shading\"\n};\nfunction applyBoundingBox(ctx, bbox) {\n  if (!bbox) {\n    return;\n  }\n  const width = bbox[2] - bbox[0];\n  const height = bbox[3] - bbox[1];\n  const region = new Path2D();\n  region.rect(bbox[0], bbox[1], width, height);\n  ctx.clip(region);\n}\nclass BaseShadingPattern {\n  constructor() {\n    if (this.constructor === BaseShadingPattern) {\n      (0,util.unreachable)(\"Cannot initialize BaseShadingPattern.\");\n    }\n  }\n  getPattern() {\n    (0,util.unreachable)(\"Abstract method `getPattern` called.\");\n  }\n}\nclass RadialAxialShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._type = IR[1];\n    this._bbox = IR[2];\n    this._colorStops = IR[3];\n    this._p0 = IR[4];\n    this._p1 = IR[5];\n    this._r0 = IR[6];\n    this._r1 = IR[7];\n    this.matrix = null;\n  }\n  _createGradient(ctx) {\n    let grad;\n    if (this._type === \"axial\") {\n      grad = ctx.createLinearGradient(this._p0[0], this._p0[1], this._p1[0], this._p1[1]);\n    } else if (this._type === \"radial\") {\n      grad = ctx.createRadialGradient(this._p0[0], this._p0[1], this._r0, this._p1[0], this._p1[1], this._r1);\n    }\n    for (const colorStop of this._colorStops) {\n      grad.addColorStop(colorStop[0], colorStop[1]);\n    }\n    return grad;\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    let pattern;\n    if (pathType === PathType.STROKE || pathType === PathType.FILL) {\n      const ownerBBox = owner.current.getClippedPathBoundingBox(pathType, (0,display_utils.getCurrentTransform)(ctx)) || [0, 0, 0, 0];\n      const width = Math.ceil(ownerBBox[2] - ownerBBox[0]) || 1;\n      const height = Math.ceil(ownerBBox[3] - ownerBBox[1]) || 1;\n      const tmpCanvas = owner.cachedCanvases.getCanvas(\"pattern\", width, height, true);\n      const tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.beginPath();\n      tmpCtx.rect(0, 0, tmpCtx.canvas.width, tmpCtx.canvas.height);\n      tmpCtx.translate(-ownerBBox[0], -ownerBBox[1]);\n      inverse = util.Util.transform(inverse, [1, 0, 0, 1, ownerBBox[0], ownerBBox[1]]);\n      tmpCtx.transform(...owner.baseTransform);\n      if (this.matrix) {\n        tmpCtx.transform(...this.matrix);\n      }\n      applyBoundingBox(tmpCtx, this._bbox);\n      tmpCtx.fillStyle = this._createGradient(tmpCtx);\n      tmpCtx.fill();\n      pattern = ctx.createPattern(tmpCanvas.canvas, \"no-repeat\");\n      const domMatrix = new DOMMatrix(inverse);\n      pattern.setTransform(domMatrix);\n    } else {\n      applyBoundingBox(ctx, this._bbox);\n      pattern = this._createGradient(ctx);\n    }\n    return pattern;\n  }\n}\nfunction drawTriangle(data, context, p1, p2, p3, c1, c2, c3) {\n  const coords = context.coords,\n    colors = context.colors;\n  const bytes = data.data,\n    rowSize = data.width * 4;\n  let tmp;\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  if (coords[p2 + 1] > coords[p3 + 1]) {\n    tmp = p2;\n    p2 = p3;\n    p3 = tmp;\n    tmp = c2;\n    c2 = c3;\n    c3 = tmp;\n  }\n  if (coords[p1 + 1] > coords[p2 + 1]) {\n    tmp = p1;\n    p1 = p2;\n    p2 = tmp;\n    tmp = c1;\n    c1 = c2;\n    c2 = tmp;\n  }\n  const x1 = (coords[p1] + context.offsetX) * context.scaleX;\n  const y1 = (coords[p1 + 1] + context.offsetY) * context.scaleY;\n  const x2 = (coords[p2] + context.offsetX) * context.scaleX;\n  const y2 = (coords[p2 + 1] + context.offsetY) * context.scaleY;\n  const x3 = (coords[p3] + context.offsetX) * context.scaleX;\n  const y3 = (coords[p3 + 1] + context.offsetY) * context.scaleY;\n  if (y1 >= y3) {\n    return;\n  }\n  const c1r = colors[c1],\n    c1g = colors[c1 + 1],\n    c1b = colors[c1 + 2];\n  const c2r = colors[c2],\n    c2g = colors[c2 + 1],\n    c2b = colors[c2 + 2];\n  const c3r = colors[c3],\n    c3g = colors[c3 + 1],\n    c3b = colors[c3 + 2];\n  const minY = Math.round(y1),\n    maxY = Math.round(y3);\n  let xa, car, cag, cab;\n  let xb, cbr, cbg, cbb;\n  for (let y = minY; y <= maxY; y++) {\n    if (y < y2) {\n      const k = y < y1 ? 0 : (y1 - y) / (y1 - y2);\n      xa = x1 - (x1 - x2) * k;\n      car = c1r - (c1r - c2r) * k;\n      cag = c1g - (c1g - c2g) * k;\n      cab = c1b - (c1b - c2b) * k;\n    } else {\n      let k;\n      if (y > y3) {\n        k = 1;\n      } else if (y2 === y3) {\n        k = 0;\n      } else {\n        k = (y2 - y) / (y2 - y3);\n      }\n      xa = x2 - (x2 - x3) * k;\n      car = c2r - (c2r - c3r) * k;\n      cag = c2g - (c2g - c3g) * k;\n      cab = c2b - (c2b - c3b) * k;\n    }\n    let k;\n    if (y < y1) {\n      k = 0;\n    } else if (y > y3) {\n      k = 1;\n    } else {\n      k = (y1 - y) / (y1 - y3);\n    }\n    xb = x1 - (x1 - x3) * k;\n    cbr = c1r - (c1r - c3r) * k;\n    cbg = c1g - (c1g - c3g) * k;\n    cbb = c1b - (c1b - c3b) * k;\n    const x1_ = Math.round(Math.min(xa, xb));\n    const x2_ = Math.round(Math.max(xa, xb));\n    let j = rowSize * y + x1_ * 4;\n    for (let x = x1_; x <= x2_; x++) {\n      k = (xa - x) / (xa - xb);\n      if (k < 0) {\n        k = 0;\n      } else if (k > 1) {\n        k = 1;\n      }\n      bytes[j++] = car - (car - cbr) * k | 0;\n      bytes[j++] = cag - (cag - cbg) * k | 0;\n      bytes[j++] = cab - (cab - cbb) * k | 0;\n      bytes[j++] = 255;\n    }\n  }\n}\nfunction drawFigure(data, figure, context) {\n  const ps = figure.coords;\n  const cs = figure.colors;\n  let i, ii;\n  switch (figure.type) {\n    case \"lattice\":\n      const verticesPerRow = figure.verticesPerRow;\n      const rows = Math.floor(ps.length / verticesPerRow) - 1;\n      const cols = verticesPerRow - 1;\n      for (i = 0; i < rows; i++) {\n        let q = i * verticesPerRow;\n        for (let j = 0; j < cols; j++, q++) {\n          drawTriangle(data, context, ps[q], ps[q + 1], ps[q + verticesPerRow], cs[q], cs[q + 1], cs[q + verticesPerRow]);\n          drawTriangle(data, context, ps[q + verticesPerRow + 1], ps[q + 1], ps[q + verticesPerRow], cs[q + verticesPerRow + 1], cs[q + 1], cs[q + verticesPerRow]);\n        }\n      }\n      break;\n    case \"triangles\":\n      for (i = 0, ii = ps.length; i < ii; i += 3) {\n        drawTriangle(data, context, ps[i], ps[i + 1], ps[i + 2], cs[i], cs[i + 1], cs[i + 2]);\n      }\n      break;\n    default:\n      throw new Error(\"illegal figure\");\n  }\n}\nclass MeshShadingPattern extends BaseShadingPattern {\n  constructor(IR) {\n    super();\n    this._coords = IR[2];\n    this._colors = IR[3];\n    this._figures = IR[4];\n    this._bounds = IR[5];\n    this._bbox = IR[7];\n    this._background = IR[8];\n    this.matrix = null;\n  }\n  _createMeshCanvas(combinedScale, backgroundColor, cachedCanvases) {\n    const EXPECTED_SCALE = 1.1;\n    const MAX_PATTERN_SIZE = 3000;\n    const BORDER_SIZE = 2;\n    const offsetX = Math.floor(this._bounds[0]);\n    const offsetY = Math.floor(this._bounds[1]);\n    const boundsWidth = Math.ceil(this._bounds[2]) - offsetX;\n    const boundsHeight = Math.ceil(this._bounds[3]) - offsetY;\n    const width = Math.min(Math.ceil(Math.abs(boundsWidth * combinedScale[0] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    const height = Math.min(Math.ceil(Math.abs(boundsHeight * combinedScale[1] * EXPECTED_SCALE)), MAX_PATTERN_SIZE);\n    const scaleX = boundsWidth / width;\n    const scaleY = boundsHeight / height;\n    const context = {\n      coords: this._coords,\n      colors: this._colors,\n      offsetX: -offsetX,\n      offsetY: -offsetY,\n      scaleX: 1 / scaleX,\n      scaleY: 1 / scaleY\n    };\n    const paddedWidth = width + BORDER_SIZE * 2;\n    const paddedHeight = height + BORDER_SIZE * 2;\n    const tmpCanvas = cachedCanvases.getCanvas(\"mesh\", paddedWidth, paddedHeight, false);\n    const tmpCtx = tmpCanvas.context;\n    const data = tmpCtx.createImageData(width, height);\n    if (backgroundColor) {\n      const bytes = data.data;\n      for (let i = 0, ii = bytes.length; i < ii; i += 4) {\n        bytes[i] = backgroundColor[0];\n        bytes[i + 1] = backgroundColor[1];\n        bytes[i + 2] = backgroundColor[2];\n        bytes[i + 3] = 255;\n      }\n    }\n    for (const figure of this._figures) {\n      drawFigure(data, figure, context);\n    }\n    tmpCtx.putImageData(data, BORDER_SIZE, BORDER_SIZE);\n    const canvas = tmpCanvas.canvas;\n    return {\n      canvas,\n      offsetX: offsetX - BORDER_SIZE * scaleX,\n      offsetY: offsetY - BORDER_SIZE * scaleY,\n      scaleX,\n      scaleY\n    };\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    applyBoundingBox(ctx, this._bbox);\n    let scale;\n    if (pathType === PathType.SHADING) {\n      scale = util.Util.singularValueDecompose2dScale((0,display_utils.getCurrentTransform)(ctx));\n    } else {\n      scale = util.Util.singularValueDecompose2dScale(owner.baseTransform);\n      if (this.matrix) {\n        const matrixScale = util.Util.singularValueDecompose2dScale(this.matrix);\n        scale = [scale[0] * matrixScale[0], scale[1] * matrixScale[1]];\n      }\n    }\n    const temporaryPatternCanvas = this._createMeshCanvas(scale, pathType === PathType.SHADING ? null : this._background, owner.cachedCanvases);\n    if (pathType !== PathType.SHADING) {\n      ctx.setTransform(...owner.baseTransform);\n      if (this.matrix) {\n        ctx.transform(...this.matrix);\n      }\n    }\n    ctx.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n    ctx.scale(temporaryPatternCanvas.scaleX, temporaryPatternCanvas.scaleY);\n    return ctx.createPattern(temporaryPatternCanvas.canvas, \"no-repeat\");\n  }\n}\nclass DummyShadingPattern extends BaseShadingPattern {\n  getPattern() {\n    return \"hotpink\";\n  }\n}\nfunction getShadingPattern(IR) {\n  switch (IR[0]) {\n    case \"RadialAxial\":\n      return new RadialAxialShadingPattern(IR);\n    case \"Mesh\":\n      return new MeshShadingPattern(IR);\n    case \"Dummy\":\n      return new DummyShadingPattern();\n  }\n  throw new Error(`Unknown IR type: ${IR[0]}`);\n}\nconst PaintType = {\n  COLORED: 1,\n  UNCOLORED: 2\n};\nclass TilingPattern {\n  static MAX_PATTERN_SIZE = 3000;\n  constructor(IR, color, ctx, canvasGraphicsFactory, baseTransform) {\n    this.operatorList = IR[2];\n    this.matrix = IR[3] || [1, 0, 0, 1, 0, 0];\n    this.bbox = IR[4];\n    this.xstep = IR[5];\n    this.ystep = IR[6];\n    this.paintType = IR[7];\n    this.tilingType = IR[8];\n    this.color = color;\n    this.ctx = ctx;\n    this.canvasGraphicsFactory = canvasGraphicsFactory;\n    this.baseTransform = baseTransform;\n  }\n  createPatternCanvas(owner) {\n    const operatorList = this.operatorList;\n    const bbox = this.bbox;\n    const xstep = this.xstep;\n    const ystep = this.ystep;\n    const paintType = this.paintType;\n    const tilingType = this.tilingType;\n    const color = this.color;\n    const canvasGraphicsFactory = this.canvasGraphicsFactory;\n    (0,util.info)(\"TilingType: \" + tilingType);\n    const x0 = bbox[0],\n      y0 = bbox[1],\n      x1 = bbox[2],\n      y1 = bbox[3];\n    const matrixScale = util.Util.singularValueDecompose2dScale(this.matrix);\n    const curMatrixScale = util.Util.singularValueDecompose2dScale(this.baseTransform);\n    const combinedScale = [matrixScale[0] * curMatrixScale[0], matrixScale[1] * curMatrixScale[1]];\n    const dimx = this.getSizeAndScale(xstep, this.ctx.canvas.width, combinedScale[0]);\n    const dimy = this.getSizeAndScale(ystep, this.ctx.canvas.height, combinedScale[1]);\n    const tmpCanvas = owner.cachedCanvases.getCanvas(\"pattern\", dimx.size, dimy.size, true);\n    const tmpCtx = tmpCanvas.context;\n    const graphics = canvasGraphicsFactory.createCanvasGraphics(tmpCtx);\n    graphics.groupLevel = owner.groupLevel;\n    this.setFillAndStrokeStyleToContext(graphics, paintType, color);\n    let adjustedX0 = x0;\n    let adjustedY0 = y0;\n    let adjustedX1 = x1;\n    let adjustedY1 = y1;\n    if (x0 < 0) {\n      adjustedX0 = 0;\n      adjustedX1 += Math.abs(x0);\n    }\n    if (y0 < 0) {\n      adjustedY0 = 0;\n      adjustedY1 += Math.abs(y0);\n    }\n    tmpCtx.translate(-(dimx.scale * adjustedX0), -(dimy.scale * adjustedY0));\n    graphics.transform(dimx.scale, 0, 0, dimy.scale, 0, 0);\n    tmpCtx.save();\n    this.clipBbox(graphics, adjustedX0, adjustedY0, adjustedX1, adjustedY1);\n    graphics.baseTransform = (0,display_utils.getCurrentTransform)(graphics.ctx);\n    graphics.executeOperatorList(operatorList);\n    graphics.endDrawing();\n    return {\n      canvas: tmpCanvas.canvas,\n      scaleX: dimx.scale,\n      scaleY: dimy.scale,\n      offsetX: adjustedX0,\n      offsetY: adjustedY0\n    };\n  }\n  getSizeAndScale(step, realOutputSize, scale) {\n    step = Math.abs(step);\n    const maxSize = Math.max(TilingPattern.MAX_PATTERN_SIZE, realOutputSize);\n    let size = Math.ceil(step * scale);\n    if (size >= maxSize) {\n      size = maxSize;\n    } else {\n      scale = size / step;\n    }\n    return {\n      scale,\n      size\n    };\n  }\n  clipBbox(graphics, x0, y0, x1, y1) {\n    const bboxWidth = x1 - x0;\n    const bboxHeight = y1 - y0;\n    graphics.ctx.rect(x0, y0, bboxWidth, bboxHeight);\n    graphics.current.updateRectMinMax((0,display_utils.getCurrentTransform)(graphics.ctx), [x0, y0, x1, y1]);\n    graphics.clip();\n    graphics.endPath();\n  }\n  setFillAndStrokeStyleToContext(graphics, paintType, color) {\n    const context = graphics.ctx,\n      current = graphics.current;\n    switch (paintType) {\n      case PaintType.COLORED:\n        const ctx = this.ctx;\n        context.fillStyle = ctx.fillStyle;\n        context.strokeStyle = ctx.strokeStyle;\n        current.fillColor = ctx.fillStyle;\n        current.strokeColor = ctx.strokeStyle;\n        break;\n      case PaintType.UNCOLORED:\n        const cssColor = util.Util.makeHexColor(color[0], color[1], color[2]);\n        context.fillStyle = cssColor;\n        context.strokeStyle = cssColor;\n        current.fillColor = cssColor;\n        current.strokeColor = cssColor;\n        break;\n      default:\n        throw new util.FormatError(`Unsupported paint type: ${paintType}`);\n    }\n  }\n  getPattern(ctx, owner, inverse, pathType) {\n    let matrix = inverse;\n    if (pathType !== PathType.SHADING) {\n      matrix = util.Util.transform(matrix, owner.baseTransform);\n      if (this.matrix) {\n        matrix = util.Util.transform(matrix, this.matrix);\n      }\n    }\n    const temporaryPatternCanvas = this.createPatternCanvas(owner);\n    let domMatrix = new DOMMatrix(matrix);\n    domMatrix = domMatrix.translate(temporaryPatternCanvas.offsetX, temporaryPatternCanvas.offsetY);\n    domMatrix = domMatrix.scale(1 / temporaryPatternCanvas.scaleX, 1 / temporaryPatternCanvas.scaleY);\n    const pattern = ctx.createPattern(temporaryPatternCanvas.canvas, \"repeat\");\n    pattern.setTransform(domMatrix);\n    return pattern;\n  }\n}\n\n;// CONCATENATED MODULE: ./src/shared/image_utils.js\n\nfunction convertToRGBA(params) {\n  switch (params.kind) {\n    case ImageKind.GRAYSCALE_1BPP:\n      return convertBlackAndWhiteToRGBA(params);\n    case ImageKind.RGB_24BPP:\n      return convertRGBToRGBA(params);\n  }\n  return null;\n}\nfunction convertBlackAndWhiteToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  width,\n  height,\n  nonBlackColor = 0xffffffff,\n  inverseDecode = false\n}) {\n  const black = util.FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n  const [zeroMapping, oneMapping] = inverseDecode ? [nonBlackColor, black] : [black, nonBlackColor];\n  const widthInSource = width >> 3;\n  const widthRemainder = width & 7;\n  const srcLength = src.length;\n  dest = new Uint32Array(dest.buffer);\n  let destPos = 0;\n  for (let i = 0; i < height; i++) {\n    for (const max = srcPos + widthInSource; srcPos < max; srcPos++) {\n      const elem = srcPos < srcLength ? src[srcPos] : 255;\n      dest[destPos++] = elem & 0b10000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1000 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b100 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b10 ? oneMapping : zeroMapping;\n      dest[destPos++] = elem & 0b1 ? oneMapping : zeroMapping;\n    }\n    if (widthRemainder === 0) {\n      continue;\n    }\n    const elem = srcPos < srcLength ? src[srcPos++] : 255;\n    for (let j = 0; j < widthRemainder; j++) {\n      dest[destPos++] = elem & 1 << 7 - j ? oneMapping : zeroMapping;\n    }\n  }\n  return {\n    srcPos,\n    destPos\n  };\n}\nfunction convertRGBToRGBA({\n  src,\n  srcPos = 0,\n  dest,\n  destPos = 0,\n  width,\n  height\n}) {\n  let i = 0;\n  const len32 = src.length >> 2;\n  const src32 = new Uint32Array(src.buffer, srcPos, len32);\n  if (FeatureTest.isLittleEndian) {\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i];\n      const s2 = src32[i + 1];\n      const s3 = src32[i + 2];\n      dest[destPos] = s1 | 0xff000000;\n      dest[destPos + 1] = s1 >>> 24 | s2 << 8 | 0xff000000;\n      dest[destPos + 2] = s2 >>> 16 | s3 << 16 | 0xff000000;\n      dest[destPos + 3] = s3 >>> 8 | 0xff000000;\n    }\n    for (let j = i * 4, jj = src.length; j < jj; j += 3) {\n      dest[destPos++] = src[j] | src[j + 1] << 8 | src[j + 2] << 16 | 0xff000000;\n    }\n  } else {\n    for (; i < len32 - 2; i += 3, destPos += 4) {\n      const s1 = src32[i];\n      const s2 = src32[i + 1];\n      const s3 = src32[i + 2];\n      dest[destPos] = s1 | 0xff;\n      dest[destPos + 1] = s1 << 24 | s2 >>> 8 | 0xff;\n      dest[destPos + 2] = s2 << 16 | s3 >>> 16 | 0xff;\n      dest[destPos + 3] = s3 << 8 | 0xff;\n    }\n    for (let j = i * 4, jj = src.length; j < jj; j += 3) {\n      dest[destPos++] = src[j] << 24 | src[j + 1] << 16 | src[j + 2] << 8 | 0xff;\n    }\n  }\n  return {\n    srcPos,\n    destPos\n  };\n}\nfunction grayToRGBA(src, dest) {\n  if (FeatureTest.isLittleEndian) {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = src[i] * 0x10101 | 0xff000000;\n    }\n  } else {\n    for (let i = 0, ii = src.length; i < ii; i++) {\n      dest[i] = src[i] * 0x1010100 | 0x000000ff;\n    }\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/canvas.js\n\n\n\n\nconst MIN_FONT_SIZE = 16;\nconst MAX_FONT_SIZE = 100;\nconst MAX_GROUP_SIZE = 4096;\nconst EXECUTION_TIME = 15;\nconst EXECUTION_STEPS = 10;\nconst MAX_SIZE_TO_COMPILE = 1000;\nconst FULL_CHUNK_HEIGHT = 16;\nfunction mirrorContextOperations(ctx, destCtx) {\n  if (ctx._removeMirroring) {\n    throw new Error(\"Context is already forwarding operations.\");\n  }\n  ctx.__originalSave = ctx.save;\n  ctx.__originalRestore = ctx.restore;\n  ctx.__originalRotate = ctx.rotate;\n  ctx.__originalScale = ctx.scale;\n  ctx.__originalTranslate = ctx.translate;\n  ctx.__originalTransform = ctx.transform;\n  ctx.__originalSetTransform = ctx.setTransform;\n  ctx.__originalResetTransform = ctx.resetTransform;\n  ctx.__originalClip = ctx.clip;\n  ctx.__originalMoveTo = ctx.moveTo;\n  ctx.__originalLineTo = ctx.lineTo;\n  ctx.__originalBezierCurveTo = ctx.bezierCurveTo;\n  ctx.__originalRect = ctx.rect;\n  ctx.__originalClosePath = ctx.closePath;\n  ctx.__originalBeginPath = ctx.beginPath;\n  ctx._removeMirroring = () => {\n    ctx.save = ctx.__originalSave;\n    ctx.restore = ctx.__originalRestore;\n    ctx.rotate = ctx.__originalRotate;\n    ctx.scale = ctx.__originalScale;\n    ctx.translate = ctx.__originalTranslate;\n    ctx.transform = ctx.__originalTransform;\n    ctx.setTransform = ctx.__originalSetTransform;\n    ctx.resetTransform = ctx.__originalResetTransform;\n    ctx.clip = ctx.__originalClip;\n    ctx.moveTo = ctx.__originalMoveTo;\n    ctx.lineTo = ctx.__originalLineTo;\n    ctx.bezierCurveTo = ctx.__originalBezierCurveTo;\n    ctx.rect = ctx.__originalRect;\n    ctx.closePath = ctx.__originalClosePath;\n    ctx.beginPath = ctx.__originalBeginPath;\n    delete ctx._removeMirroring;\n  };\n  ctx.save = function ctxSave() {\n    destCtx.save();\n    this.__originalSave();\n  };\n  ctx.restore = function ctxRestore() {\n    destCtx.restore();\n    this.__originalRestore();\n  };\n  ctx.translate = function ctxTranslate(x, y) {\n    destCtx.translate(x, y);\n    this.__originalTranslate(x, y);\n  };\n  ctx.scale = function ctxScale(x, y) {\n    destCtx.scale(x, y);\n    this.__originalScale(x, y);\n  };\n  ctx.transform = function ctxTransform(a, b, c, d, e, f) {\n    destCtx.transform(a, b, c, d, e, f);\n    this.__originalTransform(a, b, c, d, e, f);\n  };\n  ctx.setTransform = function ctxSetTransform(a, b, c, d, e, f) {\n    destCtx.setTransform(a, b, c, d, e, f);\n    this.__originalSetTransform(a, b, c, d, e, f);\n  };\n  ctx.resetTransform = function ctxResetTransform() {\n    destCtx.resetTransform();\n    this.__originalResetTransform();\n  };\n  ctx.rotate = function ctxRotate(angle) {\n    destCtx.rotate(angle);\n    this.__originalRotate(angle);\n  };\n  ctx.clip = function ctxRotate(rule) {\n    destCtx.clip(rule);\n    this.__originalClip(rule);\n  };\n  ctx.moveTo = function (x, y) {\n    destCtx.moveTo(x, y);\n    this.__originalMoveTo(x, y);\n  };\n  ctx.lineTo = function (x, y) {\n    destCtx.lineTo(x, y);\n    this.__originalLineTo(x, y);\n  };\n  ctx.bezierCurveTo = function (cp1x, cp1y, cp2x, cp2y, x, y) {\n    destCtx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n    this.__originalBezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);\n  };\n  ctx.rect = function (x, y, width, height) {\n    destCtx.rect(x, y, width, height);\n    this.__originalRect(x, y, width, height);\n  };\n  ctx.closePath = function () {\n    destCtx.closePath();\n    this.__originalClosePath();\n  };\n  ctx.beginPath = function () {\n    destCtx.beginPath();\n    this.__originalBeginPath();\n  };\n}\nclass CachedCanvases {\n  constructor(canvasFactory) {\n    this.canvasFactory = canvasFactory;\n    this.cache = Object.create(null);\n  }\n  getCanvas(id, width, height) {\n    let canvasEntry;\n    if (this.cache[id] !== undefined) {\n      canvasEntry = this.cache[id];\n      this.canvasFactory.reset(canvasEntry, width, height);\n    } else {\n      canvasEntry = this.canvasFactory.create(width, height);\n      this.cache[id] = canvasEntry;\n    }\n    return canvasEntry;\n  }\n  delete(id) {\n    delete this.cache[id];\n  }\n  clear() {\n    for (const id in this.cache) {\n      const canvasEntry = this.cache[id];\n      this.canvasFactory.destroy(canvasEntry);\n      delete this.cache[id];\n    }\n  }\n}\nfunction drawImageAtIntegerCoords(ctx, srcImg, srcX, srcY, srcW, srcH, destX, destY, destW, destH) {\n  const [a, b, c, d, tx, ty] = (0,display_utils.getCurrentTransform)(ctx);\n  if (b === 0 && c === 0) {\n    const tlX = destX * a + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destY * d + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destX + destW) * a + tx;\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destY + destH) * d + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n    ctx.setTransform(Math.sign(a), 0, 0, Math.sign(d), rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rWidth, rHeight);\n    ctx.setTransform(a, b, c, d, tx, ty);\n    return [rWidth, rHeight];\n  }\n  if (a === 0 && d === 0) {\n    const tlX = destY * c + tx;\n    const rTlX = Math.round(tlX);\n    const tlY = destX * b + ty;\n    const rTlY = Math.round(tlY);\n    const brX = (destY + destH) * c + tx;\n    const rWidth = Math.abs(Math.round(brX) - rTlX) || 1;\n    const brY = (destX + destW) * b + ty;\n    const rHeight = Math.abs(Math.round(brY) - rTlY) || 1;\n    ctx.setTransform(0, Math.sign(b), Math.sign(c), 0, rTlX, rTlY);\n    ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, 0, 0, rHeight, rWidth);\n    ctx.setTransform(a, b, c, d, tx, ty);\n    return [rHeight, rWidth];\n  }\n  ctx.drawImage(srcImg, srcX, srcY, srcW, srcH, destX, destY, destW, destH);\n  const scaleX = Math.hypot(a, b);\n  const scaleY = Math.hypot(c, d);\n  return [scaleX * destW, scaleY * destH];\n}\nfunction compileType3Glyph(imgData) {\n  const {\n    width,\n    height\n  } = imgData;\n  if (width > MAX_SIZE_TO_COMPILE || height > MAX_SIZE_TO_COMPILE) {\n    return null;\n  }\n  const POINT_TO_PROCESS_LIMIT = 1000;\n  const POINT_TYPES = new Uint8Array([0, 2, 4, 0, 1, 0, 5, 4, 8, 10, 0, 8, 0, 2, 1, 0]);\n  const width1 = width + 1;\n  let points = new Uint8Array(width1 * (height + 1));\n  let i, j, j0;\n  const lineSize = width + 7 & ~7;\n  let data = new Uint8Array(lineSize * height),\n    pos = 0;\n  for (const elem of imgData.data) {\n    let mask = 128;\n    while (mask > 0) {\n      data[pos++] = elem & mask ? 0 : 255;\n      mask >>= 1;\n    }\n  }\n  let count = 0;\n  pos = 0;\n  if (data[pos] !== 0) {\n    points[0] = 1;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j] = data[pos] ? 2 : 1;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j] = 2;\n    ++count;\n  }\n  for (i = 1; i < height; i++) {\n    pos = i * lineSize;\n    j0 = i * width1;\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0] = data[pos] ? 1 : 8;\n      ++count;\n    }\n    let sum = (data[pos] ? 4 : 0) + (data[pos - lineSize] ? 8 : 0);\n    for (j = 1; j < width; j++) {\n      sum = (sum >> 2) + (data[pos + 1] ? 4 : 0) + (data[pos - lineSize + 1] ? 8 : 0);\n      if (POINT_TYPES[sum]) {\n        points[j0 + j] = POINT_TYPES[sum];\n        ++count;\n      }\n      pos++;\n    }\n    if (data[pos - lineSize] !== data[pos]) {\n      points[j0 + j] = data[pos] ? 2 : 4;\n      ++count;\n    }\n    if (count > POINT_TO_PROCESS_LIMIT) {\n      return null;\n    }\n  }\n  pos = lineSize * (height - 1);\n  j0 = i * width1;\n  if (data[pos] !== 0) {\n    points[j0] = 8;\n    ++count;\n  }\n  for (j = 1; j < width; j++) {\n    if (data[pos] !== data[pos + 1]) {\n      points[j0 + j] = data[pos] ? 4 : 8;\n      ++count;\n    }\n    pos++;\n  }\n  if (data[pos] !== 0) {\n    points[j0 + j] = 4;\n    ++count;\n  }\n  if (count > POINT_TO_PROCESS_LIMIT) {\n    return null;\n  }\n  const steps = new Int32Array([0, width1, -1, 0, -width1, 0, 0, 0, 1]);\n  const path = new Path2D();\n  for (i = 0; count && i <= height; i++) {\n    let p = i * width1;\n    const end = p + width;\n    while (p < end && !points[p]) {\n      p++;\n    }\n    if (p === end) {\n      continue;\n    }\n    path.moveTo(p % width1, i);\n    const p0 = p;\n    let type = points[p];\n    do {\n      const step = steps[type];\n      do {\n        p += step;\n      } while (!points[p]);\n      const pp = points[p];\n      if (pp !== 5 && pp !== 10) {\n        type = pp;\n        points[p] = 0;\n      } else {\n        type = pp & 0x33 * type >> 4;\n        points[p] &= type >> 2 | type << 2;\n      }\n      path.lineTo(p % width1, p / width1 | 0);\n      if (!points[p]) {\n        --count;\n      }\n    } while (p0 !== p);\n    --i;\n  }\n  data = null;\n  points = null;\n  const drawOutline = function (c) {\n    c.save();\n    c.scale(1 / width, -1 / height);\n    c.translate(0, -height);\n    c.fill(path);\n    c.beginPath();\n    c.restore();\n  };\n  return drawOutline;\n}\nclass CanvasExtraState {\n  constructor(width, height) {\n    this.alphaIsShape = false;\n    this.fontSize = 0;\n    this.fontSizeScale = 1;\n    this.textMatrix = util.IDENTITY_MATRIX;\n    this.textMatrixScale = 1;\n    this.fontMatrix = util.FONT_IDENTITY_MATRIX;\n    this.leading = 0;\n    this.x = 0;\n    this.y = 0;\n    this.lineX = 0;\n    this.lineY = 0;\n    this.charSpacing = 0;\n    this.wordSpacing = 0;\n    this.textHScale = 1;\n    this.textRenderingMode = util.TextRenderingMode.FILL;\n    this.textRise = 0;\n    this.fillColor = \"#000000\";\n    this.strokeColor = \"#000000\";\n    this.patternFill = false;\n    this.fillAlpha = 1;\n    this.strokeAlpha = 1;\n    this.lineWidth = 1;\n    this.activeSMask = null;\n    this.transferMaps = \"none\";\n    this.startNewPathAndClipBox([0, 0, width, height]);\n  }\n  clone() {\n    const clone = Object.create(this);\n    clone.clipBox = this.clipBox.slice();\n    return clone;\n  }\n  setCurrentPoint(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n  updatePathMinMax(transform, x, y) {\n    [x, y] = util.Util.applyTransform([x, y], transform);\n    this.minX = Math.min(this.minX, x);\n    this.minY = Math.min(this.minY, y);\n    this.maxX = Math.max(this.maxX, x);\n    this.maxY = Math.max(this.maxY, y);\n  }\n  updateRectMinMax(transform, rect) {\n    const p1 = util.Util.applyTransform(rect, transform);\n    const p2 = util.Util.applyTransform(rect.slice(2), transform);\n    const p3 = util.Util.applyTransform([rect[0], rect[3]], transform);\n    const p4 = util.Util.applyTransform([rect[2], rect[1]], transform);\n    this.minX = Math.min(this.minX, p1[0], p2[0], p3[0], p4[0]);\n    this.minY = Math.min(this.minY, p1[1], p2[1], p3[1], p4[1]);\n    this.maxX = Math.max(this.maxX, p1[0], p2[0], p3[0], p4[0]);\n    this.maxY = Math.max(this.maxY, p1[1], p2[1], p3[1], p4[1]);\n  }\n  updateScalingPathMinMax(transform, minMax) {\n    util.Util.scaleMinMax(transform, minMax);\n    this.minX = Math.min(this.minX, minMax[0]);\n    this.minY = Math.min(this.minY, minMax[1]);\n    this.maxX = Math.max(this.maxX, minMax[2]);\n    this.maxY = Math.max(this.maxY, minMax[3]);\n  }\n  updateCurvePathMinMax(transform, x0, y0, x1, y1, x2, y2, x3, y3, minMax) {\n    const box = util.Util.bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3, minMax);\n    if (minMax) {\n      return;\n    }\n    this.updateRectMinMax(transform, box);\n  }\n  getPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    const box = [this.minX, this.minY, this.maxX, this.maxY];\n    if (pathType === PathType.STROKE) {\n      if (!transform) {\n        (0,util.unreachable)(\"Stroke bounding box must include transform.\");\n      }\n      const scale = util.Util.singularValueDecompose2dScale(transform);\n      const xStrokePad = scale[0] * this.lineWidth / 2;\n      const yStrokePad = scale[1] * this.lineWidth / 2;\n      box[0] -= xStrokePad;\n      box[1] -= yStrokePad;\n      box[2] += xStrokePad;\n      box[3] += yStrokePad;\n    }\n    return box;\n  }\n  updateClipFromPath() {\n    const intersect = util.Util.intersect(this.clipBox, this.getPathBoundingBox());\n    this.startNewPathAndClipBox(intersect || [0, 0, 0, 0]);\n  }\n  isEmptyClip() {\n    return this.minX === Infinity;\n  }\n  startNewPathAndClipBox(box) {\n    this.clipBox = box;\n    this.minX = Infinity;\n    this.minY = Infinity;\n    this.maxX = 0;\n    this.maxY = 0;\n  }\n  getClippedPathBoundingBox(pathType = PathType.FILL, transform = null) {\n    return util.Util.intersect(this.clipBox, this.getPathBoundingBox(pathType, transform));\n  }\n}\nfunction putBinaryImageData(ctx, imgData) {\n  if (typeof ImageData !== \"undefined\" && imgData instanceof ImageData) {\n    ctx.putImageData(imgData, 0, 0);\n    return;\n  }\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0,\n    destPos;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  let i, j, thisChunkHeight, elemsInThisChunk;\n  if (imgData.kind === util.ImageKind.GRAYSCALE_1BPP) {\n    const srcLength = src.byteLength;\n    const dest32 = new Uint32Array(dest.buffer, 0, dest.byteLength >> 2);\n    const dest32DataLength = dest32.length;\n    const fullSrcDiff = width + 7 >> 3;\n    const white = 0xffffffff;\n    const black = util.FeatureTest.isLittleEndian ? 0xff000000 : 0x000000ff;\n    for (i = 0; i < totalChunks; i++) {\n      thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n      destPos = 0;\n      for (j = 0; j < thisChunkHeight; j++) {\n        const srcDiff = srcLength - srcPos;\n        let k = 0;\n        const kEnd = srcDiff > fullSrcDiff ? width : srcDiff * 8 - 7;\n        const kEndUnrolled = kEnd & ~7;\n        let mask = 0;\n        let srcByte = 0;\n        for (; k < kEndUnrolled; k += 8) {\n          srcByte = src[srcPos++];\n          dest32[destPos++] = srcByte & 128 ? white : black;\n          dest32[destPos++] = srcByte & 64 ? white : black;\n          dest32[destPos++] = srcByte & 32 ? white : black;\n          dest32[destPos++] = srcByte & 16 ? white : black;\n          dest32[destPos++] = srcByte & 8 ? white : black;\n          dest32[destPos++] = srcByte & 4 ? white : black;\n          dest32[destPos++] = srcByte & 2 ? white : black;\n          dest32[destPos++] = srcByte & 1 ? white : black;\n        }\n        for (; k < kEnd; k++) {\n          if (mask === 0) {\n            srcByte = src[srcPos++];\n            mask = 128;\n          }\n          dest32[destPos++] = srcByte & mask ? white : black;\n          mask >>= 1;\n        }\n      }\n      while (destPos < dest32DataLength) {\n        dest32[destPos++] = 0;\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else if (imgData.kind === util.ImageKind.RGBA_32BPP) {\n    j = 0;\n    elemsInThisChunk = width * FULL_CHUNK_HEIGHT * 4;\n    for (i = 0; i < fullChunks; i++) {\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      srcPos += elemsInThisChunk;\n      ctx.putImageData(chunkImgData, 0, j);\n      j += FULL_CHUNK_HEIGHT;\n    }\n    if (i < totalChunks) {\n      elemsInThisChunk = width * partialChunkHeight * 4;\n      dest.set(src.subarray(srcPos, srcPos + elemsInThisChunk));\n      ctx.putImageData(chunkImgData, 0, j);\n    }\n  } else if (imgData.kind === util.ImageKind.RGB_24BPP) {\n    thisChunkHeight = FULL_CHUNK_HEIGHT;\n    elemsInThisChunk = width * thisChunkHeight;\n    for (i = 0; i < totalChunks; i++) {\n      if (i >= fullChunks) {\n        thisChunkHeight = partialChunkHeight;\n        elemsInThisChunk = width * thisChunkHeight;\n      }\n      destPos = 0;\n      for (j = elemsInThisChunk; j--;) {\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = src[srcPos++];\n        dest[destPos++] = 255;\n      }\n      ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n    }\n  } else {\n    throw new Error(`bad image kind: ${imgData.kind}`);\n  }\n}\nfunction putBinaryImageMask(ctx, imgData) {\n  if (imgData.bitmap) {\n    ctx.drawImage(imgData.bitmap, 0, 0);\n    return;\n  }\n  const height = imgData.height,\n    width = imgData.width;\n  const partialChunkHeight = height % FULL_CHUNK_HEIGHT;\n  const fullChunks = (height - partialChunkHeight) / FULL_CHUNK_HEIGHT;\n  const totalChunks = partialChunkHeight === 0 ? fullChunks : fullChunks + 1;\n  const chunkImgData = ctx.createImageData(width, FULL_CHUNK_HEIGHT);\n  let srcPos = 0;\n  const src = imgData.data;\n  const dest = chunkImgData.data;\n  for (let i = 0; i < totalChunks; i++) {\n    const thisChunkHeight = i < fullChunks ? FULL_CHUNK_HEIGHT : partialChunkHeight;\n    ({\n      srcPos\n    } = convertBlackAndWhiteToRGBA({\n      src,\n      srcPos,\n      dest,\n      width,\n      height: thisChunkHeight,\n      nonBlackColor: 0\n    }));\n    ctx.putImageData(chunkImgData, 0, i * FULL_CHUNK_HEIGHT);\n  }\n}\nfunction copyCtxState(sourceCtx, destCtx) {\n  const properties = [\"strokeStyle\", \"fillStyle\", \"fillRule\", \"globalAlpha\", \"lineWidth\", \"lineCap\", \"lineJoin\", \"miterLimit\", \"globalCompositeOperation\", \"font\", \"filter\"];\n  for (const property of properties) {\n    if (sourceCtx[property] !== undefined) {\n      destCtx[property] = sourceCtx[property];\n    }\n  }\n  if (sourceCtx.setLineDash !== undefined) {\n    destCtx.setLineDash(sourceCtx.getLineDash());\n    destCtx.lineDashOffset = sourceCtx.lineDashOffset;\n  }\n}\nfunction resetCtxToDefault(ctx) {\n  ctx.strokeStyle = ctx.fillStyle = \"#000000\";\n  ctx.fillRule = \"nonzero\";\n  ctx.globalAlpha = 1;\n  ctx.lineWidth = 1;\n  ctx.lineCap = \"butt\";\n  ctx.lineJoin = \"miter\";\n  ctx.miterLimit = 10;\n  ctx.globalCompositeOperation = \"source-over\";\n  ctx.font = \"10px sans-serif\";\n  if (ctx.setLineDash !== undefined) {\n    ctx.setLineDash([]);\n    ctx.lineDashOffset = 0;\n  }\n  if (!util.isNodeJS) {\n    const {\n      filter\n    } = ctx;\n    if (filter !== \"none\" && filter !== \"\") {\n      ctx.filter = \"none\";\n    }\n  }\n}\nfunction composeSMaskBackdrop(bytes, r0, g0, b0) {\n  const length = bytes.length;\n  for (let i = 3; i < length; i += 4) {\n    const alpha = bytes[i];\n    if (alpha === 0) {\n      bytes[i - 3] = r0;\n      bytes[i - 2] = g0;\n      bytes[i - 1] = b0;\n    } else if (alpha < 255) {\n      const alpha_ = 255 - alpha;\n      bytes[i - 3] = bytes[i - 3] * alpha + r0 * alpha_ >> 8;\n      bytes[i - 2] = bytes[i - 2] * alpha + g0 * alpha_ >> 8;\n      bytes[i - 1] = bytes[i - 1] * alpha + b0 * alpha_ >> 8;\n    }\n  }\n}\nfunction composeSMaskAlpha(maskData, layerData, transferMap) {\n  const length = maskData.length;\n  const scale = 1 / 255;\n  for (let i = 3; i < length; i += 4) {\n    const alpha = transferMap ? transferMap[maskData[i]] : maskData[i];\n    layerData[i] = layerData[i] * alpha * scale | 0;\n  }\n}\nfunction composeSMaskLuminosity(maskData, layerData, transferMap) {\n  const length = maskData.length;\n  for (let i = 3; i < length; i += 4) {\n    const y = maskData[i - 3] * 77 + maskData[i - 2] * 152 + maskData[i - 1] * 28;\n    layerData[i] = transferMap ? layerData[i] * transferMap[y >> 8] >> 8 : layerData[i] * y >> 16;\n  }\n}\nfunction genericComposeSMask(maskCtx, layerCtx, width, height, subtype, backdrop, transferMap, layerOffsetX, layerOffsetY, maskOffsetX, maskOffsetY) {\n  const hasBackdrop = !!backdrop;\n  const r0 = hasBackdrop ? backdrop[0] : 0;\n  const g0 = hasBackdrop ? backdrop[1] : 0;\n  const b0 = hasBackdrop ? backdrop[2] : 0;\n  const composeFn = subtype === \"Luminosity\" ? composeSMaskLuminosity : composeSMaskAlpha;\n  const PIXELS_TO_PROCESS = 1048576;\n  const chunkSize = Math.min(height, Math.ceil(PIXELS_TO_PROCESS / width));\n  for (let row = 0; row < height; row += chunkSize) {\n    const chunkHeight = Math.min(chunkSize, height - row);\n    const maskData = maskCtx.getImageData(layerOffsetX - maskOffsetX, row + (layerOffsetY - maskOffsetY), width, chunkHeight);\n    const layerData = layerCtx.getImageData(layerOffsetX, row + layerOffsetY, width, chunkHeight);\n    if (hasBackdrop) {\n      composeSMaskBackdrop(maskData.data, r0, g0, b0);\n    }\n    composeFn(maskData.data, layerData.data, transferMap);\n    layerCtx.putImageData(layerData, layerOffsetX, row + layerOffsetY);\n  }\n}\nfunction composeSMask(ctx, smask, layerCtx, layerBox) {\n  const layerOffsetX = layerBox[0];\n  const layerOffsetY = layerBox[1];\n  const layerWidth = layerBox[2] - layerOffsetX;\n  const layerHeight = layerBox[3] - layerOffsetY;\n  if (layerWidth === 0 || layerHeight === 0) {\n    return;\n  }\n  genericComposeSMask(smask.context, layerCtx, layerWidth, layerHeight, smask.subtype, smask.backdrop, smask.transferMap, layerOffsetX, layerOffsetY, smask.offsetX, smask.offsetY);\n  ctx.save();\n  ctx.globalAlpha = 1;\n  ctx.globalCompositeOperation = \"source-over\";\n  ctx.setTransform(1, 0, 0, 1, 0, 0);\n  ctx.drawImage(layerCtx.canvas, 0, 0);\n  ctx.restore();\n}\nfunction getImageSmoothingEnabled(transform, interpolate) {\n  if (interpolate) {\n    return true;\n  }\n  const scale = util.Util.singularValueDecompose2dScale(transform);\n  scale[0] = Math.fround(scale[0]);\n  scale[1] = Math.fround(scale[1]);\n  const actualScale = Math.fround((globalThis.devicePixelRatio || 1) * display_utils.PixelsPerInch.PDF_TO_CSS_UNITS);\n  return scale[0] <= actualScale && scale[1] <= actualScale;\n}\nconst LINE_CAP_STYLES = [\"butt\", \"round\", \"square\"];\nconst LINE_JOIN_STYLES = [\"miter\", \"round\", \"bevel\"];\nconst NORMAL_CLIP = {};\nconst EO_CLIP = {};\nclass CanvasGraphics {\n  constructor(canvasCtx, commonObjs, objs, canvasFactory, filterFactory, {\n    optionalContentConfig,\n    markedContentStack = null\n  }, annotationCanvasMap, pageColors) {\n    this.ctx = canvasCtx;\n    this.current = new CanvasExtraState(this.ctx.canvas.width, this.ctx.canvas.height);\n    this.stateStack = [];\n    this.pendingClip = null;\n    this.pendingEOFill = false;\n    this.res = null;\n    this.xobjs = null;\n    this.commonObjs = commonObjs;\n    this.objs = objs;\n    this.canvasFactory = canvasFactory;\n    this.filterFactory = filterFactory;\n    this.groupStack = [];\n    this.processingType3 = null;\n    this.baseTransform = null;\n    this.baseTransformStack = [];\n    this.groupLevel = 0;\n    this.smaskStack = [];\n    this.smaskCounter = 0;\n    this.tempSMask = null;\n    this.suspendedCtx = null;\n    this.contentVisible = true;\n    this.markedContentStack = markedContentStack || [];\n    this.optionalContentConfig = optionalContentConfig;\n    this.cachedCanvases = new CachedCanvases(this.canvasFactory);\n    this.cachedPatterns = new Map();\n    this.annotationCanvasMap = annotationCanvasMap;\n    this.viewportScale = 1;\n    this.outputScaleX = 1;\n    this.outputScaleY = 1;\n    this.pageColors = pageColors;\n    this._cachedScaleForStroking = [-1, 0];\n    this._cachedGetSinglePixelWidth = null;\n    this._cachedBitmapsMap = new Map();\n  }\n  getObject(data, fallback = null) {\n    if (typeof data === \"string\") {\n      return data.startsWith(\"g_\") ? this.commonObjs.get(data) : this.objs.get(data);\n    }\n    return fallback;\n  }\n  beginDrawing({\n    transform,\n    viewport,\n    transparency = false,\n    background = null\n  }) {\n    const width = this.ctx.canvas.width;\n    const height = this.ctx.canvas.height;\n    const savedFillStyle = this.ctx.fillStyle;\n    this.ctx.fillStyle = background || \"#ffffff\";\n    this.ctx.fillRect(0, 0, width, height);\n    this.ctx.fillStyle = savedFillStyle;\n    if (transparency) {\n      const transparentCanvas = this.cachedCanvases.getCanvas(\"transparent\", width, height);\n      this.compositeCtx = this.ctx;\n      this.transparentCanvas = transparentCanvas.canvas;\n      this.ctx = transparentCanvas.context;\n      this.ctx.save();\n      this.ctx.transform(...(0,display_utils.getCurrentTransform)(this.compositeCtx));\n    }\n    this.ctx.save();\n    resetCtxToDefault(this.ctx);\n    if (transform) {\n      this.ctx.transform(...transform);\n      this.outputScaleX = transform[0];\n      this.outputScaleY = transform[0];\n    }\n    this.ctx.transform(...viewport.transform);\n    this.viewportScale = viewport.scale;\n    this.baseTransform = (0,display_utils.getCurrentTransform)(this.ctx);\n  }\n  executeOperatorList(operatorList, executionStartIdx, continueCallback, stepper) {\n    const argsArray = operatorList.argsArray;\n    const fnArray = operatorList.fnArray;\n    let i = executionStartIdx || 0;\n    const argsArrayLen = argsArray.length;\n    if (argsArrayLen === i) {\n      return i;\n    }\n    const chunkOperations = argsArrayLen - i > EXECUTION_STEPS && typeof continueCallback === \"function\";\n    const endTime = chunkOperations ? Date.now() + EXECUTION_TIME : 0;\n    let steps = 0;\n    const commonObjs = this.commonObjs;\n    const objs = this.objs;\n    let fnId;\n    while (true) {\n      if (stepper !== undefined && i === stepper.nextBreakPoint) {\n        stepper.breakIt(i, continueCallback);\n        return i;\n      }\n      fnId = fnArray[i];\n      if (fnId !== util.OPS.dependency) {\n        this[fnId].apply(this, argsArray[i]);\n      } else {\n        for (const depObjId of argsArray[i]) {\n          const objsPool = depObjId.startsWith(\"g_\") ? commonObjs : objs;\n          if (!objsPool.has(depObjId)) {\n            objsPool.get(depObjId, continueCallback);\n            return i;\n          }\n        }\n      }\n      i++;\n      if (i === argsArrayLen) {\n        return i;\n      }\n      if (chunkOperations && ++steps > EXECUTION_STEPS) {\n        if (Date.now() > endTime) {\n          continueCallback();\n          return i;\n        }\n        steps = 0;\n      }\n    }\n  }\n  #restoreInitialState() {\n    while (this.stateStack.length || this.inSMaskMode) {\n      this.restore();\n    }\n    this.ctx.restore();\n    if (this.transparentCanvas) {\n      this.ctx = this.compositeCtx;\n      this.ctx.save();\n      this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n      this.ctx.drawImage(this.transparentCanvas, 0, 0);\n      this.ctx.restore();\n      this.transparentCanvas = null;\n    }\n  }\n  endDrawing() {\n    this.#restoreInitialState();\n    this.cachedCanvases.clear();\n    this.cachedPatterns.clear();\n    for (const cache of this._cachedBitmapsMap.values()) {\n      for (const canvas of cache.values()) {\n        if (typeof HTMLCanvasElement !== \"undefined\" && canvas instanceof HTMLCanvasElement) {\n          canvas.width = canvas.height = 0;\n        }\n      }\n      cache.clear();\n    }\n    this._cachedBitmapsMap.clear();\n    this.#drawFilter();\n  }\n  #drawFilter() {\n    if (this.pageColors) {\n      const hcmFilterId = this.filterFactory.addHCMFilter(this.pageColors.foreground, this.pageColors.background);\n      if (hcmFilterId !== \"none\") {\n        const savedFilter = this.ctx.filter;\n        this.ctx.filter = hcmFilterId;\n        this.ctx.drawImage(this.ctx.canvas, 0, 0);\n        this.ctx.filter = savedFilter;\n      }\n    }\n  }\n  _scaleImage(img, inverseTransform) {\n    const width = img.width;\n    const height = img.height;\n    let widthScale = Math.max(Math.hypot(inverseTransform[0], inverseTransform[1]), 1);\n    let heightScale = Math.max(Math.hypot(inverseTransform[2], inverseTransform[3]), 1);\n    let paintWidth = width,\n      paintHeight = height;\n    let tmpCanvasId = \"prescale1\";\n    let tmpCanvas, tmpCtx;\n    while (widthScale > 2 && paintWidth > 1 || heightScale > 2 && paintHeight > 1) {\n      let newWidth = paintWidth,\n        newHeight = paintHeight;\n      if (widthScale > 2 && paintWidth > 1) {\n        newWidth = paintWidth >= 16384 ? Math.floor(paintWidth / 2) - 1 || 1 : Math.ceil(paintWidth / 2);\n        widthScale /= paintWidth / newWidth;\n      }\n      if (heightScale > 2 && paintHeight > 1) {\n        newHeight = paintHeight >= 16384 ? Math.floor(paintHeight / 2) - 1 || 1 : Math.ceil(paintHeight) / 2;\n        heightScale /= paintHeight / newHeight;\n      }\n      tmpCanvas = this.cachedCanvases.getCanvas(tmpCanvasId, newWidth, newHeight);\n      tmpCtx = tmpCanvas.context;\n      tmpCtx.clearRect(0, 0, newWidth, newHeight);\n      tmpCtx.drawImage(img, 0, 0, paintWidth, paintHeight, 0, 0, newWidth, newHeight);\n      img = tmpCanvas.canvas;\n      paintWidth = newWidth;\n      paintHeight = newHeight;\n      tmpCanvasId = tmpCanvasId === \"prescale1\" ? \"prescale2\" : \"prescale1\";\n    }\n    return {\n      img,\n      paintWidth,\n      paintHeight\n    };\n  }\n  _createMaskCanvas(img) {\n    const ctx = this.ctx;\n    const {\n      width,\n      height\n    } = img;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    const currentTransform = (0,display_utils.getCurrentTransform)(ctx);\n    let cache, cacheKey, scaled, maskCanvas;\n    if ((img.bitmap || img.data) && img.count > 1) {\n      const mainKey = img.bitmap || img.data.buffer;\n      cacheKey = JSON.stringify(isPatternFill ? currentTransform : [currentTransform.slice(0, 4), fillColor]);\n      cache = this._cachedBitmapsMap.get(mainKey);\n      if (!cache) {\n        cache = new Map();\n        this._cachedBitmapsMap.set(mainKey, cache);\n      }\n      const cachedImage = cache.get(cacheKey);\n      if (cachedImage && !isPatternFill) {\n        const offsetX = Math.round(Math.min(currentTransform[0], currentTransform[2]) + currentTransform[4]);\n        const offsetY = Math.round(Math.min(currentTransform[1], currentTransform[3]) + currentTransform[5]);\n        return {\n          canvas: cachedImage,\n          offsetX,\n          offsetY\n        };\n      }\n      scaled = cachedImage;\n    }\n    if (!scaled) {\n      maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n      putBinaryImageMask(maskCanvas.context, img);\n    }\n    let maskToCanvas = util.Util.transform(currentTransform, [1 / width, 0, 0, -1 / height, 0, 0]);\n    maskToCanvas = util.Util.transform(maskToCanvas, [1, 0, 0, 1, 0, -height]);\n    const [minX, minY, maxX, maxY] = util.Util.getAxialAlignedBoundingBox([0, 0, width, height], maskToCanvas);\n    const drawnWidth = Math.round(maxX - minX) || 1;\n    const drawnHeight = Math.round(maxY - minY) || 1;\n    const fillCanvas = this.cachedCanvases.getCanvas(\"fillCanvas\", drawnWidth, drawnHeight);\n    const fillCtx = fillCanvas.context;\n    const offsetX = minX;\n    const offsetY = minY;\n    fillCtx.translate(-offsetX, -offsetY);\n    fillCtx.transform(...maskToCanvas);\n    if (!scaled) {\n      scaled = this._scaleImage(maskCanvas.canvas, (0,display_utils.getCurrentTransformInverse)(fillCtx));\n      scaled = scaled.img;\n      if (cache && isPatternFill) {\n        cache.set(cacheKey, scaled);\n      }\n    }\n    fillCtx.imageSmoothingEnabled = getImageSmoothingEnabled((0,display_utils.getCurrentTransform)(fillCtx), img.interpolate);\n    drawImageAtIntegerCoords(fillCtx, scaled, 0, 0, scaled.width, scaled.height, 0, 0, width, height);\n    fillCtx.globalCompositeOperation = \"source-in\";\n    const inverse = util.Util.transform((0,display_utils.getCurrentTransformInverse)(fillCtx), [1, 0, 0, 1, -offsetX, -offsetY]);\n    fillCtx.fillStyle = isPatternFill ? fillColor.getPattern(ctx, this, inverse, PathType.FILL) : fillColor;\n    fillCtx.fillRect(0, 0, width, height);\n    if (cache && !isPatternFill) {\n      this.cachedCanvases.delete(\"fillCanvas\");\n      cache.set(cacheKey, fillCanvas.canvas);\n    }\n    return {\n      canvas: fillCanvas.canvas,\n      offsetX: Math.round(offsetX),\n      offsetY: Math.round(offsetY)\n    };\n  }\n  setLineWidth(width) {\n    if (width !== this.current.lineWidth) {\n      this._cachedScaleForStroking[0] = -1;\n    }\n    this.current.lineWidth = width;\n    this.ctx.lineWidth = width;\n  }\n  setLineCap(style) {\n    this.ctx.lineCap = LINE_CAP_STYLES[style];\n  }\n  setLineJoin(style) {\n    this.ctx.lineJoin = LINE_JOIN_STYLES[style];\n  }\n  setMiterLimit(limit) {\n    this.ctx.miterLimit = limit;\n  }\n  setDash(dashArray, dashPhase) {\n    const ctx = this.ctx;\n    if (ctx.setLineDash !== undefined) {\n      ctx.setLineDash(dashArray);\n      ctx.lineDashOffset = dashPhase;\n    }\n  }\n  setRenderingIntent(intent) {}\n  setFlatness(flatness) {}\n  setGState(states) {\n    for (const [key, value] of states) {\n      switch (key) {\n        case \"LW\":\n          this.setLineWidth(value);\n          break;\n        case \"LC\":\n          this.setLineCap(value);\n          break;\n        case \"LJ\":\n          this.setLineJoin(value);\n          break;\n        case \"ML\":\n          this.setMiterLimit(value);\n          break;\n        case \"D\":\n          this.setDash(value[0], value[1]);\n          break;\n        case \"RI\":\n          this.setRenderingIntent(value);\n          break;\n        case \"FL\":\n          this.setFlatness(value);\n          break;\n        case \"Font\":\n          this.setFont(value[0], value[1]);\n          break;\n        case \"CA\":\n          this.current.strokeAlpha = value;\n          break;\n        case \"ca\":\n          this.current.fillAlpha = value;\n          this.ctx.globalAlpha = value;\n          break;\n        case \"BM\":\n          this.ctx.globalCompositeOperation = value;\n          break;\n        case \"SMask\":\n          this.current.activeSMask = value ? this.tempSMask : null;\n          this.tempSMask = null;\n          this.checkSMaskState();\n          break;\n        case \"TR\":\n          this.ctx.filter = this.current.transferMaps = this.filterFactory.addFilter(value);\n          break;\n      }\n    }\n  }\n  get inSMaskMode() {\n    return !!this.suspendedCtx;\n  }\n  checkSMaskState() {\n    const inSMaskMode = this.inSMaskMode;\n    if (this.current.activeSMask && !inSMaskMode) {\n      this.beginSMaskMode();\n    } else if (!this.current.activeSMask && inSMaskMode) {\n      this.endSMaskMode();\n    }\n  }\n  beginSMaskMode() {\n    if (this.inSMaskMode) {\n      throw new Error(\"beginSMaskMode called while already in smask mode\");\n    }\n    const drawnWidth = this.ctx.canvas.width;\n    const drawnHeight = this.ctx.canvas.height;\n    const cacheId = \"smaskGroupAt\" + this.groupLevel;\n    const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight);\n    this.suspendedCtx = this.ctx;\n    this.ctx = scratchCanvas.context;\n    const ctx = this.ctx;\n    ctx.setTransform(...(0,display_utils.getCurrentTransform)(this.suspendedCtx));\n    copyCtxState(this.suspendedCtx, ctx);\n    mirrorContextOperations(ctx, this.suspendedCtx);\n    this.setGState([[\"BM\", \"source-over\"], [\"ca\", 1], [\"CA\", 1]]);\n  }\n  endSMaskMode() {\n    if (!this.inSMaskMode) {\n      throw new Error(\"endSMaskMode called while not in smask mode\");\n    }\n    this.ctx._removeMirroring();\n    copyCtxState(this.ctx, this.suspendedCtx);\n    this.ctx = this.suspendedCtx;\n    this.suspendedCtx = null;\n  }\n  compose(dirtyBox) {\n    if (!this.current.activeSMask) {\n      return;\n    }\n    if (!dirtyBox) {\n      dirtyBox = [0, 0, this.ctx.canvas.width, this.ctx.canvas.height];\n    } else {\n      dirtyBox[0] = Math.floor(dirtyBox[0]);\n      dirtyBox[1] = Math.floor(dirtyBox[1]);\n      dirtyBox[2] = Math.ceil(dirtyBox[2]);\n      dirtyBox[3] = Math.ceil(dirtyBox[3]);\n    }\n    const smask = this.current.activeSMask;\n    const suspendedCtx = this.suspendedCtx;\n    composeSMask(suspendedCtx, smask, this.ctx, dirtyBox);\n    this.ctx.save();\n    this.ctx.setTransform(1, 0, 0, 1, 0, 0);\n    this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height);\n    this.ctx.restore();\n  }\n  save() {\n    if (this.inSMaskMode) {\n      copyCtxState(this.ctx, this.suspendedCtx);\n      this.suspendedCtx.save();\n    } else {\n      this.ctx.save();\n    }\n    const old = this.current;\n    this.stateStack.push(old);\n    this.current = old.clone();\n  }\n  restore() {\n    if (this.stateStack.length === 0 && this.inSMaskMode) {\n      this.endSMaskMode();\n    }\n    if (this.stateStack.length !== 0) {\n      this.current = this.stateStack.pop();\n      if (this.inSMaskMode) {\n        this.suspendedCtx.restore();\n        copyCtxState(this.suspendedCtx, this.ctx);\n      } else {\n        this.ctx.restore();\n      }\n      this.checkSMaskState();\n      this.pendingClip = null;\n      this._cachedScaleForStroking[0] = -1;\n      this._cachedGetSinglePixelWidth = null;\n    }\n  }\n  transform(a, b, c, d, e, f) {\n    this.ctx.transform(a, b, c, d, e, f);\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n  }\n  constructPath(ops, args, minMax) {\n    const ctx = this.ctx;\n    const current = this.current;\n    let x = current.x,\n      y = current.y;\n    let startX, startY;\n    const currentTransform = (0,display_utils.getCurrentTransform)(ctx);\n    const isScalingMatrix = currentTransform[0] === 0 && currentTransform[3] === 0 || currentTransform[1] === 0 && currentTransform[2] === 0;\n    const minMaxForBezier = isScalingMatrix ? minMax.slice(0) : null;\n    for (let i = 0, j = 0, ii = ops.length; i < ii; i++) {\n      switch (ops[i] | 0) {\n        case util.OPS.rectangle:\n          x = args[j++];\n          y = args[j++];\n          const width = args[j++];\n          const height = args[j++];\n          const xw = x + width;\n          const yh = y + height;\n          ctx.moveTo(x, y);\n          if (width === 0 || height === 0) {\n            ctx.lineTo(xw, yh);\n          } else {\n            ctx.lineTo(xw, y);\n            ctx.lineTo(xw, yh);\n            ctx.lineTo(x, yh);\n          }\n          if (!isScalingMatrix) {\n            current.updateRectMinMax(currentTransform, [x, y, xw, yh]);\n          }\n          ctx.closePath();\n          break;\n        case util.OPS.moveTo:\n          x = args[j++];\n          y = args[j++];\n          ctx.moveTo(x, y);\n          if (!isScalingMatrix) {\n            current.updatePathMinMax(currentTransform, x, y);\n          }\n          break;\n        case util.OPS.lineTo:\n          x = args[j++];\n          y = args[j++];\n          ctx.lineTo(x, y);\n          if (!isScalingMatrix) {\n            current.updatePathMinMax(currentTransform, x, y);\n          }\n          break;\n        case util.OPS.curveTo:\n          startX = x;\n          startY = y;\n          x = args[j + 4];\n          y = args[j + 5];\n          ctx.bezierCurveTo(args[j], args[j + 1], args[j + 2], args[j + 3], x, y);\n          current.updateCurvePathMinMax(currentTransform, startX, startY, args[j], args[j + 1], args[j + 2], args[j + 3], x, y, minMaxForBezier);\n          j += 6;\n          break;\n        case util.OPS.curveTo2:\n          startX = x;\n          startY = y;\n          ctx.bezierCurveTo(x, y, args[j], args[j + 1], args[j + 2], args[j + 3]);\n          current.updateCurvePathMinMax(currentTransform, startX, startY, x, y, args[j], args[j + 1], args[j + 2], args[j + 3], minMaxForBezier);\n          x = args[j + 2];\n          y = args[j + 3];\n          j += 4;\n          break;\n        case util.OPS.curveTo3:\n          startX = x;\n          startY = y;\n          x = args[j + 2];\n          y = args[j + 3];\n          ctx.bezierCurveTo(args[j], args[j + 1], x, y, x, y);\n          current.updateCurvePathMinMax(currentTransform, startX, startY, args[j], args[j + 1], x, y, x, y, minMaxForBezier);\n          j += 4;\n          break;\n        case util.OPS.closePath:\n          ctx.closePath();\n          break;\n      }\n    }\n    if (isScalingMatrix) {\n      current.updateScalingPathMinMax(currentTransform, minMaxForBezier);\n    }\n    current.setCurrentPoint(x, y);\n  }\n  closePath() {\n    this.ctx.closePath();\n  }\n  stroke(consumePath = true) {\n    const ctx = this.ctx;\n    const strokeColor = this.current.strokeColor;\n    ctx.globalAlpha = this.current.strokeAlpha;\n    if (this.contentVisible) {\n      if (typeof strokeColor === \"object\" && strokeColor?.getPattern) {\n        ctx.save();\n        ctx.strokeStyle = strokeColor.getPattern(ctx, this, (0,display_utils.getCurrentTransformInverse)(ctx), PathType.STROKE);\n        this.rescaleAndStroke(false);\n        ctx.restore();\n      } else {\n        this.rescaleAndStroke(true);\n      }\n    }\n    if (consumePath) {\n      this.consumePath(this.current.getClippedPathBoundingBox());\n    }\n    ctx.globalAlpha = this.current.fillAlpha;\n  }\n  closeStroke() {\n    this.closePath();\n    this.stroke();\n  }\n  fill(consumePath = true) {\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    let needRestore = false;\n    if (isPatternFill) {\n      ctx.save();\n      ctx.fillStyle = fillColor.getPattern(ctx, this, (0,display_utils.getCurrentTransformInverse)(ctx), PathType.FILL);\n      needRestore = true;\n    }\n    const intersect = this.current.getClippedPathBoundingBox();\n    if (this.contentVisible && intersect !== null) {\n      if (this.pendingEOFill) {\n        ctx.fill(\"evenodd\");\n        this.pendingEOFill = false;\n      } else {\n        ctx.fill();\n      }\n    }\n    if (needRestore) {\n      ctx.restore();\n    }\n    if (consumePath) {\n      this.consumePath(intersect);\n    }\n  }\n  eoFill() {\n    this.pendingEOFill = true;\n    this.fill();\n  }\n  fillStroke() {\n    this.fill(false);\n    this.stroke(false);\n    this.consumePath();\n  }\n  eoFillStroke() {\n    this.pendingEOFill = true;\n    this.fillStroke();\n  }\n  closeFillStroke() {\n    this.closePath();\n    this.fillStroke();\n  }\n  closeEOFillStroke() {\n    this.pendingEOFill = true;\n    this.closePath();\n    this.fillStroke();\n  }\n  endPath() {\n    this.consumePath();\n  }\n  clip() {\n    this.pendingClip = NORMAL_CLIP;\n  }\n  eoClip() {\n    this.pendingClip = EO_CLIP;\n  }\n  beginText() {\n    this.current.textMatrix = util.IDENTITY_MATRIX;\n    this.current.textMatrixScale = 1;\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n  }\n  endText() {\n    const paths = this.pendingTextPaths;\n    const ctx = this.ctx;\n    if (paths === undefined) {\n      ctx.beginPath();\n      return;\n    }\n    ctx.save();\n    ctx.beginPath();\n    for (const path of paths) {\n      ctx.setTransform(...path.transform);\n      ctx.translate(path.x, path.y);\n      path.addToPath(ctx, path.fontSize);\n    }\n    ctx.restore();\n    ctx.clip();\n    ctx.beginPath();\n    delete this.pendingTextPaths;\n  }\n  setCharSpacing(spacing) {\n    this.current.charSpacing = spacing;\n  }\n  setWordSpacing(spacing) {\n    this.current.wordSpacing = spacing;\n  }\n  setHScale(scale) {\n    this.current.textHScale = scale / 100;\n  }\n  setLeading(leading) {\n    this.current.leading = -leading;\n  }\n  setFont(fontRefName, size) {\n    const fontObj = this.commonObjs.get(fontRefName);\n    const current = this.current;\n    if (!fontObj) {\n      throw new Error(`Can't find font for ${fontRefName}`);\n    }\n    current.fontMatrix = fontObj.fontMatrix || util.FONT_IDENTITY_MATRIX;\n    if (current.fontMatrix[0] === 0 || current.fontMatrix[3] === 0) {\n      (0,util.warn)(\"Invalid font matrix for font \" + fontRefName);\n    }\n    if (size < 0) {\n      size = -size;\n      current.fontDirection = -1;\n    } else {\n      current.fontDirection = 1;\n    }\n    this.current.font = fontObj;\n    this.current.fontSize = size;\n    if (fontObj.isType3Font) {\n      return;\n    }\n    const name = fontObj.loadedName || \"sans-serif\";\n    const typeface = fontObj.systemFontInfo?.css || `\"${name}\", ${fontObj.fallbackName}`;\n    let bold = \"normal\";\n    if (fontObj.black) {\n      bold = \"900\";\n    } else if (fontObj.bold) {\n      bold = \"bold\";\n    }\n    const italic = fontObj.italic ? \"italic\" : \"normal\";\n    let browserFontSize = size;\n    if (size < MIN_FONT_SIZE) {\n      browserFontSize = MIN_FONT_SIZE;\n    } else if (size > MAX_FONT_SIZE) {\n      browserFontSize = MAX_FONT_SIZE;\n    }\n    this.current.fontSizeScale = size / browserFontSize;\n    this.ctx.font = `${italic} ${bold} ${browserFontSize}px ${typeface}`;\n  }\n  setTextRenderingMode(mode) {\n    this.current.textRenderingMode = mode;\n  }\n  setTextRise(rise) {\n    this.current.textRise = rise;\n  }\n  moveText(x, y) {\n    this.current.x = this.current.lineX += x;\n    this.current.y = this.current.lineY += y;\n  }\n  setLeadingMoveText(x, y) {\n    this.setLeading(-y);\n    this.moveText(x, y);\n  }\n  setTextMatrix(a, b, c, d, e, f) {\n    this.current.textMatrix = [a, b, c, d, e, f];\n    this.current.textMatrixScale = Math.hypot(a, b);\n    this.current.x = this.current.lineX = 0;\n    this.current.y = this.current.lineY = 0;\n  }\n  nextLine() {\n    this.moveText(0, this.current.leading);\n  }\n  paintChar(character, x, y, patternTransform) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const textRenderingMode = current.textRenderingMode;\n    const fontSize = current.fontSize / current.fontSizeScale;\n    const fillStrokeMode = textRenderingMode & util.TextRenderingMode.FILL_STROKE_MASK;\n    const isAddToPathSet = !!(textRenderingMode & util.TextRenderingMode.ADD_TO_PATH_FLAG);\n    const patternFill = current.patternFill && !font.missingFile;\n    let addToPath;\n    if (font.disableFontFace || isAddToPathSet || patternFill) {\n      addToPath = font.getPathGenerator(this.commonObjs, character);\n    }\n    if (font.disableFontFace || patternFill) {\n      ctx.save();\n      ctx.translate(x, y);\n      ctx.beginPath();\n      addToPath(ctx, fontSize);\n      if (patternTransform) {\n        ctx.setTransform(...patternTransform);\n      }\n      if (fillStrokeMode === util.TextRenderingMode.FILL || fillStrokeMode === util.TextRenderingMode.FILL_STROKE) {\n        ctx.fill();\n      }\n      if (fillStrokeMode === util.TextRenderingMode.STROKE || fillStrokeMode === util.TextRenderingMode.FILL_STROKE) {\n        ctx.stroke();\n      }\n      ctx.restore();\n    } else {\n      if (fillStrokeMode === util.TextRenderingMode.FILL || fillStrokeMode === util.TextRenderingMode.FILL_STROKE) {\n        ctx.fillText(character, x, y);\n      }\n      if (fillStrokeMode === util.TextRenderingMode.STROKE || fillStrokeMode === util.TextRenderingMode.FILL_STROKE) {\n        ctx.strokeText(character, x, y);\n      }\n    }\n    if (isAddToPathSet) {\n      const paths = this.pendingTextPaths ||= [];\n      paths.push({\n        transform: (0,display_utils.getCurrentTransform)(ctx),\n        x,\n        y,\n        fontSize,\n        addToPath\n      });\n    }\n  }\n  get isFontSubpixelAAEnabled() {\n    const {\n      context: ctx\n    } = this.cachedCanvases.getCanvas(\"isFontSubpixelAAEnabled\", 10, 10);\n    ctx.scale(1.5, 1);\n    ctx.fillText(\"I\", 0, 10);\n    const data = ctx.getImageData(0, 0, 10, 10).data;\n    let enabled = false;\n    for (let i = 3; i < data.length; i += 4) {\n      if (data[i] > 0 && data[i] < 255) {\n        enabled = true;\n        break;\n      }\n    }\n    return (0,util.shadow)(this, \"isFontSubpixelAAEnabled\", enabled);\n  }\n  showText(glyphs) {\n    const current = this.current;\n    const font = current.font;\n    if (font.isType3Font) {\n      return this.showType3Text(glyphs);\n    }\n    const fontSize = current.fontSize;\n    if (fontSize === 0) {\n      return undefined;\n    }\n    const ctx = this.ctx;\n    const fontSizeScale = current.fontSizeScale;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const fontDirection = current.fontDirection;\n    const textHScale = current.textHScale * fontDirection;\n    const glyphsLength = glyphs.length;\n    const vertical = font.vertical;\n    const spacingDir = vertical ? 1 : -1;\n    const defaultVMetrics = font.defaultVMetrics;\n    const widthAdvanceScale = fontSize * current.fontMatrix[0];\n    const simpleFillText = current.textRenderingMode === util.TextRenderingMode.FILL && !font.disableFontFace && !current.patternFill;\n    ctx.save();\n    ctx.transform(...current.textMatrix);\n    ctx.translate(current.x, current.y + current.textRise);\n    if (fontDirection > 0) {\n      ctx.scale(textHScale, -1);\n    } else {\n      ctx.scale(textHScale, 1);\n    }\n    let patternTransform;\n    if (current.patternFill) {\n      ctx.save();\n      const pattern = current.fillColor.getPattern(ctx, this, (0,display_utils.getCurrentTransformInverse)(ctx), PathType.FILL);\n      patternTransform = (0,display_utils.getCurrentTransform)(ctx);\n      ctx.restore();\n      ctx.fillStyle = pattern;\n    }\n    let lineWidth = current.lineWidth;\n    const scale = current.textMatrixScale;\n    if (scale === 0 || lineWidth === 0) {\n      const fillStrokeMode = current.textRenderingMode & util.TextRenderingMode.FILL_STROKE_MASK;\n      if (fillStrokeMode === util.TextRenderingMode.STROKE || fillStrokeMode === util.TextRenderingMode.FILL_STROKE) {\n        lineWidth = this.getSinglePixelWidth();\n      }\n    } else {\n      lineWidth /= scale;\n    }\n    if (fontSizeScale !== 1.0) {\n      ctx.scale(fontSizeScale, fontSizeScale);\n      lineWidth /= fontSizeScale;\n    }\n    ctx.lineWidth = lineWidth;\n    if (font.isInvalidPDFjsFont) {\n      const chars = [];\n      let width = 0;\n      for (const glyph of glyphs) {\n        chars.push(glyph.unicode);\n        width += glyph.width;\n      }\n      ctx.fillText(chars.join(\"\"), 0, 0);\n      current.x += width * widthAdvanceScale * textHScale;\n      ctx.restore();\n      this.compose();\n      return undefined;\n    }\n    let x = 0,\n      i;\n    for (i = 0; i < glyphsLength; ++i) {\n      const glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        x += spacingDir * glyph * fontSize / 1000;\n        continue;\n      }\n      let restoreNeeded = false;\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const character = glyph.fontChar;\n      const accent = glyph.accent;\n      let scaledX, scaledY;\n      let width = glyph.width;\n      if (vertical) {\n        const vmetric = glyph.vmetric || defaultVMetrics;\n        const vx = -(glyph.vmetric ? vmetric[1] : width * 0.5) * widthAdvanceScale;\n        const vy = vmetric[2] * widthAdvanceScale;\n        width = vmetric ? -vmetric[0] : width;\n        scaledX = vx / fontSizeScale;\n        scaledY = (x + vy) / fontSizeScale;\n      } else {\n        scaledX = x / fontSizeScale;\n        scaledY = 0;\n      }\n      if (font.remeasure && width > 0) {\n        const measuredWidth = ctx.measureText(character).width * 1000 / fontSize * fontSizeScale;\n        if (width < measuredWidth && this.isFontSubpixelAAEnabled) {\n          const characterScaleX = width / measuredWidth;\n          restoreNeeded = true;\n          ctx.save();\n          ctx.scale(characterScaleX, 1);\n          scaledX /= characterScaleX;\n        } else if (width !== measuredWidth) {\n          scaledX += (width - measuredWidth) / 2000 * fontSize / fontSizeScale;\n        }\n      }\n      if (this.contentVisible && (glyph.isInFont || font.missingFile)) {\n        if (simpleFillText && !accent) {\n          ctx.fillText(character, scaledX, scaledY);\n        } else {\n          this.paintChar(character, scaledX, scaledY, patternTransform);\n          if (accent) {\n            const scaledAccentX = scaledX + fontSize * accent.offset.x / fontSizeScale;\n            const scaledAccentY = scaledY - fontSize * accent.offset.y / fontSizeScale;\n            this.paintChar(accent.fontChar, scaledAccentX, scaledAccentY, patternTransform);\n          }\n        }\n      }\n      const charWidth = vertical ? width * widthAdvanceScale - spacing * fontDirection : width * widthAdvanceScale + spacing * fontDirection;\n      x += charWidth;\n      if (restoreNeeded) {\n        ctx.restore();\n      }\n    }\n    if (vertical) {\n      current.y -= x;\n    } else {\n      current.x += x * textHScale;\n    }\n    ctx.restore();\n    this.compose();\n    return undefined;\n  }\n  showType3Text(glyphs) {\n    const ctx = this.ctx;\n    const current = this.current;\n    const font = current.font;\n    const fontSize = current.fontSize;\n    const fontDirection = current.fontDirection;\n    const spacingDir = font.vertical ? 1 : -1;\n    const charSpacing = current.charSpacing;\n    const wordSpacing = current.wordSpacing;\n    const textHScale = current.textHScale * fontDirection;\n    const fontMatrix = current.fontMatrix || util.FONT_IDENTITY_MATRIX;\n    const glyphsLength = glyphs.length;\n    const isTextInvisible = current.textRenderingMode === util.TextRenderingMode.INVISIBLE;\n    let i, glyph, width, spacingLength;\n    if (isTextInvisible || fontSize === 0) {\n      return;\n    }\n    this._cachedScaleForStroking[0] = -1;\n    this._cachedGetSinglePixelWidth = null;\n    ctx.save();\n    ctx.transform(...current.textMatrix);\n    ctx.translate(current.x, current.y);\n    ctx.scale(textHScale, fontDirection);\n    for (i = 0; i < glyphsLength; ++i) {\n      glyph = glyphs[i];\n      if (typeof glyph === \"number\") {\n        spacingLength = spacingDir * glyph * fontSize / 1000;\n        this.ctx.translate(spacingLength, 0);\n        current.x += spacingLength * textHScale;\n        continue;\n      }\n      const spacing = (glyph.isSpace ? wordSpacing : 0) + charSpacing;\n      const operatorList = font.charProcOperatorList[glyph.operatorListId];\n      if (!operatorList) {\n        (0,util.warn)(`Type3 character \"${glyph.operatorListId}\" is not available.`);\n        continue;\n      }\n      if (this.contentVisible) {\n        this.processingType3 = glyph;\n        this.save();\n        ctx.scale(fontSize, fontSize);\n        ctx.transform(...fontMatrix);\n        this.executeOperatorList(operatorList);\n        this.restore();\n      }\n      const transformed = util.Util.applyTransform([glyph.width, 0], fontMatrix);\n      width = transformed[0] * fontSize + spacing;\n      ctx.translate(width, 0);\n      current.x += width * textHScale;\n    }\n    ctx.restore();\n    this.processingType3 = null;\n  }\n  setCharWidth(xWidth, yWidth) {}\n  setCharWidthAndBounds(xWidth, yWidth, llx, lly, urx, ury) {\n    this.ctx.rect(llx, lly, urx - llx, ury - lly);\n    this.ctx.clip();\n    this.endPath();\n  }\n  getColorN_Pattern(IR) {\n    let pattern;\n    if (IR[0] === \"TilingPattern\") {\n      const color = IR[1];\n      const baseTransform = this.baseTransform || (0,display_utils.getCurrentTransform)(this.ctx);\n      const canvasGraphicsFactory = {\n        createCanvasGraphics: ctx => new CanvasGraphics(ctx, this.commonObjs, this.objs, this.canvasFactory, this.filterFactory, {\n          optionalContentConfig: this.optionalContentConfig,\n          markedContentStack: this.markedContentStack\n        })\n      };\n      pattern = new TilingPattern(IR, color, this.ctx, canvasGraphicsFactory, baseTransform);\n    } else {\n      pattern = this._getPattern(IR[1], IR[2]);\n    }\n    return pattern;\n  }\n  setStrokeColorN() {\n    this.current.strokeColor = this.getColorN_Pattern(arguments);\n  }\n  setFillColorN() {\n    this.current.fillColor = this.getColorN_Pattern(arguments);\n    this.current.patternFill = true;\n  }\n  setStrokeRGBColor(r, g, b) {\n    const color = util.Util.makeHexColor(r, g, b);\n    this.ctx.strokeStyle = color;\n    this.current.strokeColor = color;\n  }\n  setFillRGBColor(r, g, b) {\n    const color = util.Util.makeHexColor(r, g, b);\n    this.ctx.fillStyle = color;\n    this.current.fillColor = color;\n    this.current.patternFill = false;\n  }\n  _getPattern(objId, matrix = null) {\n    let pattern;\n    if (this.cachedPatterns.has(objId)) {\n      pattern = this.cachedPatterns.get(objId);\n    } else {\n      pattern = getShadingPattern(this.getObject(objId));\n      this.cachedPatterns.set(objId, pattern);\n    }\n    if (matrix) {\n      pattern.matrix = matrix;\n    }\n    return pattern;\n  }\n  shadingFill(objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    this.save();\n    const pattern = this._getPattern(objId);\n    ctx.fillStyle = pattern.getPattern(ctx, this, (0,display_utils.getCurrentTransformInverse)(ctx), PathType.SHADING);\n    const inv = (0,display_utils.getCurrentTransformInverse)(ctx);\n    if (inv) {\n      const {\n        width,\n        height\n      } = ctx.canvas;\n      const [x0, y0, x1, y1] = util.Util.getAxialAlignedBoundingBox([0, 0, width, height], inv);\n      this.ctx.fillRect(x0, y0, x1 - x0, y1 - y0);\n    } else {\n      this.ctx.fillRect(-1e10, -1e10, 2e10, 2e10);\n    }\n    this.compose(this.current.getClippedPathBoundingBox());\n    this.restore();\n  }\n  beginInlineImage() {\n    (0,util.unreachable)(\"Should not call beginInlineImage\");\n  }\n  beginImageData() {\n    (0,util.unreachable)(\"Should not call beginImageData\");\n  }\n  paintFormXObjectBegin(matrix, bbox) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.save();\n    this.baseTransformStack.push(this.baseTransform);\n    if (Array.isArray(matrix) && matrix.length === 6) {\n      this.transform(...matrix);\n    }\n    this.baseTransform = (0,display_utils.getCurrentTransform)(this.ctx);\n    if (bbox) {\n      const width = bbox[2] - bbox[0];\n      const height = bbox[3] - bbox[1];\n      this.ctx.rect(bbox[0], bbox[1], width, height);\n      this.current.updateRectMinMax((0,display_utils.getCurrentTransform)(this.ctx), bbox);\n      this.clip();\n      this.endPath();\n    }\n  }\n  paintFormXObjectEnd() {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.restore();\n    this.baseTransform = this.baseTransformStack.pop();\n  }\n  beginGroup(group) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.save();\n    if (this.inSMaskMode) {\n      this.endSMaskMode();\n      this.current.activeSMask = null;\n    }\n    const currentCtx = this.ctx;\n    if (!group.isolated) {\n      (0,util.info)(\"TODO: Support non-isolated groups.\");\n    }\n    if (group.knockout) {\n      (0,util.warn)(\"Knockout groups not supported.\");\n    }\n    const currentTransform = (0,display_utils.getCurrentTransform)(currentCtx);\n    if (group.matrix) {\n      currentCtx.transform(...group.matrix);\n    }\n    if (!group.bbox) {\n      throw new Error(\"Bounding box is required.\");\n    }\n    let bounds = util.Util.getAxialAlignedBoundingBox(group.bbox, (0,display_utils.getCurrentTransform)(currentCtx));\n    const canvasBounds = [0, 0, currentCtx.canvas.width, currentCtx.canvas.height];\n    bounds = util.Util.intersect(bounds, canvasBounds) || [0, 0, 0, 0];\n    const offsetX = Math.floor(bounds[0]);\n    const offsetY = Math.floor(bounds[1]);\n    let drawnWidth = Math.max(Math.ceil(bounds[2]) - offsetX, 1);\n    let drawnHeight = Math.max(Math.ceil(bounds[3]) - offsetY, 1);\n    let scaleX = 1,\n      scaleY = 1;\n    if (drawnWidth > MAX_GROUP_SIZE) {\n      scaleX = drawnWidth / MAX_GROUP_SIZE;\n      drawnWidth = MAX_GROUP_SIZE;\n    }\n    if (drawnHeight > MAX_GROUP_SIZE) {\n      scaleY = drawnHeight / MAX_GROUP_SIZE;\n      drawnHeight = MAX_GROUP_SIZE;\n    }\n    this.current.startNewPathAndClipBox([0, 0, drawnWidth, drawnHeight]);\n    let cacheId = \"groupAt\" + this.groupLevel;\n    if (group.smask) {\n      cacheId += \"_smask_\" + this.smaskCounter++ % 2;\n    }\n    const scratchCanvas = this.cachedCanvases.getCanvas(cacheId, drawnWidth, drawnHeight);\n    const groupCtx = scratchCanvas.context;\n    groupCtx.scale(1 / scaleX, 1 / scaleY);\n    groupCtx.translate(-offsetX, -offsetY);\n    groupCtx.transform(...currentTransform);\n    if (group.smask) {\n      this.smaskStack.push({\n        canvas: scratchCanvas.canvas,\n        context: groupCtx,\n        offsetX,\n        offsetY,\n        scaleX,\n        scaleY,\n        subtype: group.smask.subtype,\n        backdrop: group.smask.backdrop,\n        transferMap: group.smask.transferMap || null,\n        startTransformInverse: null\n      });\n    } else {\n      currentCtx.setTransform(1, 0, 0, 1, 0, 0);\n      currentCtx.translate(offsetX, offsetY);\n      currentCtx.scale(scaleX, scaleY);\n      currentCtx.save();\n    }\n    copyCtxState(currentCtx, groupCtx);\n    this.ctx = groupCtx;\n    this.setGState([[\"BM\", \"source-over\"], [\"ca\", 1], [\"CA\", 1]]);\n    this.groupStack.push(currentCtx);\n    this.groupLevel++;\n  }\n  endGroup(group) {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.groupLevel--;\n    const groupCtx = this.ctx;\n    const ctx = this.groupStack.pop();\n    this.ctx = ctx;\n    this.ctx.imageSmoothingEnabled = false;\n    if (group.smask) {\n      this.tempSMask = this.smaskStack.pop();\n      this.restore();\n    } else {\n      this.ctx.restore();\n      const currentMtx = (0,display_utils.getCurrentTransform)(this.ctx);\n      this.restore();\n      this.ctx.save();\n      this.ctx.setTransform(...currentMtx);\n      const dirtyBox = util.Util.getAxialAlignedBoundingBox([0, 0, groupCtx.canvas.width, groupCtx.canvas.height], currentMtx);\n      this.ctx.drawImage(groupCtx.canvas, 0, 0);\n      this.ctx.restore();\n      this.compose(dirtyBox);\n    }\n  }\n  beginAnnotation(id, rect, transform, matrix, hasOwnCanvas) {\n    this.#restoreInitialState();\n    resetCtxToDefault(this.ctx);\n    this.ctx.save();\n    this.save();\n    if (this.baseTransform) {\n      this.ctx.setTransform(...this.baseTransform);\n    }\n    if (Array.isArray(rect) && rect.length === 4) {\n      const width = rect[2] - rect[0];\n      const height = rect[3] - rect[1];\n      if (hasOwnCanvas && this.annotationCanvasMap) {\n        transform = transform.slice();\n        transform[4] -= rect[0];\n        transform[5] -= rect[1];\n        rect = rect.slice();\n        rect[0] = rect[1] = 0;\n        rect[2] = width;\n        rect[3] = height;\n        const [scaleX, scaleY] = util.Util.singularValueDecompose2dScale((0,display_utils.getCurrentTransform)(this.ctx));\n        const {\n          viewportScale\n        } = this;\n        const canvasWidth = Math.ceil(width * this.outputScaleX * viewportScale);\n        const canvasHeight = Math.ceil(height * this.outputScaleY * viewportScale);\n        this.annotationCanvas = this.canvasFactory.create(canvasWidth, canvasHeight);\n        const {\n          canvas,\n          context\n        } = this.annotationCanvas;\n        this.annotationCanvasMap.set(id, canvas);\n        this.annotationCanvas.savedCtx = this.ctx;\n        this.ctx = context;\n        this.ctx.save();\n        this.ctx.setTransform(scaleX, 0, 0, -scaleY, 0, height * scaleY);\n        resetCtxToDefault(this.ctx);\n      } else {\n        resetCtxToDefault(this.ctx);\n        this.ctx.rect(rect[0], rect[1], width, height);\n        this.ctx.clip();\n        this.endPath();\n      }\n    }\n    this.current = new CanvasExtraState(this.ctx.canvas.width, this.ctx.canvas.height);\n    this.transform(...transform);\n    this.transform(...matrix);\n  }\n  endAnnotation() {\n    if (this.annotationCanvas) {\n      this.ctx.restore();\n      this.#drawFilter();\n      this.ctx = this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas.savedCtx;\n      delete this.annotationCanvas;\n    }\n  }\n  paintImageMaskXObject(img) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const count = img.count;\n    img = this.getObject(img.data, img);\n    img.count = count;\n    const ctx = this.ctx;\n    const glyph = this.processingType3;\n    if (glyph) {\n      if (glyph.compiled === undefined) {\n        glyph.compiled = compileType3Glyph(img);\n      }\n      if (glyph.compiled) {\n        glyph.compiled(ctx);\n        return;\n      }\n    }\n    const mask = this._createMaskCanvas(img);\n    const maskCanvas = mask.canvas;\n    ctx.save();\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.drawImage(maskCanvas, mask.offsetX, mask.offsetY);\n    ctx.restore();\n    this.compose();\n  }\n  paintImageMaskXObjectRepeat(img, scaleX, skewX = 0, skewY = 0, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n    img = this.getObject(img.data, img);\n    const ctx = this.ctx;\n    ctx.save();\n    const currentTransform = (0,display_utils.getCurrentTransform)(ctx);\n    ctx.transform(scaleX, skewX, skewY, scaleY, 0, 0);\n    const mask = this._createMaskCanvas(img);\n    ctx.setTransform(1, 0, 0, 1, mask.offsetX - currentTransform[4], mask.offsetY - currentTransform[5]);\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      const trans = util.Util.transform(currentTransform, [scaleX, skewX, skewY, scaleY, positions[i], positions[i + 1]]);\n      const [x, y] = util.Util.applyTransform([0, 0], trans);\n      ctx.drawImage(mask.canvas, x, y);\n    }\n    ctx.restore();\n    this.compose();\n  }\n  paintImageMaskXObjectGroup(images) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    const fillColor = this.current.fillColor;\n    const isPatternFill = this.current.patternFill;\n    for (const image of images) {\n      const {\n        data,\n        width,\n        height,\n        transform\n      } = image;\n      const maskCanvas = this.cachedCanvases.getCanvas(\"maskCanvas\", width, height);\n      const maskCtx = maskCanvas.context;\n      maskCtx.save();\n      const img = this.getObject(data, image);\n      putBinaryImageMask(maskCtx, img);\n      maskCtx.globalCompositeOperation = \"source-in\";\n      maskCtx.fillStyle = isPatternFill ? fillColor.getPattern(maskCtx, this, (0,display_utils.getCurrentTransformInverse)(ctx), PathType.FILL) : fillColor;\n      maskCtx.fillRect(0, 0, width, height);\n      maskCtx.restore();\n      ctx.save();\n      ctx.transform(...transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(ctx, maskCanvas.canvas, 0, 0, width, height, 0, -1, 1, 1);\n      ctx.restore();\n    }\n    this.compose();\n  }\n  paintImageXObject(objId) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(objId);\n    if (!imgData) {\n      (0,util.warn)(\"Dependent image isn't ready yet\");\n      return;\n    }\n    this.paintInlineImageXObject(imgData);\n  }\n  paintImageXObjectRepeat(objId, scaleX, scaleY, positions) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const imgData = this.getObject(objId);\n    if (!imgData) {\n      (0,util.warn)(\"Dependent image isn't ready yet\");\n      return;\n    }\n    const width = imgData.width;\n    const height = imgData.height;\n    const map = [];\n    for (let i = 0, ii = positions.length; i < ii; i += 2) {\n      map.push({\n        transform: [scaleX, 0, 0, scaleY, positions[i], positions[i + 1]],\n        x: 0,\n        y: 0,\n        w: width,\n        h: height\n      });\n    }\n    this.paintInlineImageXObjectGroup(imgData, map);\n  }\n  applyTransferMapsToCanvas(ctx) {\n    if (this.current.transferMaps !== \"none\") {\n      ctx.filter = this.current.transferMaps;\n      ctx.drawImage(ctx.canvas, 0, 0);\n      ctx.filter = \"none\";\n    }\n    return ctx.canvas;\n  }\n  applyTransferMapsToBitmap(imgData) {\n    if (this.current.transferMaps === \"none\") {\n      return imgData.bitmap;\n    }\n    const {\n      bitmap,\n      width,\n      height\n    } = imgData;\n    const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n    const tmpCtx = tmpCanvas.context;\n    tmpCtx.filter = this.current.transferMaps;\n    tmpCtx.drawImage(bitmap, 0, 0);\n    tmpCtx.filter = \"none\";\n    return tmpCanvas.canvas;\n  }\n  paintInlineImageXObject(imgData) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const width = imgData.width;\n    const height = imgData.height;\n    const ctx = this.ctx;\n    this.save();\n    if (!util.isNodeJS) {\n      const {\n        filter\n      } = ctx;\n      if (filter !== \"none\" && filter !== \"\") {\n        ctx.filter = \"none\";\n      }\n    }\n    ctx.scale(1 / width, -1 / height);\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = this.applyTransferMapsToBitmap(imgData);\n    } else if (typeof HTMLElement === \"function\" && imgData instanceof HTMLElement || !imgData.data) {\n      imgToPaint = imgData;\n    } else {\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", width, height);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n    const scaled = this._scaleImage(imgToPaint, (0,display_utils.getCurrentTransformInverse)(ctx));\n    ctx.imageSmoothingEnabled = getImageSmoothingEnabled((0,display_utils.getCurrentTransform)(ctx), imgData.interpolate);\n    drawImageAtIntegerCoords(ctx, scaled.img, 0, 0, scaled.paintWidth, scaled.paintHeight, 0, -height, width, height);\n    this.compose();\n    this.restore();\n  }\n  paintInlineImageXObjectGroup(imgData, map) {\n    if (!this.contentVisible) {\n      return;\n    }\n    const ctx = this.ctx;\n    let imgToPaint;\n    if (imgData.bitmap) {\n      imgToPaint = imgData.bitmap;\n    } else {\n      const w = imgData.width;\n      const h = imgData.height;\n      const tmpCanvas = this.cachedCanvases.getCanvas(\"inlineImage\", w, h);\n      const tmpCtx = tmpCanvas.context;\n      putBinaryImageData(tmpCtx, imgData);\n      imgToPaint = this.applyTransferMapsToCanvas(tmpCtx);\n    }\n    for (const entry of map) {\n      ctx.save();\n      ctx.transform(...entry.transform);\n      ctx.scale(1, -1);\n      drawImageAtIntegerCoords(ctx, imgToPaint, entry.x, entry.y, entry.w, entry.h, 0, -1, 1, 1);\n      ctx.restore();\n    }\n    this.compose();\n  }\n  paintSolidColorImageMask() {\n    if (!this.contentVisible) {\n      return;\n    }\n    this.ctx.fillRect(0, 0, 1, 1);\n    this.compose();\n  }\n  markPoint(tag) {}\n  markPointProps(tag, properties) {}\n  beginMarkedContent(tag) {\n    this.markedContentStack.push({\n      visible: true\n    });\n  }\n  beginMarkedContentProps(tag, properties) {\n    if (tag === \"OC\") {\n      this.markedContentStack.push({\n        visible: this.optionalContentConfig.isVisible(properties)\n      });\n    } else {\n      this.markedContentStack.push({\n        visible: true\n      });\n    }\n    this.contentVisible = this.isContentVisible();\n  }\n  endMarkedContent() {\n    this.markedContentStack.pop();\n    this.contentVisible = this.isContentVisible();\n  }\n  beginCompat() {}\n  endCompat() {}\n  consumePath(clipBox) {\n    const isEmpty = this.current.isEmptyClip();\n    if (this.pendingClip) {\n      this.current.updateClipFromPath();\n    }\n    if (!this.pendingClip) {\n      this.compose(clipBox);\n    }\n    const ctx = this.ctx;\n    if (this.pendingClip) {\n      if (!isEmpty) {\n        if (this.pendingClip === EO_CLIP) {\n          ctx.clip(\"evenodd\");\n        } else {\n          ctx.clip();\n        }\n      }\n      this.pendingClip = null;\n    }\n    this.current.startNewPathAndClipBox(this.current.clipBox);\n    ctx.beginPath();\n  }\n  getSinglePixelWidth() {\n    if (!this._cachedGetSinglePixelWidth) {\n      const m = (0,display_utils.getCurrentTransform)(this.ctx);\n      if (m[1] === 0 && m[2] === 0) {\n        this._cachedGetSinglePixelWidth = 1 / Math.min(Math.abs(m[0]), Math.abs(m[3]));\n      } else {\n        const absDet = Math.abs(m[0] * m[3] - m[2] * m[1]);\n        const normX = Math.hypot(m[0], m[2]);\n        const normY = Math.hypot(m[1], m[3]);\n        this._cachedGetSinglePixelWidth = Math.max(normX, normY) / absDet;\n      }\n    }\n    return this._cachedGetSinglePixelWidth;\n  }\n  getScaleForStroking() {\n    if (this._cachedScaleForStroking[0] === -1) {\n      const {\n        lineWidth\n      } = this.current;\n      const {\n        a,\n        b,\n        c,\n        d\n      } = this.ctx.getTransform();\n      let scaleX, scaleY;\n      if (b === 0 && c === 0) {\n        const normX = Math.abs(a);\n        const normY = Math.abs(d);\n        if (normX === normY) {\n          if (lineWidth === 0) {\n            scaleX = scaleY = 1 / normX;\n          } else {\n            const scaledLineWidth = normX * lineWidth;\n            scaleX = scaleY = scaledLineWidth < 1 ? 1 / scaledLineWidth : 1;\n          }\n        } else if (lineWidth === 0) {\n          scaleX = 1 / normX;\n          scaleY = 1 / normY;\n        } else {\n          const scaledXLineWidth = normX * lineWidth;\n          const scaledYLineWidth = normY * lineWidth;\n          scaleX = scaledXLineWidth < 1 ? 1 / scaledXLineWidth : 1;\n          scaleY = scaledYLineWidth < 1 ? 1 / scaledYLineWidth : 1;\n        }\n      } else {\n        const absDet = Math.abs(a * d - b * c);\n        const normX = Math.hypot(a, b);\n        const normY = Math.hypot(c, d);\n        if (lineWidth === 0) {\n          scaleX = normY / absDet;\n          scaleY = normX / absDet;\n        } else {\n          const baseArea = lineWidth * absDet;\n          scaleX = normY > baseArea ? normY / baseArea : 1;\n          scaleY = normX > baseArea ? normX / baseArea : 1;\n        }\n      }\n      this._cachedScaleForStroking[0] = scaleX;\n      this._cachedScaleForStroking[1] = scaleY;\n    }\n    return this._cachedScaleForStroking;\n  }\n  rescaleAndStroke(saveRestore) {\n    const {\n      ctx\n    } = this;\n    const {\n      lineWidth\n    } = this.current;\n    const [scaleX, scaleY] = this.getScaleForStroking();\n    ctx.lineWidth = lineWidth || 1;\n    if (scaleX === 1 && scaleY === 1) {\n      ctx.stroke();\n      return;\n    }\n    const dashes = ctx.getLineDash();\n    if (saveRestore) {\n      ctx.save();\n    }\n    ctx.scale(scaleX, scaleY);\n    if (dashes.length > 0) {\n      const scale = Math.max(scaleX, scaleY);\n      ctx.setLineDash(dashes.map(x => x / scale));\n      ctx.lineDashOffset /= scale;\n    }\n    ctx.stroke();\n    if (saveRestore) {\n      ctx.restore();\n    }\n  }\n  isContentVisible() {\n    for (let i = this.markedContentStack.length - 1; i >= 0; i--) {\n      if (!this.markedContentStack[i].visible) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\nfor (const op in util.OPS) {\n  if (CanvasGraphics.prototype[op] !== undefined) {\n    CanvasGraphics.prototype[util.OPS[op]] = CanvasGraphics.prototype[op];\n  }\n}\n\n\n/***/ }),\n\n/***/ 419:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DOMCMapReaderFactory: () => (/* binding */ DOMCMapReaderFactory),\n/* harmony export */   DOMCanvasFactory: () => (/* binding */ DOMCanvasFactory),\n/* harmony export */   DOMFilterFactory: () => (/* binding */ DOMFilterFactory),\n/* harmony export */   DOMSVGFactory: () => (/* binding */ DOMSVGFactory),\n/* harmony export */   DOMStandardFontDataFactory: () => (/* binding */ DOMStandardFontDataFactory),\n/* harmony export */   PDFDateString: () => (/* binding */ PDFDateString),\n/* harmony export */   PageViewport: () => (/* binding */ PageViewport),\n/* harmony export */   PixelsPerInch: () => (/* binding */ PixelsPerInch),\n/* harmony export */   RenderingCancelledException: () => (/* binding */ RenderingCancelledException),\n/* harmony export */   StatTimer: () => (/* binding */ StatTimer),\n/* harmony export */   fetchData: () => (/* binding */ fetchData),\n/* harmony export */   getColorValues: () => (/* binding */ getColorValues),\n/* harmony export */   getCurrentTransform: () => (/* binding */ getCurrentTransform),\n/* harmony export */   getCurrentTransformInverse: () => (/* binding */ getCurrentTransformInverse),\n/* harmony export */   getFilenameFromUrl: () => (/* binding */ getFilenameFromUrl),\n/* harmony export */   getPdfFilenameFromUrl: () => (/* binding */ getPdfFilenameFromUrl),\n/* harmony export */   getRGB: () => (/* binding */ getRGB),\n/* harmony export */   getXfaPageViewport: () => (/* binding */ getXfaPageViewport),\n/* harmony export */   isDataScheme: () => (/* binding */ isDataScheme),\n/* harmony export */   isPdfFile: () => (/* binding */ isPdfFile),\n/* harmony export */   isValidFetchUrl: () => (/* binding */ isValidFetchUrl),\n/* harmony export */   noContextMenu: () => (/* binding */ noContextMenu),\n/* harmony export */   setLayerDimensions: () => (/* binding */ setLayerDimensions)\n/* harmony export */ });\n/* unused harmony export deprecated */\n/* harmony import */ var _base_factory_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(583);\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(292);\n\n\nconst SVG_NS = \"http://www.w3.org/2000/svg\";\nclass PixelsPerInch {\n  static CSS = 96.0;\n  static PDF = 72.0;\n  static PDF_TO_CSS_UNITS = this.CSS / this.PDF;\n}\nclass DOMFilterFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseFilterFactory {\n  #_cache;\n  #_defs;\n  #docId;\n  #document;\n  #_hcmCache;\n  #id = 0;\n  constructor({\n    docId,\n    ownerDocument = globalThis.document\n  } = {}) {\n    super();\n    this.#docId = docId;\n    this.#document = ownerDocument;\n  }\n  get #cache() {\n    return this.#_cache ||= new Map();\n  }\n  get #hcmCache() {\n    return this.#_hcmCache ||= new Map();\n  }\n  get #defs() {\n    if (!this.#_defs) {\n      const div = this.#document.createElement(\"div\");\n      const {\n        style\n      } = div;\n      style.visibility = \"hidden\";\n      style.contain = \"strict\";\n      style.width = style.height = 0;\n      style.position = \"absolute\";\n      style.top = style.left = 0;\n      style.zIndex = -1;\n      const svg = this.#document.createElementNS(SVG_NS, \"svg\");\n      svg.setAttribute(\"width\", 0);\n      svg.setAttribute(\"height\", 0);\n      this.#_defs = this.#document.createElementNS(SVG_NS, \"defs\");\n      div.append(svg);\n      svg.append(this.#_defs);\n      this.#document.body.append(div);\n    }\n    return this.#_defs;\n  }\n  addFilter(maps) {\n    if (!maps) {\n      return \"none\";\n    }\n    let value = this.#cache.get(maps);\n    if (value) {\n      return value;\n    }\n    let tableR, tableG, tableB, key;\n    if (maps.length === 1) {\n      const mapR = maps[0];\n      const buffer = new Array(256);\n      for (let i = 0; i < 256; i++) {\n        buffer[i] = mapR[i] / 255;\n      }\n      key = tableR = tableG = tableB = buffer.join(\",\");\n    } else {\n      const [mapR, mapG, mapB] = maps;\n      const bufferR = new Array(256);\n      const bufferG = new Array(256);\n      const bufferB = new Array(256);\n      for (let i = 0; i < 256; i++) {\n        bufferR[i] = mapR[i] / 255;\n        bufferG[i] = mapG[i] / 255;\n        bufferB[i] = mapB[i] / 255;\n      }\n      tableR = bufferR.join(\",\");\n      tableG = bufferG.join(\",\");\n      tableB = bufferB.join(\",\");\n      key = `${tableR}${tableG}${tableB}`;\n    }\n    value = this.#cache.get(key);\n    if (value) {\n      this.#cache.set(maps, value);\n      return value;\n    }\n    const id = `g_${this.#docId}_transfer_map_${this.#id++}`;\n    const url = `url(#${id})`;\n    this.#cache.set(maps, url);\n    this.#cache.set(key, url);\n    const filter = this.#createFilter(id);\n    this.#addTransferMapConversion(tableR, tableG, tableB, filter);\n    return url;\n  }\n  addHCMFilter(fgColor, bgColor) {\n    const key = `${fgColor}-${bgColor}`;\n    const filterName = \"base\";\n    let info = this.#hcmCache.get(filterName);\n    if (info?.key === key) {\n      return info.url;\n    }\n    if (info) {\n      info.filter?.remove();\n      info.key = key;\n      info.url = \"none\";\n      info.filter = null;\n    } else {\n      info = {\n        key,\n        url: \"none\",\n        filter: null\n      };\n      this.#hcmCache.set(filterName, info);\n    }\n    if (!fgColor || !bgColor) {\n      return info.url;\n    }\n    const fgRGB = this.#getRGB(fgColor);\n    fgColor = _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.makeHexColor(...fgRGB);\n    const bgRGB = this.#getRGB(bgColor);\n    bgColor = _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.makeHexColor(...bgRGB);\n    this.#defs.style.color = \"\";\n    if (fgColor === \"#000000\" && bgColor === \"#ffffff\" || fgColor === bgColor) {\n      return info.url;\n    }\n    const map = new Array(256);\n    for (let i = 0; i <= 255; i++) {\n      const x = i / 255;\n      map[i] = x <= 0.03928 ? x / 12.92 : ((x + 0.055) / 1.055) ** 2.4;\n    }\n    const table = map.join(\",\");\n    const id = `g_${this.#docId}_hcm_filter`;\n    const filter = info.filter = this.#createFilter(id);\n    this.#addTransferMapConversion(table, table, table, filter);\n    this.#addGrayConversion(filter);\n    const getSteps = (c, n) => {\n      const start = fgRGB[c] / 255;\n      const end = bgRGB[c] / 255;\n      const arr = new Array(n + 1);\n      for (let i = 0; i <= n; i++) {\n        arr[i] = start + i / n * (end - start);\n      }\n      return arr.join(\",\");\n    };\n    this.#addTransferMapConversion(getSteps(0, 5), getSteps(1, 5), getSteps(2, 5), filter);\n    info.url = `url(#${id})`;\n    return info.url;\n  }\n  addHighlightHCMFilter(filterName, fgColor, bgColor, newFgColor, newBgColor) {\n    const key = `${fgColor}-${bgColor}-${newFgColor}-${newBgColor}`;\n    let info = this.#hcmCache.get(filterName);\n    if (info?.key === key) {\n      return info.url;\n    }\n    if (info) {\n      info.filter?.remove();\n      info.key = key;\n      info.url = \"none\";\n      info.filter = null;\n    } else {\n      info = {\n        key,\n        url: \"none\",\n        filter: null\n      };\n      this.#hcmCache.set(filterName, info);\n    }\n    if (!fgColor || !bgColor) {\n      return info.url;\n    }\n    const [fgRGB, bgRGB] = [fgColor, bgColor].map(this.#getRGB.bind(this));\n    let fgGray = Math.round(0.2126 * fgRGB[0] + 0.7152 * fgRGB[1] + 0.0722 * fgRGB[2]);\n    let bgGray = Math.round(0.2126 * bgRGB[0] + 0.7152 * bgRGB[1] + 0.0722 * bgRGB[2]);\n    let [newFgRGB, newBgRGB] = [newFgColor, newBgColor].map(this.#getRGB.bind(this));\n    if (bgGray < fgGray) {\n      [fgGray, bgGray, newFgRGB, newBgRGB] = [bgGray, fgGray, newBgRGB, newFgRGB];\n    }\n    this.#defs.style.color = \"\";\n    const getSteps = (fg, bg, n) => {\n      const arr = new Array(256);\n      const step = (bgGray - fgGray) / n;\n      const newStart = fg / 255;\n      const newStep = (bg - fg) / (255 * n);\n      let prev = 0;\n      for (let i = 0; i <= n; i++) {\n        const k = Math.round(fgGray + i * step);\n        const value = newStart + i * newStep;\n        for (let j = prev; j <= k; j++) {\n          arr[j] = value;\n        }\n        prev = k + 1;\n      }\n      for (let i = prev; i < 256; i++) {\n        arr[i] = arr[prev - 1];\n      }\n      return arr.join(\",\");\n    };\n    const id = `g_${this.#docId}_hcm_${filterName}_filter`;\n    const filter = info.filter = this.#createFilter(id);\n    this.#addGrayConversion(filter);\n    this.#addTransferMapConversion(getSteps(newFgRGB[0], newBgRGB[0], 5), getSteps(newFgRGB[1], newBgRGB[1], 5), getSteps(newFgRGB[2], newBgRGB[2], 5), filter);\n    info.url = `url(#${id})`;\n    return info.url;\n  }\n  destroy(keepHCM = false) {\n    if (keepHCM && this.#hcmCache.size !== 0) {\n      return;\n    }\n    if (this.#_defs) {\n      this.#_defs.parentNode.parentNode.remove();\n      this.#_defs = null;\n    }\n    if (this.#_cache) {\n      this.#_cache.clear();\n      this.#_cache = null;\n    }\n    this.#id = 0;\n  }\n  #addGrayConversion(filter) {\n    const feColorMatrix = this.#document.createElementNS(SVG_NS, \"feColorMatrix\");\n    feColorMatrix.setAttribute(\"type\", \"matrix\");\n    feColorMatrix.setAttribute(\"values\", \"0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0\");\n    filter.append(feColorMatrix);\n  }\n  #createFilter(id) {\n    const filter = this.#document.createElementNS(SVG_NS, \"filter\");\n    filter.setAttribute(\"color-interpolation-filters\", \"sRGB\");\n    filter.setAttribute(\"id\", id);\n    this.#defs.append(filter);\n    return filter;\n  }\n  #appendFeFunc(feComponentTransfer, func, table) {\n    const feFunc = this.#document.createElementNS(SVG_NS, func);\n    feFunc.setAttribute(\"type\", \"discrete\");\n    feFunc.setAttribute(\"tableValues\", table);\n    feComponentTransfer.append(feFunc);\n  }\n  #addTransferMapConversion(rTable, gTable, bTable, filter) {\n    const feComponentTransfer = this.#document.createElementNS(SVG_NS, \"feComponentTransfer\");\n    filter.append(feComponentTransfer);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncR\", rTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncG\", gTable);\n    this.#appendFeFunc(feComponentTransfer, \"feFuncB\", bTable);\n  }\n  #getRGB(color) {\n    this.#defs.style.color = color;\n    return getRGB(getComputedStyle(this.#defs).getPropertyValue(\"color\"));\n  }\n}\nclass DOMCanvasFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseCanvasFactory {\n  constructor({\n    ownerDocument = globalThis.document\n  } = {}) {\n    super();\n    this._document = ownerDocument;\n  }\n  _createCanvas(width, height) {\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  }\n}\nasync function fetchData(url, type = \"text\") {\n  if (isValidFetchUrl(url, document.baseURI)) {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    switch (type) {\n      case \"arraybuffer\":\n        return response.arrayBuffer();\n      case \"blob\":\n        return response.blob();\n      case \"json\":\n        return response.json();\n    }\n    return response.text();\n  }\n  return new Promise((resolve, reject) => {\n    const request = new XMLHttpRequest();\n    request.open(\"GET\", url, true);\n    request.responseType = type;\n    request.onreadystatechange = () => {\n      if (request.readyState !== XMLHttpRequest.DONE) {\n        return;\n      }\n      if (request.status === 200 || request.status === 0) {\n        switch (type) {\n          case \"arraybuffer\":\n          case \"blob\":\n          case \"json\":\n            resolve(request.response);\n            return;\n        }\n        resolve(request.responseText);\n        return;\n      }\n      reject(new Error(request.statusText));\n    };\n    request.send(null);\n  });\n}\nclass DOMCMapReaderFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseCMapReaderFactory {\n  _fetchData(url, compressionType) {\n    return fetchData(url, this.isCompressed ? \"arraybuffer\" : \"text\").then(data => ({\n      cMapData: data instanceof ArrayBuffer ? new Uint8Array(data) : (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.stringToBytes)(data),\n      compressionType\n    }));\n  }\n}\nclass DOMStandardFontDataFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseStandardFontDataFactory {\n  _fetchData(url) {\n    return fetchData(url, \"arraybuffer\").then(data => new Uint8Array(data));\n  }\n}\nclass DOMSVGFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseSVGFactory {\n  _createSVG(type) {\n    return document.createElementNS(SVG_NS, type);\n  }\n}\nclass PageViewport {\n  constructor({\n    viewBox,\n    scale,\n    rotation,\n    offsetX = 0,\n    offsetY = 0,\n    dontFlip = false\n  }) {\n    this.viewBox = viewBox;\n    this.scale = scale;\n    this.rotation = rotation;\n    this.offsetX = offsetX;\n    this.offsetY = offsetY;\n    const centerX = (viewBox[2] + viewBox[0]) / 2;\n    const centerY = (viewBox[3] + viewBox[1]) / 2;\n    let rotateA, rotateB, rotateC, rotateD;\n    rotation %= 360;\n    if (rotation < 0) {\n      rotation += 360;\n    }\n    switch (rotation) {\n      case 180:\n        rotateA = -1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = 1;\n        break;\n      case 90:\n        rotateA = 0;\n        rotateB = 1;\n        rotateC = 1;\n        rotateD = 0;\n        break;\n      case 270:\n        rotateA = 0;\n        rotateB = -1;\n        rotateC = -1;\n        rotateD = 0;\n        break;\n      case 0:\n        rotateA = 1;\n        rotateB = 0;\n        rotateC = 0;\n        rotateD = -1;\n        break;\n      default:\n        throw new Error(\"PageViewport: Invalid rotation, must be a multiple of 90 degrees.\");\n    }\n    if (dontFlip) {\n      rotateC = -rotateC;\n      rotateD = -rotateD;\n    }\n    let offsetCanvasX, offsetCanvasY;\n    let width, height;\n    if (rotateA === 0) {\n      offsetCanvasX = Math.abs(centerY - viewBox[1]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerX - viewBox[0]) * scale + offsetY;\n      width = (viewBox[3] - viewBox[1]) * scale;\n      height = (viewBox[2] - viewBox[0]) * scale;\n    } else {\n      offsetCanvasX = Math.abs(centerX - viewBox[0]) * scale + offsetX;\n      offsetCanvasY = Math.abs(centerY - viewBox[1]) * scale + offsetY;\n      width = (viewBox[2] - viewBox[0]) * scale;\n      height = (viewBox[3] - viewBox[1]) * scale;\n    }\n    this.transform = [rotateA * scale, rotateB * scale, rotateC * scale, rotateD * scale, offsetCanvasX - rotateA * scale * centerX - rotateC * scale * centerY, offsetCanvasY - rotateB * scale * centerX - rotateD * scale * centerY];\n    this.width = width;\n    this.height = height;\n  }\n  get rawDims() {\n    const {\n      viewBox\n    } = this;\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.shadow)(this, \"rawDims\", {\n      pageWidth: viewBox[2] - viewBox[0],\n      pageHeight: viewBox[3] - viewBox[1],\n      pageX: viewBox[0],\n      pageY: viewBox[1]\n    });\n  }\n  clone({\n    scale = this.scale,\n    rotation = this.rotation,\n    offsetX = this.offsetX,\n    offsetY = this.offsetY,\n    dontFlip = false\n  } = {}) {\n    return new PageViewport({\n      viewBox: this.viewBox.slice(),\n      scale,\n      rotation,\n      offsetX,\n      offsetY,\n      dontFlip\n    });\n  }\n  convertToViewportPoint(x, y) {\n    return _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.applyTransform([x, y], this.transform);\n  }\n  convertToViewportRectangle(rect) {\n    const topLeft = _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.applyTransform([rect[0], rect[1]], this.transform);\n    const bottomRight = _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.applyTransform([rect[2], rect[3]], this.transform);\n    return [topLeft[0], topLeft[1], bottomRight[0], bottomRight[1]];\n  }\n  convertToPdfPoint(x, y) {\n    return _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.Util.applyInverseTransform([x, y], this.transform);\n  }\n}\nclass RenderingCancelledException extends _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.BaseException {\n  constructor(msg, extraDelay = 0) {\n    super(msg, \"RenderingCancelledException\");\n    this.extraDelay = extraDelay;\n  }\n}\nfunction isDataScheme(url) {\n  const ii = url.length;\n  let i = 0;\n  while (i < ii && url[i].trim() === \"\") {\n    i++;\n  }\n  return url.substring(i, i + 5).toLowerCase() === \"data:\";\n}\nfunction isPdfFile(filename) {\n  return typeof filename === \"string\" && /\\.pdf$/i.test(filename);\n}\nfunction getFilenameFromUrl(url, onlyStripPath = false) {\n  if (!onlyStripPath) {\n    [url] = url.split(/[#?]/, 1);\n  }\n  return url.substring(url.lastIndexOf(\"/\") + 1);\n}\nfunction getPdfFilenameFromUrl(url, defaultFilename = \"document.pdf\") {\n  if (typeof url !== \"string\") {\n    return defaultFilename;\n  }\n  if (isDataScheme(url)) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.warn)('getPdfFilenameFromUrl: ignore \"data:\"-URL for performance reasons.');\n    return defaultFilename;\n  }\n  const reURI = /^(?:(?:[^:]+:)?\\/\\/[^/]+)?([^?#]*)(\\?[^#]*)?(#.*)?$/;\n  const reFilename = /[^/?#=]+\\.pdf\\b(?!.*\\.pdf\\b)/i;\n  const splitURI = reURI.exec(url);\n  let suggestedFilename = reFilename.exec(splitURI[1]) || reFilename.exec(splitURI[2]) || reFilename.exec(splitURI[3]);\n  if (suggestedFilename) {\n    suggestedFilename = suggestedFilename[0];\n    if (suggestedFilename.includes(\"%\")) {\n      try {\n        suggestedFilename = reFilename.exec(decodeURIComponent(suggestedFilename))[0];\n      } catch {}\n    }\n  }\n  return suggestedFilename || defaultFilename;\n}\nclass StatTimer {\n  started = Object.create(null);\n  times = [];\n  time(name) {\n    if (name in this.started) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.warn)(`Timer is already running for ${name}`);\n    }\n    this.started[name] = Date.now();\n  }\n  timeEnd(name) {\n    if (!(name in this.started)) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.warn)(`Timer has not been started for ${name}`);\n    }\n    this.times.push({\n      name,\n      start: this.started[name],\n      end: Date.now()\n    });\n    delete this.started[name];\n  }\n  toString() {\n    const outBuf = [];\n    let longest = 0;\n    for (const {\n      name\n    } of this.times) {\n      longest = Math.max(name.length, longest);\n    }\n    for (const {\n      name,\n      start,\n      end\n    } of this.times) {\n      outBuf.push(`${name.padEnd(longest)} ${end - start}ms\\n`);\n    }\n    return outBuf.join(\"\");\n  }\n}\nfunction isValidFetchUrl(url, baseUrl) {\n  try {\n    const {\n      protocol\n    } = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    return protocol === \"http:\" || protocol === \"https:\";\n  } catch {\n    return false;\n  }\n}\nfunction noContextMenu(e) {\n  e.preventDefault();\n}\nfunction deprecated(details) {\n  console.log(\"Deprecated API usage: \" + details);\n}\nlet pdfDateStringRegex;\nclass PDFDateString {\n  static toDateObject(input) {\n    if (!input || typeof input !== \"string\") {\n      return null;\n    }\n    pdfDateStringRegex ||= new RegExp(\"^D:\" + \"(\\\\d{4})\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"(\\\\d{2})?\" + \"([Z|+|-])?\" + \"(\\\\d{2})?\" + \"'?\" + \"(\\\\d{2})?\" + \"'?\");\n    const matches = pdfDateStringRegex.exec(input);\n    if (!matches) {\n      return null;\n    }\n    const year = parseInt(matches[1], 10);\n    let month = parseInt(matches[2], 10);\n    month = month >= 1 && month <= 12 ? month - 1 : 0;\n    let day = parseInt(matches[3], 10);\n    day = day >= 1 && day <= 31 ? day : 1;\n    let hour = parseInt(matches[4], 10);\n    hour = hour >= 0 && hour <= 23 ? hour : 0;\n    let minute = parseInt(matches[5], 10);\n    minute = minute >= 0 && minute <= 59 ? minute : 0;\n    let second = parseInt(matches[6], 10);\n    second = second >= 0 && second <= 59 ? second : 0;\n    const universalTimeRelation = matches[7] || \"Z\";\n    let offsetHour = parseInt(matches[8], 10);\n    offsetHour = offsetHour >= 0 && offsetHour <= 23 ? offsetHour : 0;\n    let offsetMinute = parseInt(matches[9], 10) || 0;\n    offsetMinute = offsetMinute >= 0 && offsetMinute <= 59 ? offsetMinute : 0;\n    if (universalTimeRelation === \"-\") {\n      hour += offsetHour;\n      minute += offsetMinute;\n    } else if (universalTimeRelation === \"+\") {\n      hour -= offsetHour;\n      minute -= offsetMinute;\n    }\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\n  }\n}\nfunction getXfaPageViewport(xfaPage, {\n  scale = 1,\n  rotation = 0\n}) {\n  const {\n    width,\n    height\n  } = xfaPage.attributes.style;\n  const viewBox = [0, 0, parseInt(width), parseInt(height)];\n  return new PageViewport({\n    viewBox,\n    scale,\n    rotation\n  });\n}\nfunction getRGB(color) {\n  if (color.startsWith(\"#\")) {\n    const colorRGB = parseInt(color.slice(1), 16);\n    return [(colorRGB & 0xff0000) >> 16, (colorRGB & 0x00ff00) >> 8, colorRGB & 0x0000ff];\n  }\n  if (color.startsWith(\"rgb(\")) {\n    return color.slice(4, -1).split(\",\").map(x => parseInt(x));\n  }\n  if (color.startsWith(\"rgba(\")) {\n    return color.slice(5, -1).split(\",\").map(x => parseInt(x)).slice(0, 3);\n  }\n  (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.warn)(`Not a valid color format: \"${color}\"`);\n  return [0, 0, 0];\n}\nfunction getColorValues(colors) {\n  const span = document.createElement(\"span\");\n  span.style.visibility = \"hidden\";\n  document.body.append(span);\n  for (const name of colors.keys()) {\n    span.style.color = name;\n    const computedColor = window.getComputedStyle(span).color;\n    colors.set(name, getRGB(computedColor));\n  }\n  span.remove();\n}\nfunction getCurrentTransform(ctx) {\n  const {\n    a,\n    b,\n    c,\n    d,\n    e,\n    f\n  } = ctx.getTransform();\n  return [a, b, c, d, e, f];\n}\nfunction getCurrentTransformInverse(ctx) {\n  const {\n    a,\n    b,\n    c,\n    d,\n    e,\n    f\n  } = ctx.getTransform().invertSelf();\n  return [a, b, c, d, e, f];\n}\nfunction setLayerDimensions(div, viewport, mustFlip = false, mustRotate = true) {\n  if (viewport instanceof PageViewport) {\n    const {\n      pageWidth,\n      pageHeight\n    } = viewport.rawDims;\n    const {\n      style\n    } = div;\n    const useRound = _shared_util_js__WEBPACK_IMPORTED_MODULE_1__.FeatureTest.isCSSRoundSupported;\n    const w = `var(--scale-factor) * ${pageWidth}px`,\n      h = `var(--scale-factor) * ${pageHeight}px`;\n    const widthStr = useRound ? `round(${w}, 1px)` : `calc(${w})`,\n      heightStr = useRound ? `round(${h}, 1px)` : `calc(${h})`;\n    if (!mustFlip || viewport.rotation % 180 === 0) {\n      style.width = widthStr;\n      style.height = heightStr;\n    } else {\n      style.width = heightStr;\n      style.height = widthStr;\n    }\n  }\n  if (mustRotate) {\n    div.setAttribute(\"data-main-rotation\", viewport.rotation);\n  }\n}\n\n\n/***/ }),\n\n/***/ 47:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DrawLayer: () => (/* binding */ DrawLayer)\n/* harmony export */ });\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(419);\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(292);\n\n\nclass DrawLayer {\n  #parent = null;\n  #id = 0;\n  #mapping = new Map();\n  #toUpdate = new Map();\n  constructor({\n    pageIndex\n  }) {\n    this.pageIndex = pageIndex;\n  }\n  setParent(parent) {\n    if (!this.#parent) {\n      this.#parent = parent;\n      return;\n    }\n    if (this.#parent !== parent) {\n      if (this.#mapping.size > 0) {\n        for (const root of this.#mapping.values()) {\n          root.remove();\n          parent.append(root);\n        }\n      }\n      this.#parent = parent;\n    }\n  }\n  static get _svgFactory() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.shadow)(this, \"_svgFactory\", new _display_utils_js__WEBPACK_IMPORTED_MODULE_0__.DOMSVGFactory());\n  }\n  static #setBox(element, {\n    x = 0,\n    y = 0,\n    width = 1,\n    height = 1\n  } = {}) {\n    const {\n      style\n    } = element;\n    style.top = `${100 * y}%`;\n    style.left = `${100 * x}%`;\n    style.width = `${100 * width}%`;\n    style.height = `${100 * height}%`;\n  }\n  #createSVG(box) {\n    const svg = DrawLayer._svgFactory.create(1, 1, true);\n    this.#parent.append(svg);\n    svg.setAttribute(\"aria-hidden\", true);\n    DrawLayer.#setBox(svg, box);\n    return svg;\n  }\n  #createClipPath(defs, pathId) {\n    const clipPath = DrawLayer._svgFactory.createElement(\"clipPath\");\n    defs.append(clipPath);\n    const clipPathId = `clip_${pathId}`;\n    clipPath.setAttribute(\"id\", clipPathId);\n    clipPath.setAttribute(\"clipPathUnits\", \"objectBoundingBox\");\n    const clipPathUse = DrawLayer._svgFactory.createElement(\"use\");\n    clipPath.append(clipPathUse);\n    clipPathUse.setAttribute(\"href\", `#${pathId}`);\n    clipPathUse.classList.add(\"clip\");\n    return clipPathId;\n  }\n  highlight(outlines, color, opacity, isPathUpdatable = false) {\n    const id = this.#id++;\n    const root = this.#createSVG(outlines.box);\n    root.classList.add(\"highlight\");\n    if (outlines.free) {\n      root.classList.add(\"free\");\n    }\n    const defs = DrawLayer._svgFactory.createElement(\"defs\");\n    root.append(defs);\n    const path = DrawLayer._svgFactory.createElement(\"path\");\n    defs.append(path);\n    const pathId = `path_p${this.pageIndex}_${id}`;\n    path.setAttribute(\"id\", pathId);\n    path.setAttribute(\"d\", outlines.toSVGPath());\n    if (isPathUpdatable) {\n      this.#toUpdate.set(id, path);\n    }\n    const clipPathId = this.#createClipPath(defs, pathId);\n    const use = DrawLayer._svgFactory.createElement(\"use\");\n    root.append(use);\n    root.setAttribute(\"fill\", color);\n    root.setAttribute(\"fill-opacity\", opacity);\n    use.setAttribute(\"href\", `#${pathId}`);\n    this.#mapping.set(id, root);\n    return {\n      id,\n      clipPathId: `url(#${clipPathId})`\n    };\n  }\n  highlightOutline(outlines) {\n    const id = this.#id++;\n    const root = this.#createSVG(outlines.box);\n    root.classList.add(\"highlightOutline\");\n    const defs = DrawLayer._svgFactory.createElement(\"defs\");\n    root.append(defs);\n    const path = DrawLayer._svgFactory.createElement(\"path\");\n    defs.append(path);\n    const pathId = `path_p${this.pageIndex}_${id}`;\n    path.setAttribute(\"id\", pathId);\n    path.setAttribute(\"d\", outlines.toSVGPath());\n    path.setAttribute(\"vector-effect\", \"non-scaling-stroke\");\n    let maskId;\n    if (outlines.free) {\n      root.classList.add(\"free\");\n      const mask = DrawLayer._svgFactory.createElement(\"mask\");\n      defs.append(mask);\n      maskId = `mask_p${this.pageIndex}_${id}`;\n      mask.setAttribute(\"id\", maskId);\n      mask.setAttribute(\"maskUnits\", \"objectBoundingBox\");\n      const rect = DrawLayer._svgFactory.createElement(\"rect\");\n      mask.append(rect);\n      rect.setAttribute(\"width\", \"1\");\n      rect.setAttribute(\"height\", \"1\");\n      rect.setAttribute(\"fill\", \"white\");\n      const use = DrawLayer._svgFactory.createElement(\"use\");\n      mask.append(use);\n      use.setAttribute(\"href\", `#${pathId}`);\n      use.setAttribute(\"stroke\", \"none\");\n      use.setAttribute(\"fill\", \"black\");\n      use.setAttribute(\"fill-rule\", \"nonzero\");\n      use.classList.add(\"mask\");\n    }\n    const use1 = DrawLayer._svgFactory.createElement(\"use\");\n    root.append(use1);\n    use1.setAttribute(\"href\", `#${pathId}`);\n    if (maskId) {\n      use1.setAttribute(\"mask\", `url(#${maskId})`);\n    }\n    const use2 = use1.cloneNode();\n    root.append(use2);\n    use1.classList.add(\"mainOutline\");\n    use2.classList.add(\"secondaryOutline\");\n    this.#mapping.set(id, root);\n    return id;\n  }\n  finalizeLine(id, line) {\n    const path = this.#toUpdate.get(id);\n    this.#toUpdate.delete(id);\n    this.updateBox(id, line.box);\n    path.setAttribute(\"d\", line.toSVGPath());\n  }\n  updateLine(id, line) {\n    const root = this.#mapping.get(id);\n    const defs = root.firstChild;\n    const path = defs.firstChild;\n    path.setAttribute(\"d\", line.toSVGPath());\n  }\n  removeFreeHighlight(id) {\n    this.remove(id);\n    this.#toUpdate.delete(id);\n  }\n  updatePath(id, line) {\n    this.#toUpdate.get(id).setAttribute(\"d\", line.toSVGPath());\n  }\n  updateBox(id, box) {\n    DrawLayer.#setBox(this.#mapping.get(id), box);\n  }\n  show(id, visible) {\n    this.#mapping.get(id).classList.toggle(\"hidden\", !visible);\n  }\n  rotate(id, angle) {\n    this.#mapping.get(id).setAttribute(\"data-main-rotation\", angle);\n  }\n  changeColor(id, color) {\n    this.#mapping.get(id).setAttribute(\"fill\", color);\n  }\n  changeOpacity(id, opacity) {\n    this.#mapping.get(id).setAttribute(\"fill-opacity\", opacity);\n  }\n  addClass(id, className) {\n    this.#mapping.get(id).classList.add(className);\n  }\n  removeClass(id, className) {\n    this.#mapping.get(id).classList.remove(className);\n  }\n  remove(id) {\n    if (this.#parent === null) {\n      return;\n    }\n    this.#mapping.get(id).remove();\n    this.#mapping.delete(id);\n  }\n  destroy() {\n    this.#parent = null;\n    for (const root of this.#mapping.values()) {\n      root.remove();\n    }\n    this.#mapping.clear();\n  }\n}\n\n\n/***/ }),\n\n/***/ 731:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  AnnotationEditorLayer: () => (/* binding */ AnnotationEditorLayer)\n});\n\n// EXTERNAL MODULE: ./src/shared/util.js\nvar util = __webpack_require__(292);\n// EXTERNAL MODULE: ./src/display/editor/editor.js + 1 modules\nvar editor_editor = __webpack_require__(310);\n// EXTERNAL MODULE: ./src/display/editor/tools.js\nvar tools = __webpack_require__(830);\n// EXTERNAL MODULE: ./src/display/annotation_layer.js + 1 modules\nvar annotation_layer = __webpack_require__(976);\n;// CONCATENATED MODULE: ./src/display/editor/freetext.js\n\n\n\n\nconst EOL_PATTERN = /\\r\\n?|\\n/g;\nclass FreeTextEditor extends editor_editor.AnnotationEditor {\n  #boundEditorDivBlur = this.editorDivBlur.bind(this);\n  #boundEditorDivFocus = this.editorDivFocus.bind(this);\n  #boundEditorDivInput = this.editorDivInput.bind(this);\n  #boundEditorDivKeydown = this.editorDivKeydown.bind(this);\n  #boundEditorDivPaste = this.editorDivPaste.bind(this);\n  #color;\n  #content = \"\";\n  #editorDivId = `${this.id}-editor`;\n  #fontSize;\n  #initialData = null;\n  static _freeTextDefaultContent = \"\";\n  static _internalPadding = 0;\n  static _defaultColor = null;\n  static _defaultFontSize = 10;\n  static get _keyboardManager() {\n    const proto = FreeTextEditor.prototype;\n    const arrowChecker = self => self.isEmpty();\n    const small = tools.AnnotationEditorUIManager.TRANSLATE_SMALL;\n    const big = tools.AnnotationEditorUIManager.TRANSLATE_BIG;\n    return (0,util.shadow)(this, \"_keyboardManager\", new tools.KeyboardManager([[[\"ctrl+s\", \"mac+meta+s\", \"ctrl+p\", \"mac+meta+p\"], proto.commitOrRemove, {\n      bubbles: true\n    }], [[\"ctrl+Enter\", \"mac+meta+Enter\", \"Escape\", \"mac+Escape\"], proto.commitOrRemove], [[\"ArrowLeft\", \"mac+ArrowLeft\"], proto._translateEmpty, {\n      args: [-small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], proto._translateEmpty, {\n      args: [-big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto._translateEmpty, {\n      args: [small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], proto._translateEmpty, {\n      args: [big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto._translateEmpty, {\n      args: [0, -small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], proto._translateEmpty, {\n      args: [0, -big],\n      checker: arrowChecker\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto._translateEmpty, {\n      args: [0, small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], proto._translateEmpty, {\n      args: [0, big],\n      checker: arrowChecker\n    }]]));\n  }\n  static _type = \"freetext\";\n  static _editorType = util.AnnotationEditorType.FREETEXT;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"freeTextEditor\"\n    });\n    this.#color = params.color || FreeTextEditor._defaultColor || editor_editor.AnnotationEditor._defaultLineColor;\n    this.#fontSize = params.fontSize || FreeTextEditor._defaultFontSize;\n  }\n  static initialize(l10n, uiManager) {\n    editor_editor.AnnotationEditor.initialize(l10n, uiManager, {\n      strings: [\"pdfjs-free-text-default-content\"]\n    });\n    const style = getComputedStyle(document.documentElement);\n    this._internalPadding = parseFloat(style.getPropertyValue(\"--freetext-padding\"));\n  }\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case util.AnnotationEditorParamsType.FREETEXT_SIZE:\n        FreeTextEditor._defaultFontSize = value;\n        break;\n      case util.AnnotationEditorParamsType.FREETEXT_COLOR:\n        FreeTextEditor._defaultColor = value;\n        break;\n    }\n  }\n  updateParams(type, value) {\n    switch (type) {\n      case util.AnnotationEditorParamsType.FREETEXT_SIZE:\n        this.#updateFontSize(value);\n        break;\n      case util.AnnotationEditorParamsType.FREETEXT_COLOR:\n        this.#updateColor(value);\n        break;\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    return [[util.AnnotationEditorParamsType.FREETEXT_SIZE, FreeTextEditor._defaultFontSize], [util.AnnotationEditorParamsType.FREETEXT_COLOR, FreeTextEditor._defaultColor || editor_editor.AnnotationEditor._defaultLineColor]];\n  }\n  get propertiesToUpdate() {\n    return [[util.AnnotationEditorParamsType.FREETEXT_SIZE, this.#fontSize], [util.AnnotationEditorParamsType.FREETEXT_COLOR, this.#color]];\n  }\n  #updateFontSize(fontSize) {\n    const setFontsize = size => {\n      this.editorDiv.style.fontSize = `calc(${size}px * var(--scale-factor))`;\n      this.translate(0, -(size - this.#fontSize) * this.parentScale);\n      this.#fontSize = size;\n      this.#setEditorDimensions();\n    };\n    const savedFontsize = this.#fontSize;\n    this.addCommands({\n      cmd: setFontsize.bind(this, fontSize),\n      undo: setFontsize.bind(this, savedFontsize),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.FREETEXT_SIZE,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  #updateColor(color) {\n    const setColor = col => {\n      this.#color = this.editorDiv.style.color = col;\n    };\n    const savedColor = this.#color;\n    this.addCommands({\n      cmd: setColor.bind(this, color),\n      undo: setColor.bind(this, savedColor),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.FREETEXT_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  _translateEmpty(x, y) {\n    this._uiManager.translateSelectedEditors(x, y, true);\n  }\n  getInitialTranslation() {\n    const scale = this.parentScale;\n    return [-FreeTextEditor._internalPadding * scale, -(FreeTextEditor._internalPadding + this.#fontSize) * scale];\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  enableEditMode() {\n    if (this.isInEditMode()) {\n      return;\n    }\n    this.parent.setEditingState(false);\n    this.parent.updateToolbar(util.AnnotationEditorType.FREETEXT);\n    super.enableEditMode();\n    this.overlayDiv.classList.remove(\"enabled\");\n    this.editorDiv.contentEditable = true;\n    this._isDraggable = false;\n    this.div.removeAttribute(\"aria-activedescendant\");\n    this.editorDiv.addEventListener(\"keydown\", this.#boundEditorDivKeydown);\n    this.editorDiv.addEventListener(\"focus\", this.#boundEditorDivFocus);\n    this.editorDiv.addEventListener(\"blur\", this.#boundEditorDivBlur);\n    this.editorDiv.addEventListener(\"input\", this.#boundEditorDivInput);\n    this.editorDiv.addEventListener(\"paste\", this.#boundEditorDivPaste);\n  }\n  disableEditMode() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n    this.parent.setEditingState(true);\n    super.disableEditMode();\n    this.overlayDiv.classList.add(\"enabled\");\n    this.editorDiv.contentEditable = false;\n    this.div.setAttribute(\"aria-activedescendant\", this.#editorDivId);\n    this._isDraggable = true;\n    this.editorDiv.removeEventListener(\"keydown\", this.#boundEditorDivKeydown);\n    this.editorDiv.removeEventListener(\"focus\", this.#boundEditorDivFocus);\n    this.editorDiv.removeEventListener(\"blur\", this.#boundEditorDivBlur);\n    this.editorDiv.removeEventListener(\"input\", this.#boundEditorDivInput);\n    this.editorDiv.removeEventListener(\"paste\", this.#boundEditorDivPaste);\n    this.div.focus({\n      preventScroll: true\n    });\n    this.isEditing = false;\n    this.parent.div.classList.add(\"freetextEditing\");\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    super.focusin(event);\n    if (event.target !== this.editorDiv) {\n      this.editorDiv.focus();\n    }\n  }\n  onceAdded() {\n    if (this.width) {\n      return;\n    }\n    this.enableEditMode();\n    this.editorDiv.focus();\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    }\n    this._initialOptions = null;\n  }\n  isEmpty() {\n    return !this.editorDiv || this.editorDiv.innerText.trim() === \"\";\n  }\n  remove() {\n    this.isEditing = false;\n    if (this.parent) {\n      this.parent.setEditingState(true);\n      this.parent.div.classList.add(\"freetextEditing\");\n    }\n    super.remove();\n  }\n  #extractText() {\n    const buffer = [];\n    this.editorDiv.normalize();\n    for (const child of this.editorDiv.childNodes) {\n      buffer.push(FreeTextEditor.#getNodeContent(child));\n    }\n    return buffer.join(\"\\n\");\n  }\n  #setEditorDimensions() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    let rect;\n    if (this.isAttachedToDOM) {\n      rect = this.div.getBoundingClientRect();\n    } else {\n      const {\n        currentLayer,\n        div\n      } = this;\n      const savedDisplay = div.style.display;\n      const savedVisibility = div.classList.contains(\"hidden\");\n      div.classList.remove(\"hidden\");\n      div.style.display = \"hidden\";\n      currentLayer.div.append(this.div);\n      rect = div.getBoundingClientRect();\n      div.remove();\n      div.style.display = savedDisplay;\n      div.classList.toggle(\"hidden\", savedVisibility);\n    }\n    if (this.rotation % 180 === this.parentRotation % 180) {\n      this.width = rect.width / parentWidth;\n      this.height = rect.height / parentHeight;\n    } else {\n      this.width = rect.height / parentWidth;\n      this.height = rect.width / parentHeight;\n    }\n    this.fixAndSetPosition();\n  }\n  commit() {\n    if (!this.isInEditMode()) {\n      return;\n    }\n    super.commit();\n    this.disableEditMode();\n    const savedText = this.#content;\n    const newText = this.#content = this.#extractText().trimEnd();\n    if (savedText === newText) {\n      return;\n    }\n    const setText = text => {\n      this.#content = text;\n      if (!text) {\n        this.remove();\n        return;\n      }\n      this.#setContent();\n      this._uiManager.rebuild(this);\n      this.#setEditorDimensions();\n    };\n    this.addCommands({\n      cmd: () => {\n        setText(newText);\n      },\n      undo: () => {\n        setText(savedText);\n      },\n      mustExec: false\n    });\n    this.#setEditorDimensions();\n  }\n  shouldGetKeyboardEvents() {\n    return this.isInEditMode();\n  }\n  enterInEditMode() {\n    this.enableEditMode();\n    this.editorDiv.focus();\n  }\n  dblclick(event) {\n    this.enterInEditMode();\n  }\n  keydown(event) {\n    if (event.target === this.div && event.key === \"Enter\") {\n      this.enterInEditMode();\n      event.preventDefault();\n    }\n  }\n  editorDivKeydown(event) {\n    FreeTextEditor._keyboardManager.exec(this, event);\n  }\n  editorDivFocus(event) {\n    this.isEditing = true;\n  }\n  editorDivBlur(event) {\n    this.isEditing = false;\n  }\n  editorDivInput(event) {\n    this.parent.div.classList.toggle(\"freetextEditing\", this.isEmpty());\n  }\n  disableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"comment\");\n    this.editorDiv.removeAttribute(\"aria-multiline\");\n  }\n  enableEditing() {\n    this.editorDiv.setAttribute(\"role\", \"textbox\");\n    this.editorDiv.setAttribute(\"aria-multiline\", true);\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.editorDiv = document.createElement(\"div\");\n    this.editorDiv.className = \"internal\";\n    this.editorDiv.setAttribute(\"id\", this.#editorDivId);\n    this.editorDiv.setAttribute(\"data-l10n-id\", \"pdfjs-free-text\");\n    this.enableEditing();\n    editor_editor.AnnotationEditor._l10nPromise.get(\"pdfjs-free-text-default-content\").then(msg => this.editorDiv?.setAttribute(\"default-content\", msg));\n    this.editorDiv.contentEditable = true;\n    const {\n      style\n    } = this.editorDiv;\n    style.fontSize = `calc(${this.#fontSize}px * var(--scale-factor))`;\n    style.color = this.#color;\n    this.div.append(this.editorDiv);\n    this.overlayDiv = document.createElement(\"div\");\n    this.overlayDiv.classList.add(\"overlay\", \"enabled\");\n    this.div.append(this.overlayDiv);\n    (0,tools.bindEvents)(this, this.div, [\"dblclick\", \"keydown\"]);\n    if (this.width) {\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      if (this.annotationElementId) {\n        const {\n          position\n        } = this.#initialData;\n        let [tx, ty] = this.getInitialTranslation();\n        [tx, ty] = this.pageTranslationToScreen(tx, ty);\n        const [pageWidth, pageHeight] = this.pageDimensions;\n        const [pageX, pageY] = this.pageTranslation;\n        let posX, posY;\n        switch (this.rotation) {\n          case 0:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY + this.height - (position[1] - pageY) / pageHeight;\n            break;\n          case 90:\n            posX = baseX + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [ty, -tx];\n            break;\n          case 180:\n            posX = baseX - this.width + (position[0] - pageX) / pageWidth;\n            posY = baseY - (position[1] - pageY) / pageHeight;\n            [tx, ty] = [-tx, -ty];\n            break;\n          case 270:\n            posX = baseX + (position[0] - pageX - this.height * pageHeight) / pageWidth;\n            posY = baseY + (position[1] - pageY - this.width * pageWidth) / pageHeight;\n            [tx, ty] = [-ty, tx];\n            break;\n        }\n        this.setAt(posX * parentWidth, posY * parentHeight, tx, ty);\n      } else {\n        this.setAt(baseX * parentWidth, baseY * parentHeight, this.width * parentWidth, this.height * parentHeight);\n      }\n      this.#setContent();\n      this._isDraggable = true;\n      this.editorDiv.contentEditable = false;\n    } else {\n      this._isDraggable = false;\n      this.editorDiv.contentEditable = true;\n    }\n    return this.div;\n  }\n  static #getNodeContent(node) {\n    return (node.nodeType === Node.TEXT_NODE ? node.nodeValue : node.innerText).replaceAll(EOL_PATTERN, \"\");\n  }\n  editorDivPaste(event) {\n    const clipboardData = event.clipboardData || window.clipboardData;\n    const {\n      types\n    } = clipboardData;\n    if (types.length === 1 && types[0] === \"text/plain\") {\n      return;\n    }\n    event.preventDefault();\n    const paste = FreeTextEditor.#deserializeContent(clipboardData.getData(\"text\") || \"\").replaceAll(EOL_PATTERN, \"\\n\");\n    if (!paste) {\n      return;\n    }\n    const selection = window.getSelection();\n    if (!selection.rangeCount) {\n      return;\n    }\n    this.editorDiv.normalize();\n    selection.deleteFromDocument();\n    const range = selection.getRangeAt(0);\n    if (!paste.includes(\"\\n\")) {\n      range.insertNode(document.createTextNode(paste));\n      this.editorDiv.normalize();\n      selection.collapseToStart();\n      return;\n    }\n    const {\n      startContainer,\n      startOffset\n    } = range;\n    const bufferBefore = [];\n    const bufferAfter = [];\n    if (startContainer.nodeType === Node.TEXT_NODE) {\n      const parent = startContainer.parentElement;\n      bufferAfter.push(startContainer.nodeValue.slice(startOffset).replaceAll(EOL_PATTERN, \"\"));\n      if (parent !== this.editorDiv) {\n        let buffer = bufferBefore;\n        for (const child of this.editorDiv.childNodes) {\n          if (child === parent) {\n            buffer = bufferAfter;\n            continue;\n          }\n          buffer.push(FreeTextEditor.#getNodeContent(child));\n        }\n      }\n      bufferBefore.push(startContainer.nodeValue.slice(0, startOffset).replaceAll(EOL_PATTERN, \"\"));\n    } else if (startContainer === this.editorDiv) {\n      let buffer = bufferBefore;\n      let i = 0;\n      for (const child of this.editorDiv.childNodes) {\n        if (i++ === startOffset) {\n          buffer = bufferAfter;\n        }\n        buffer.push(FreeTextEditor.#getNodeContent(child));\n      }\n    }\n    this.#content = `${bufferBefore.join(\"\\n\")}${paste}${bufferAfter.join(\"\\n\")}`;\n    this.#setContent();\n    const newRange = new Range();\n    let beforeLength = bufferBefore.reduce((acc, line) => acc + line.length, 0);\n    for (const {\n      firstChild\n    } of this.editorDiv.childNodes) {\n      if (firstChild.nodeType === Node.TEXT_NODE) {\n        const length = firstChild.nodeValue.length;\n        if (beforeLength <= length) {\n          newRange.setStart(firstChild, beforeLength);\n          newRange.setEnd(firstChild, beforeLength);\n          break;\n        }\n        beforeLength -= length;\n      }\n    }\n    selection.removeAllRanges();\n    selection.addRange(newRange);\n  }\n  #setContent() {\n    this.editorDiv.replaceChildren();\n    if (!this.#content) {\n      return;\n    }\n    for (const line of this.#content.split(\"\\n\")) {\n      const div = document.createElement(\"div\");\n      div.append(line ? document.createTextNode(line) : document.createElement(\"br\"));\n      this.editorDiv.append(div);\n    }\n  }\n  #serializeContent() {\n    return this.#content.replaceAll(\"\\xa0\", \" \");\n  }\n  static #deserializeContent(content) {\n    return content.replaceAll(\" \", \"\\xa0\");\n  }\n  get contentDiv() {\n    return this.editorDiv;\n  }\n  static deserialize(data, parent, uiManager) {\n    let initialData = null;\n    if (data instanceof annotation_layer.FreeTextAnnotationElement) {\n      const {\n        data: {\n          defaultAppearanceData: {\n            fontSize,\n            fontColor\n          },\n          rect,\n          rotation,\n          id\n        },\n        textContent,\n        textPosition,\n        parent: {\n          page: {\n            pageNumber\n          }\n        }\n      } = data;\n      if (!textContent || textContent.length === 0) {\n        return null;\n      }\n      initialData = data = {\n        annotationType: util.AnnotationEditorType.FREETEXT,\n        color: Array.from(fontColor),\n        fontSize,\n        value: textContent.join(\"\\n\"),\n        position: textPosition,\n        pageIndex: pageNumber - 1,\n        rect: rect.slice(0),\n        rotation,\n        id,\n        deleted: false\n      };\n    }\n    const editor = super.deserialize(data, parent, uiManager);\n    editor.#fontSize = data.fontSize;\n    editor.#color = util.Util.makeHexColor(...data.color);\n    editor.#content = FreeTextEditor.#deserializeContent(data.value);\n    editor.annotationElementId = data.id || null;\n    editor.#initialData = initialData;\n    return editor;\n  }\n  serialize(isForCopying = false) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    if (this.deleted) {\n      return {\n        pageIndex: this.pageIndex,\n        id: this.annotationElementId,\n        deleted: true\n      };\n    }\n    const padding = FreeTextEditor._internalPadding * this.parentScale;\n    const rect = this.getRect(padding, padding);\n    const color = editor_editor.AnnotationEditor._colorManager.convert(this.isAttachedToDOM ? getComputedStyle(this.editorDiv).color : this.#color);\n    const serialized = {\n      annotationType: util.AnnotationEditorType.FREETEXT,\n      color,\n      fontSize: this.#fontSize,\n      value: this.#serializeContent(),\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.rotation,\n      structTreeParentId: this._structTreeParentId\n    };\n    if (isForCopying) {\n      return serialized;\n    }\n    if (this.annotationElementId && !this.#hasElementChanged(serialized)) {\n      return null;\n    }\n    serialized.id = this.annotationElementId;\n    return serialized;\n  }\n  #hasElementChanged(serialized) {\n    const {\n      value,\n      fontSize,\n      color,\n      pageIndex\n    } = this.#initialData;\n    return this._hasBeenMoved || serialized.value !== value || serialized.fontSize !== fontSize || serialized.color.some((c, i) => c !== color[i]) || serialized.pageIndex !== pageIndex;\n  }\n  renderAnnotationElement(annotation) {\n    const content = super.renderAnnotationElement(annotation);\n    if (this.deleted) {\n      return content;\n    }\n    const {\n      style\n    } = content;\n    style.fontSize = `calc(${this.#fontSize}px * var(--scale-factor))`;\n    style.color = this.#color;\n    content.replaceChildren();\n    for (const line of this.#content.split(\"\\n\")) {\n      const div = document.createElement(\"div\");\n      div.append(line ? document.createTextNode(line) : document.createElement(\"br\"));\n      content.append(div);\n    }\n    const padding = FreeTextEditor._internalPadding * this.parentScale;\n    annotation.updateEdited({\n      rect: this.getRect(padding, padding)\n    });\n    return content;\n  }\n  resetAnnotationElement(annotation) {\n    super.resetAnnotationElement(annotation);\n    annotation.resetEdited();\n  }\n}\n\n// EXTERNAL MODULE: ./src/display/editor/outliner.js\nvar editor_outliner = __webpack_require__(61);\n// EXTERNAL MODULE: ./src/display/editor/color_picker.js\nvar color_picker = __webpack_require__(259);\n// EXTERNAL MODULE: ./src/display/display_utils.js\nvar display_utils = __webpack_require__(419);\n;// CONCATENATED MODULE: ./src/display/editor/highlight.js\n\n\n\n\n\n\nclass HighlightEditor extends editor_editor.AnnotationEditor {\n  #anchorNode = null;\n  #anchorOffset = 0;\n  #boxes;\n  #clipPathId = null;\n  #colorPicker = null;\n  #focusOutlines = null;\n  #focusNode = null;\n  #focusOffset = 0;\n  #highlightDiv = null;\n  #highlightOutlines = null;\n  #id = null;\n  #isFreeHighlight = false;\n  #boundKeydown = this.#keydown.bind(this);\n  #lastPoint = null;\n  #opacity;\n  #outlineId = null;\n  #text = \"\";\n  #thickness;\n  #methodOfCreation = \"\";\n  static _defaultColor = null;\n  static _defaultOpacity = 1;\n  static _defaultThickness = 12;\n  static _l10nPromise;\n  static _type = \"highlight\";\n  static _editorType = util.AnnotationEditorType.HIGHLIGHT;\n  static _freeHighlightId = -1;\n  static _freeHighlight = null;\n  static _freeHighlightClipId = \"\";\n  static get _keyboardManager() {\n    const proto = HighlightEditor.prototype;\n    return (0,util.shadow)(this, \"_keyboardManager\", new tools.KeyboardManager([[[\"ArrowLeft\", \"mac+ArrowLeft\"], proto._moveCaret, {\n      args: [0]\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto._moveCaret, {\n      args: [1]\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto._moveCaret, {\n      args: [2]\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto._moveCaret, {\n      args: [3]\n    }]]));\n  }\n  constructor(params) {\n    super({\n      ...params,\n      name: \"highlightEditor\"\n    });\n    this.color = params.color || HighlightEditor._defaultColor;\n    this.#thickness = params.thickness || HighlightEditor._defaultThickness;\n    this.#opacity = params.opacity || HighlightEditor._defaultOpacity;\n    this.#boxes = params.boxes || null;\n    this.#methodOfCreation = params.methodOfCreation || \"\";\n    this.#text = params.text || \"\";\n    this._isDraggable = false;\n    if (params.highlightId > -1) {\n      this.#isFreeHighlight = true;\n      this.#createFreeOutlines(params);\n      this.#addToDrawLayer();\n    } else {\n      this.#anchorNode = params.anchorNode;\n      this.#anchorOffset = params.anchorOffset;\n      this.#focusNode = params.focusNode;\n      this.#focusOffset = params.focusOffset;\n      this.#createOutlines();\n      this.#addToDrawLayer();\n      this.rotate(this.rotation);\n    }\n  }\n  get telemetryInitialData() {\n    return {\n      action: \"added\",\n      type: this.#isFreeHighlight ? \"free_highlight\" : \"highlight\",\n      color: this._uiManager.highlightColorNames.get(this.color),\n      thickness: this.#thickness,\n      methodOfCreation: this.#methodOfCreation\n    };\n  }\n  get telemetryFinalData() {\n    return {\n      type: \"highlight\",\n      color: this._uiManager.highlightColorNames.get(this.color)\n    };\n  }\n  static computeTelemetryFinalData(data) {\n    return {\n      numberOfColors: data.get(\"color\").size\n    };\n  }\n  #createOutlines() {\n    const outliner = new editor_outliner.Outliner(this.#boxes, 0.001);\n    this.#highlightOutlines = outliner.getOutlines();\n    ({\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height\n    } = this.#highlightOutlines.box);\n    const outlinerForOutline = new editor_outliner.Outliner(this.#boxes, 0.0025, 0.001, this._uiManager.direction === \"ltr\");\n    this.#focusOutlines = outlinerForOutline.getOutlines();\n    const {\n      lastPoint\n    } = this.#focusOutlines.box;\n    this.#lastPoint = [(lastPoint[0] - this.x) / this.width, (lastPoint[1] - this.y) / this.height];\n  }\n  #createFreeOutlines({\n    highlightOutlines,\n    highlightId,\n    clipPathId\n  }) {\n    this.#highlightOutlines = highlightOutlines;\n    const extraThickness = 1.5;\n    this.#focusOutlines = highlightOutlines.getNewOutline(this.#thickness / 2 + extraThickness, 0.0025);\n    if (highlightId >= 0) {\n      this.#id = highlightId;\n      this.#clipPathId = clipPathId;\n      this.parent.drawLayer.finalizeLine(highlightId, highlightOutlines);\n      this.#outlineId = this.parent.drawLayer.highlightOutline(this.#focusOutlines);\n    } else if (this.parent) {\n      const angle = this.parent.viewport.rotation;\n      this.parent.drawLayer.updateLine(this.#id, highlightOutlines);\n      this.parent.drawLayer.updateBox(this.#id, HighlightEditor.#rotateBbox(this.#highlightOutlines.box, (angle - this.rotation + 360) % 360));\n      this.parent.drawLayer.updateLine(this.#outlineId, this.#focusOutlines);\n      this.parent.drawLayer.updateBox(this.#outlineId, HighlightEditor.#rotateBbox(this.#focusOutlines.box, angle));\n    }\n    const {\n      x,\n      y,\n      width,\n      height\n    } = highlightOutlines.box;\n    switch (this.rotation) {\n      case 0:\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        break;\n      case 90:\n        {\n          const [pageWidth, pageHeight] = this.parentDimensions;\n          this.x = y;\n          this.y = 1 - x;\n          this.width = width * pageHeight / pageWidth;\n          this.height = height * pageWidth / pageHeight;\n          break;\n        }\n      case 180:\n        this.x = 1 - x;\n        this.y = 1 - y;\n        this.width = width;\n        this.height = height;\n        break;\n      case 270:\n        {\n          const [pageWidth, pageHeight] = this.parentDimensions;\n          this.x = 1 - y;\n          this.y = x;\n          this.width = width * pageHeight / pageWidth;\n          this.height = height * pageWidth / pageHeight;\n          break;\n        }\n    }\n    const {\n      lastPoint\n    } = this.#focusOutlines.box;\n    this.#lastPoint = [(lastPoint[0] - x) / width, (lastPoint[1] - y) / height];\n  }\n  static initialize(l10n, uiManager) {\n    editor_editor.AnnotationEditor.initialize(l10n, uiManager);\n    HighlightEditor._defaultColor ||= uiManager.highlightColors?.values().next().value || \"#fff066\";\n  }\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case util.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:\n        HighlightEditor._defaultColor = value;\n        break;\n      case util.AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:\n        HighlightEditor._defaultThickness = value;\n        break;\n    }\n  }\n  translateInPage(x, y) {}\n  get toolbarPosition() {\n    return this.#lastPoint;\n  }\n  updateParams(type, value) {\n    switch (type) {\n      case util.AnnotationEditorParamsType.HIGHLIGHT_COLOR:\n        this.#updateColor(value);\n        break;\n      case util.AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:\n        this.#updateThickness(value);\n        break;\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    return [[util.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR, HighlightEditor._defaultColor], [util.AnnotationEditorParamsType.HIGHLIGHT_THICKNESS, HighlightEditor._defaultThickness]];\n  }\n  get propertiesToUpdate() {\n    return [[util.AnnotationEditorParamsType.HIGHLIGHT_COLOR, this.color || HighlightEditor._defaultColor], [util.AnnotationEditorParamsType.HIGHLIGHT_THICKNESS, this.#thickness || HighlightEditor._defaultThickness], [util.AnnotationEditorParamsType.HIGHLIGHT_FREE, this.#isFreeHighlight]];\n  }\n  #updateColor(color) {\n    const setColor = col => {\n      this.color = col;\n      this.parent?.drawLayer.changeColor(this.#id, col);\n      this.#colorPicker?.updateColor(col);\n    };\n    const savedColor = this.color;\n    this.addCommands({\n      cmd: setColor.bind(this, color),\n      undo: setColor.bind(this, savedColor),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.HIGHLIGHT_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n    this._reportTelemetry({\n      action: \"color_changed\",\n      color: this._uiManager.highlightColorNames.get(color)\n    }, true);\n  }\n  #updateThickness(thickness) {\n    const savedThickness = this.#thickness;\n    const setThickness = th => {\n      this.#thickness = th;\n      this.#changeThickness(th);\n    };\n    this.addCommands({\n      cmd: setThickness.bind(this, thickness),\n      undo: setThickness.bind(this, savedThickness),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.INK_THICKNESS,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n    this._reportTelemetry({\n      action: \"thickness_changed\",\n      thickness\n    }, true);\n  }\n  async addEditToolbar() {\n    const toolbar = await super.addEditToolbar();\n    if (!toolbar) {\n      return null;\n    }\n    if (this._uiManager.highlightColors) {\n      this.#colorPicker = new color_picker.ColorPicker({\n        editor: this\n      });\n      toolbar.addColorPicker(this.#colorPicker);\n    }\n    return toolbar;\n  }\n  disableEditing() {\n    super.disableEditing();\n    this.div.classList.toggle(\"disabled\", true);\n  }\n  enableEditing() {\n    super.enableEditing();\n    this.div.classList.toggle(\"disabled\", false);\n  }\n  fixAndSetPosition() {\n    return super.fixAndSetPosition(this.#getRotation());\n  }\n  getBaseTranslation() {\n    return [0, 0];\n  }\n  getRect(tx, ty) {\n    return super.getRect(tx, ty, this.#getRotation());\n  }\n  onceAdded() {\n    this.parent.addUndoableEditor(this);\n    this.div.focus();\n  }\n  remove() {\n    this.#cleanDrawLayer();\n    this._reportTelemetry({\n      action: \"deleted\"\n    });\n    super.remove();\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    this.#addToDrawLayer();\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  setParent(parent) {\n    let mustBeSelected = false;\n    if (this.parent && !parent) {\n      this.#cleanDrawLayer();\n    } else if (parent) {\n      this.#addToDrawLayer(parent);\n      mustBeSelected = !this.parent && this.div?.classList.contains(\"selectedEditor\");\n    }\n    super.setParent(parent);\n    this.show(this._isVisible);\n    if (mustBeSelected) {\n      this.select();\n    }\n  }\n  #changeThickness(thickness) {\n    if (!this.#isFreeHighlight) {\n      return;\n    }\n    this.#createFreeOutlines({\n      highlightOutlines: this.#highlightOutlines.getNewOutline(thickness / 2)\n    });\n    this.fixAndSetPosition();\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(this.width * parentWidth, this.height * parentHeight);\n  }\n  #cleanDrawLayer() {\n    if (this.#id === null || !this.parent) {\n      return;\n    }\n    this.parent.drawLayer.remove(this.#id);\n    this.#id = null;\n    this.parent.drawLayer.remove(this.#outlineId);\n    this.#outlineId = null;\n  }\n  #addToDrawLayer(parent = this.parent) {\n    if (this.#id !== null) {\n      return;\n    }\n    ({\n      id: this.#id,\n      clipPathId: this.#clipPathId\n    } = parent.drawLayer.highlight(this.#highlightOutlines, this.color, this.#opacity));\n    this.#outlineId = parent.drawLayer.highlightOutline(this.#focusOutlines);\n    if (this.#highlightDiv) {\n      this.#highlightDiv.style.clipPath = this.#clipPathId;\n    }\n  }\n  static #rotateBbox({\n    x,\n    y,\n    width,\n    height\n  }, angle) {\n    switch (angle) {\n      case 90:\n        return {\n          x: 1 - y - height,\n          y: x,\n          width: height,\n          height: width\n        };\n      case 180:\n        return {\n          x: 1 - x - width,\n          y: 1 - y - height,\n          width,\n          height\n        };\n      case 270:\n        return {\n          x: y,\n          y: 1 - x - width,\n          width: height,\n          height: width\n        };\n    }\n    return {\n      x,\n      y,\n      width,\n      height\n    };\n  }\n  rotate(angle) {\n    const {\n      drawLayer\n    } = this.parent;\n    let box;\n    if (this.#isFreeHighlight) {\n      angle = (angle - this.rotation + 360) % 360;\n      box = HighlightEditor.#rotateBbox(this.#highlightOutlines.box, angle);\n    } else {\n      box = HighlightEditor.#rotateBbox(this, angle);\n    }\n    drawLayer.rotate(this.#id, angle);\n    drawLayer.rotate(this.#outlineId, angle);\n    drawLayer.updateBox(this.#id, box);\n    drawLayer.updateBox(this.#outlineId, HighlightEditor.#rotateBbox(this.#focusOutlines.box, angle));\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    const div = super.render();\n    if (this.#text) {\n      div.setAttribute(\"aria-label\", this.#text);\n      div.setAttribute(\"role\", \"mark\");\n    }\n    if (this.#isFreeHighlight) {\n      div.classList.add(\"free\");\n    } else {\n      this.div.addEventListener(\"keydown\", this.#boundKeydown);\n    }\n    const highlightDiv = this.#highlightDiv = document.createElement(\"div\");\n    div.append(highlightDiv);\n    highlightDiv.setAttribute(\"aria-hidden\", \"true\");\n    highlightDiv.className = \"internal\";\n    highlightDiv.style.clipPath = this.#clipPathId;\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(this.width * parentWidth, this.height * parentHeight);\n    (0,tools.bindEvents)(this, this.#highlightDiv, [\"pointerover\", \"pointerleave\"]);\n    this.enableEditing();\n    return div;\n  }\n  pointerover() {\n    this.parent.drawLayer.addClass(this.#outlineId, \"hovered\");\n  }\n  pointerleave() {\n    this.parent.drawLayer.removeClass(this.#outlineId, \"hovered\");\n  }\n  #keydown(event) {\n    HighlightEditor._keyboardManager.exec(this, event);\n  }\n  _moveCaret(direction) {\n    this.parent.unselect(this);\n    switch (direction) {\n      case 0:\n      case 2:\n        this.#setCaret(true);\n        break;\n      case 1:\n      case 3:\n        this.#setCaret(false);\n        break;\n    }\n  }\n  #setCaret(start) {\n    if (!this.#anchorNode) {\n      return;\n    }\n    const selection = window.getSelection();\n    if (start) {\n      selection.setPosition(this.#anchorNode, this.#anchorOffset);\n    } else {\n      selection.setPosition(this.#focusNode, this.#focusOffset);\n    }\n  }\n  select() {\n    super.select();\n    if (!this.#outlineId) {\n      return;\n    }\n    this.parent?.drawLayer.removeClass(this.#outlineId, \"hovered\");\n    this.parent?.drawLayer.addClass(this.#outlineId, \"selected\");\n  }\n  unselect() {\n    super.unselect();\n    if (!this.#outlineId) {\n      return;\n    }\n    this.parent?.drawLayer.removeClass(this.#outlineId, \"selected\");\n    if (!this.#isFreeHighlight) {\n      this.#setCaret(false);\n    }\n  }\n  get _mustFixPosition() {\n    return !this.#isFreeHighlight;\n  }\n  show(visible = this._isVisible) {\n    super.show(visible);\n    if (this.parent) {\n      this.parent.drawLayer.show(this.#id, visible);\n      this.parent.drawLayer.show(this.#outlineId, visible);\n    }\n  }\n  #getRotation() {\n    return this.#isFreeHighlight ? this.rotation : 0;\n  }\n  #serializeBoxes() {\n    if (this.#isFreeHighlight) {\n      return null;\n    }\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const boxes = this.#boxes;\n    const quadPoints = new Array(boxes.length * 8);\n    let i = 0;\n    for (const {\n      x,\n      y,\n      width,\n      height\n    } of boxes) {\n      const sx = x * pageWidth;\n      const sy = (1 - y - height) * pageHeight;\n      quadPoints[i] = quadPoints[i + 4] = sx;\n      quadPoints[i + 1] = quadPoints[i + 3] = sy;\n      quadPoints[i + 2] = quadPoints[i + 6] = sx + width * pageWidth;\n      quadPoints[i + 5] = quadPoints[i + 7] = sy + height * pageHeight;\n      i += 8;\n    }\n    return quadPoints;\n  }\n  #serializeOutlines(rect) {\n    return this.#highlightOutlines.serialize(rect, this.#getRotation());\n  }\n  static startHighlighting(parent, isLTR, {\n    target: textLayer,\n    x,\n    y\n  }) {\n    const {\n      x: layerX,\n      y: layerY,\n      width: parentWidth,\n      height: parentHeight\n    } = textLayer.getBoundingClientRect();\n    const pointerMove = e => {\n      this.#highlightMove(parent, e);\n    };\n    const pointerDownOptions = {\n      capture: true,\n      passive: false\n    };\n    const pointerDown = e => {\n      e.preventDefault();\n      e.stopPropagation();\n    };\n    const pointerUpCallback = e => {\n      textLayer.removeEventListener(\"pointermove\", pointerMove);\n      window.removeEventListener(\"blur\", pointerUpCallback);\n      window.removeEventListener(\"pointerup\", pointerUpCallback);\n      window.removeEventListener(\"pointerdown\", pointerDown, pointerDownOptions);\n      window.removeEventListener(\"contextmenu\", display_utils.noContextMenu);\n      this.#endHighlight(parent, e);\n    };\n    window.addEventListener(\"blur\", pointerUpCallback);\n    window.addEventListener(\"pointerup\", pointerUpCallback);\n    window.addEventListener(\"pointerdown\", pointerDown, pointerDownOptions);\n    window.addEventListener(\"contextmenu\", display_utils.noContextMenu);\n    textLayer.addEventListener(\"pointermove\", pointerMove);\n    this._freeHighlight = new editor_outliner.FreeOutliner({\n      x,\n      y\n    }, [layerX, layerY, parentWidth, parentHeight], parent.scale, this._defaultThickness / 2, isLTR, 0.001);\n    ({\n      id: this._freeHighlightId,\n      clipPathId: this._freeHighlightClipId\n    } = parent.drawLayer.highlight(this._freeHighlight, this._defaultColor, this._defaultOpacity, true));\n  }\n  static #highlightMove(parent, event) {\n    if (this._freeHighlight.add(event)) {\n      parent.drawLayer.updatePath(this._freeHighlightId, this._freeHighlight);\n    }\n  }\n  static #endHighlight(parent, event) {\n    if (!this._freeHighlight.isEmpty()) {\n      parent.createAndAddNewEditor(event, false, {\n        highlightId: this._freeHighlightId,\n        highlightOutlines: this._freeHighlight.getOutlines(),\n        clipPathId: this._freeHighlightClipId,\n        methodOfCreation: \"main_toolbar\"\n      });\n    } else {\n      parent.drawLayer.removeFreeHighlight(this._freeHighlightId);\n    }\n    this._freeHighlightId = -1;\n    this._freeHighlight = null;\n    this._freeHighlightClipId = \"\";\n  }\n  static deserialize(data, parent, uiManager) {\n    const editor = super.deserialize(data, parent, uiManager);\n    const {\n      rect: [blX, blY, trX, trY],\n      color,\n      quadPoints\n    } = data;\n    editor.color = util.Util.makeHexColor(...color);\n    editor.#opacity = data.opacity;\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    editor.width = (trX - blX) / pageWidth;\n    editor.height = (trY - blY) / pageHeight;\n    const boxes = editor.#boxes = [];\n    for (let i = 0; i < quadPoints.length; i += 8) {\n      boxes.push({\n        x: (quadPoints[4] - trX) / pageWidth,\n        y: (trY - (1 - quadPoints[i + 5])) / pageHeight,\n        width: (quadPoints[i + 2] - quadPoints[i]) / pageWidth,\n        height: (quadPoints[i + 5] - quadPoints[i + 1]) / pageHeight\n      });\n    }\n    editor.#createOutlines();\n    return editor;\n  }\n  serialize(isForCopying = false) {\n    if (this.isEmpty() || isForCopying) {\n      return null;\n    }\n    const rect = this.getRect(0, 0);\n    const color = editor_editor.AnnotationEditor._colorManager.convert(this.color);\n    return {\n      annotationType: util.AnnotationEditorType.HIGHLIGHT,\n      color,\n      opacity: this.#opacity,\n      thickness: this.#thickness,\n      quadPoints: this.#serializeBoxes(),\n      outlines: this.#serializeOutlines(rect),\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.#getRotation(),\n      structTreeParentId: this._structTreeParentId\n    };\n  }\n  static canCreateNewEmptyEditor() {\n    return false;\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/editor/ink.js\n\n\n\n\n\nclass InkEditor extends editor_editor.AnnotationEditor {\n  #baseHeight = 0;\n  #baseWidth = 0;\n  #boundCanvasPointermove = this.canvasPointermove.bind(this);\n  #boundCanvasPointerleave = this.canvasPointerleave.bind(this);\n  #boundCanvasPointerup = this.canvasPointerup.bind(this);\n  #boundCanvasPointerdown = this.canvasPointerdown.bind(this);\n  #canvasContextMenuTimeoutId = null;\n  #currentPath2D = new Path2D();\n  #disableEditing = false;\n  #hasSomethingToDraw = false;\n  #isCanvasInitialized = false;\n  #observer = null;\n  #realWidth = 0;\n  #realHeight = 0;\n  #requestFrameCallback = null;\n  static _defaultColor = null;\n  static _defaultOpacity = 1;\n  static _defaultThickness = 1;\n  static _type = \"ink\";\n  static _editorType = util.AnnotationEditorType.INK;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"inkEditor\"\n    });\n    this.color = params.color || null;\n    this.thickness = params.thickness || null;\n    this.opacity = params.opacity || null;\n    this.paths = [];\n    this.bezierPath2D = [];\n    this.allRawPaths = [];\n    this.currentPath = [];\n    this.scaleFactor = 1;\n    this.translationX = this.translationY = 0;\n    this.x = 0;\n    this.y = 0;\n    this._willKeepAspectRatio = true;\n  }\n  static initialize(l10n, uiManager) {\n    editor_editor.AnnotationEditor.initialize(l10n, uiManager);\n  }\n  static updateDefaultParams(type, value) {\n    switch (type) {\n      case util.AnnotationEditorParamsType.INK_THICKNESS:\n        InkEditor._defaultThickness = value;\n        break;\n      case util.AnnotationEditorParamsType.INK_COLOR:\n        InkEditor._defaultColor = value;\n        break;\n      case util.AnnotationEditorParamsType.INK_OPACITY:\n        InkEditor._defaultOpacity = value / 100;\n        break;\n    }\n  }\n  updateParams(type, value) {\n    switch (type) {\n      case util.AnnotationEditorParamsType.INK_THICKNESS:\n        this.#updateThickness(value);\n        break;\n      case util.AnnotationEditorParamsType.INK_COLOR:\n        this.#updateColor(value);\n        break;\n      case util.AnnotationEditorParamsType.INK_OPACITY:\n        this.#updateOpacity(value);\n        break;\n    }\n  }\n  static get defaultPropertiesToUpdate() {\n    return [[util.AnnotationEditorParamsType.INK_THICKNESS, InkEditor._defaultThickness], [util.AnnotationEditorParamsType.INK_COLOR, InkEditor._defaultColor || editor_editor.AnnotationEditor._defaultLineColor], [util.AnnotationEditorParamsType.INK_OPACITY, Math.round(InkEditor._defaultOpacity * 100)]];\n  }\n  get propertiesToUpdate() {\n    return [[util.AnnotationEditorParamsType.INK_THICKNESS, this.thickness || InkEditor._defaultThickness], [util.AnnotationEditorParamsType.INK_COLOR, this.color || InkEditor._defaultColor || editor_editor.AnnotationEditor._defaultLineColor], [util.AnnotationEditorParamsType.INK_OPACITY, Math.round(100 * (this.opacity ?? InkEditor._defaultOpacity))]];\n  }\n  #updateThickness(thickness) {\n    const setThickness = th => {\n      this.thickness = th;\n      this.#fitToContent();\n    };\n    const savedThickness = this.thickness;\n    this.addCommands({\n      cmd: setThickness.bind(this, thickness),\n      undo: setThickness.bind(this, savedThickness),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.INK_THICKNESS,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  #updateColor(color) {\n    const setColor = col => {\n      this.color = col;\n      this.#redraw();\n    };\n    const savedColor = this.color;\n    this.addCommands({\n      cmd: setColor.bind(this, color),\n      undo: setColor.bind(this, savedColor),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.INK_COLOR,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  #updateOpacity(opacity) {\n    const setOpacity = op => {\n      this.opacity = op;\n      this.#redraw();\n    };\n    opacity /= 100;\n    const savedOpacity = this.opacity;\n    this.addCommands({\n      cmd: setOpacity.bind(this, opacity),\n      undo: setOpacity.bind(this, savedOpacity),\n      post: this._uiManager.updateUI.bind(this._uiManager, this),\n      mustExec: true,\n      type: util.AnnotationEditorParamsType.INK_OPACITY,\n      overwriteIfSameType: true,\n      keepUndo: true\n    });\n  }\n  rebuild() {\n    if (!this.parent) {\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (!this.canvas) {\n      this.#createCanvas();\n      this.#createObserver();\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n      this.#setCanvasDims();\n    }\n    this.#fitToContent();\n  }\n  remove() {\n    if (this.canvas === null) {\n      return;\n    }\n    if (!this.isEmpty()) {\n      this.commit();\n    }\n    this.canvas.width = this.canvas.height = 0;\n    this.canvas.remove();\n    this.canvas = null;\n    if (this.#canvasContextMenuTimeoutId) {\n      clearTimeout(this.#canvasContextMenuTimeoutId);\n      this.#canvasContextMenuTimeoutId = null;\n    }\n    this.#observer.disconnect();\n    this.#observer = null;\n    super.remove();\n  }\n  setParent(parent) {\n    if (!this.parent && parent) {\n      this._uiManager.removeShouldRescale(this);\n    } else if (this.parent && parent === null) {\n      this._uiManager.addShouldRescale(this);\n    }\n    super.setParent(parent);\n  }\n  onScaleChanging() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const width = this.width * parentWidth;\n    const height = this.height * parentHeight;\n    this.setDimensions(width, height);\n  }\n  enableEditMode() {\n    if (this.#disableEditing || this.canvas === null) {\n      return;\n    }\n    super.enableEditMode();\n    this._isDraggable = false;\n    this.canvas.addEventListener(\"pointerdown\", this.#boundCanvasPointerdown);\n  }\n  disableEditMode() {\n    if (!this.isInEditMode() || this.canvas === null) {\n      return;\n    }\n    super.disableEditMode();\n    this._isDraggable = !this.isEmpty();\n    this.div.classList.remove(\"editing\");\n    this.canvas.removeEventListener(\"pointerdown\", this.#boundCanvasPointerdown);\n  }\n  onceAdded() {\n    this._isDraggable = !this.isEmpty();\n  }\n  isEmpty() {\n    return this.paths.length === 0 || this.paths.length === 1 && this.paths[0].length === 0;\n  }\n  #getInitialBBox() {\n    const {\n      parentRotation,\n      parentDimensions: [width, height]\n    } = this;\n    switch (parentRotation) {\n      case 90:\n        return [0, height, height, width];\n      case 180:\n        return [width, height, width, height];\n      case 270:\n        return [width, 0, height, width];\n      default:\n        return [0, 0, width, height];\n    }\n  }\n  #setStroke() {\n    const {\n      ctx,\n      color,\n      opacity,\n      thickness,\n      parentScale,\n      scaleFactor\n    } = this;\n    ctx.lineWidth = thickness * parentScale / scaleFactor;\n    ctx.lineCap = \"round\";\n    ctx.lineJoin = \"round\";\n    ctx.miterLimit = 10;\n    ctx.strokeStyle = `${color}${(0,tools.opacityToHex)(opacity)}`;\n  }\n  #startDrawing(x, y) {\n    this.canvas.addEventListener(\"contextmenu\", display_utils.noContextMenu);\n    this.canvas.addEventListener(\"pointerleave\", this.#boundCanvasPointerleave);\n    this.canvas.addEventListener(\"pointermove\", this.#boundCanvasPointermove);\n    this.canvas.addEventListener(\"pointerup\", this.#boundCanvasPointerup);\n    this.canvas.removeEventListener(\"pointerdown\", this.#boundCanvasPointerdown);\n    this.isEditing = true;\n    if (!this.#isCanvasInitialized) {\n      this.#isCanvasInitialized = true;\n      this.#setCanvasDims();\n      this.thickness ||= InkEditor._defaultThickness;\n      this.color ||= InkEditor._defaultColor || editor_editor.AnnotationEditor._defaultLineColor;\n      this.opacity ??= InkEditor._defaultOpacity;\n    }\n    this.currentPath.push([x, y]);\n    this.#hasSomethingToDraw = false;\n    this.#setStroke();\n    this.#requestFrameCallback = () => {\n      this.#drawPoints();\n      if (this.#requestFrameCallback) {\n        window.requestAnimationFrame(this.#requestFrameCallback);\n      }\n    };\n    window.requestAnimationFrame(this.#requestFrameCallback);\n  }\n  #draw(x, y) {\n    const [lastX, lastY] = this.currentPath.at(-1);\n    if (this.currentPath.length > 1 && x === lastX && y === lastY) {\n      return;\n    }\n    const currentPath = this.currentPath;\n    let path2D = this.#currentPath2D;\n    currentPath.push([x, y]);\n    this.#hasSomethingToDraw = true;\n    if (currentPath.length <= 2) {\n      path2D.moveTo(...currentPath[0]);\n      path2D.lineTo(x, y);\n      return;\n    }\n    if (currentPath.length === 3) {\n      this.#currentPath2D = path2D = new Path2D();\n      path2D.moveTo(...currentPath[0]);\n    }\n    this.#makeBezierCurve(path2D, ...currentPath.at(-3), ...currentPath.at(-2), x, y);\n  }\n  #endPath() {\n    if (this.currentPath.length === 0) {\n      return;\n    }\n    const lastPoint = this.currentPath.at(-1);\n    this.#currentPath2D.lineTo(...lastPoint);\n  }\n  #stopDrawing(x, y) {\n    this.#requestFrameCallback = null;\n    x = Math.min(Math.max(x, 0), this.canvas.width);\n    y = Math.min(Math.max(y, 0), this.canvas.height);\n    this.#draw(x, y);\n    this.#endPath();\n    let bezier;\n    if (this.currentPath.length !== 1) {\n      bezier = this.#generateBezierPoints();\n    } else {\n      const xy = [x, y];\n      bezier = [[xy, xy.slice(), xy.slice(), xy]];\n    }\n    const path2D = this.#currentPath2D;\n    const currentPath = this.currentPath;\n    this.currentPath = [];\n    this.#currentPath2D = new Path2D();\n    const cmd = () => {\n      this.allRawPaths.push(currentPath);\n      this.paths.push(bezier);\n      this.bezierPath2D.push(path2D);\n      this._uiManager.rebuild(this);\n    };\n    const undo = () => {\n      this.allRawPaths.pop();\n      this.paths.pop();\n      this.bezierPath2D.pop();\n      if (this.paths.length === 0) {\n        this.remove();\n      } else {\n        if (!this.canvas) {\n          this.#createCanvas();\n          this.#createObserver();\n        }\n        this.#fitToContent();\n      }\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: true\n    });\n  }\n  #drawPoints() {\n    if (!this.#hasSomethingToDraw) {\n      return;\n    }\n    this.#hasSomethingToDraw = false;\n    const thickness = Math.ceil(this.thickness * this.parentScale);\n    const lastPoints = this.currentPath.slice(-3);\n    const x = lastPoints.map(xy => xy[0]);\n    const y = lastPoints.map(xy => xy[1]);\n    const xMin = Math.min(...x) - thickness;\n    const xMax = Math.max(...x) + thickness;\n    const yMin = Math.min(...y) - thickness;\n    const yMax = Math.max(...y) + thickness;\n    const {\n      ctx\n    } = this;\n    ctx.save();\n    ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    for (const path of this.bezierPath2D) {\n      ctx.stroke(path);\n    }\n    ctx.stroke(this.#currentPath2D);\n    ctx.restore();\n  }\n  #makeBezierCurve(path2D, x0, y0, x1, y1, x2, y2) {\n    const prevX = (x0 + x1) / 2;\n    const prevY = (y0 + y1) / 2;\n    const x3 = (x1 + x2) / 2;\n    const y3 = (y1 + y2) / 2;\n    path2D.bezierCurveTo(prevX + 2 * (x1 - prevX) / 3, prevY + 2 * (y1 - prevY) / 3, x3 + 2 * (x1 - x3) / 3, y3 + 2 * (y1 - y3) / 3, x3, y3);\n  }\n  #generateBezierPoints() {\n    const path = this.currentPath;\n    if (path.length <= 2) {\n      return [[path[0], path[0], path.at(-1), path.at(-1)]];\n    }\n    const bezierPoints = [];\n    let i;\n    let [x0, y0] = path[0];\n    for (i = 1; i < path.length - 2; i++) {\n      const [x1, y1] = path[i];\n      const [x2, y2] = path[i + 1];\n      const x3 = (x1 + x2) / 2;\n      const y3 = (y1 + y2) / 2;\n      const control1 = [x0 + 2 * (x1 - x0) / 3, y0 + 2 * (y1 - y0) / 3];\n      const control2 = [x3 + 2 * (x1 - x3) / 3, y3 + 2 * (y1 - y3) / 3];\n      bezierPoints.push([[x0, y0], control1, control2, [x3, y3]]);\n      [x0, y0] = [x3, y3];\n    }\n    const [x1, y1] = path[i];\n    const [x2, y2] = path[i + 1];\n    const control1 = [x0 + 2 * (x1 - x0) / 3, y0 + 2 * (y1 - y0) / 3];\n    const control2 = [x2 + 2 * (x1 - x2) / 3, y2 + 2 * (y1 - y2) / 3];\n    bezierPoints.push([[x0, y0], control1, control2, [x2, y2]]);\n    return bezierPoints;\n  }\n  #redraw() {\n    if (this.isEmpty()) {\n      this.#updateTransform();\n      return;\n    }\n    this.#setStroke();\n    const {\n      canvas,\n      ctx\n    } = this;\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    this.#updateTransform();\n    for (const path of this.bezierPath2D) {\n      ctx.stroke(path);\n    }\n  }\n  commit() {\n    if (this.#disableEditing) {\n      return;\n    }\n    super.commit();\n    this.isEditing = false;\n    this.disableEditMode();\n    this.setInForeground();\n    this.#disableEditing = true;\n    this.div.classList.add(\"disabled\");\n    this.#fitToContent(true);\n    this.select();\n    this.parent.addInkEditorIfNeeded(true);\n    this.moveInDOM();\n    this.div.focus({\n      preventScroll: true\n    });\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    super.focusin(event);\n    this.enableEditMode();\n  }\n  canvasPointerdown(event) {\n    if (event.button !== 0 || !this.isInEditMode() || this.#disableEditing) {\n      return;\n    }\n    this.setInForeground();\n    event.preventDefault();\n    if (!this.div.contains(document.activeElement)) {\n      this.div.focus({\n        preventScroll: true\n      });\n    }\n    this.#startDrawing(event.offsetX, event.offsetY);\n  }\n  canvasPointermove(event) {\n    event.preventDefault();\n    this.#draw(event.offsetX, event.offsetY);\n  }\n  canvasPointerup(event) {\n    event.preventDefault();\n    this.#endDrawing(event);\n  }\n  canvasPointerleave(event) {\n    this.#endDrawing(event);\n  }\n  #endDrawing(event) {\n    this.canvas.removeEventListener(\"pointerleave\", this.#boundCanvasPointerleave);\n    this.canvas.removeEventListener(\"pointermove\", this.#boundCanvasPointermove);\n    this.canvas.removeEventListener(\"pointerup\", this.#boundCanvasPointerup);\n    this.canvas.addEventListener(\"pointerdown\", this.#boundCanvasPointerdown);\n    if (this.#canvasContextMenuTimeoutId) {\n      clearTimeout(this.#canvasContextMenuTimeoutId);\n    }\n    this.#canvasContextMenuTimeoutId = setTimeout(() => {\n      this.#canvasContextMenuTimeoutId = null;\n      this.canvas.removeEventListener(\"contextmenu\", display_utils.noContextMenu);\n    }, 10);\n    this.#stopDrawing(event.offsetX, event.offsetY);\n    this.addToAnnotationStorage();\n    this.setInBackground();\n  }\n  #createCanvas() {\n    this.canvas = document.createElement(\"canvas\");\n    this.canvas.width = this.canvas.height = 0;\n    this.canvas.className = \"inkEditorCanvas\";\n    this.canvas.setAttribute(\"data-l10n-id\", \"pdfjs-ink-canvas\");\n    this.div.append(this.canvas);\n    this.ctx = this.canvas.getContext(\"2d\");\n  }\n  #createObserver() {\n    this.#observer = new ResizeObserver(entries => {\n      const rect = entries[0].contentRect;\n      if (rect.width && rect.height) {\n        this.setDimensions(rect.width, rect.height);\n      }\n    });\n    this.#observer.observe(this.div);\n  }\n  get isResizable() {\n    return !this.isEmpty() && this.#disableEditing;\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.div.setAttribute(\"data-l10n-id\", \"pdfjs-ink\");\n    const [x, y, w, h] = this.#getInitialBBox();\n    this.setAt(x, y, 0, 0);\n    this.setDims(w, h);\n    this.#createCanvas();\n    if (this.width) {\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      this.setAspectRatio(this.width * parentWidth, this.height * parentHeight);\n      this.setAt(baseX * parentWidth, baseY * parentHeight, this.width * parentWidth, this.height * parentHeight);\n      this.#isCanvasInitialized = true;\n      this.#setCanvasDims();\n      this.setDims(this.width * parentWidth, this.height * parentHeight);\n      this.#redraw();\n      this.div.classList.add(\"disabled\");\n    } else {\n      this.div.classList.add(\"editing\");\n      this.enableEditMode();\n    }\n    this.#createObserver();\n    return this.div;\n  }\n  #setCanvasDims() {\n    if (!this.#isCanvasInitialized) {\n      return;\n    }\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.canvas.width = Math.ceil(this.width * parentWidth);\n    this.canvas.height = Math.ceil(this.height * parentHeight);\n    this.#updateTransform();\n  }\n  setDimensions(width, height) {\n    const roundedWidth = Math.round(width);\n    const roundedHeight = Math.round(height);\n    if (this.#realWidth === roundedWidth && this.#realHeight === roundedHeight) {\n      return;\n    }\n    this.#realWidth = roundedWidth;\n    this.#realHeight = roundedHeight;\n    this.canvas.style.visibility = \"hidden\";\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n    this.fixAndSetPosition();\n    if (this.#disableEditing) {\n      this.#setScaleFactor(width, height);\n    }\n    this.#setCanvasDims();\n    this.#redraw();\n    this.canvas.style.visibility = \"visible\";\n    this.fixDims();\n  }\n  #setScaleFactor(width, height) {\n    const padding = this.#getPadding();\n    const scaleFactorW = (width - padding) / this.#baseWidth;\n    const scaleFactorH = (height - padding) / this.#baseHeight;\n    this.scaleFactor = Math.min(scaleFactorW, scaleFactorH);\n  }\n  #updateTransform() {\n    const padding = this.#getPadding() / 2;\n    this.ctx.setTransform(this.scaleFactor, 0, 0, this.scaleFactor, this.translationX * this.scaleFactor + padding, this.translationY * this.scaleFactor + padding);\n  }\n  static #buildPath2D(bezier) {\n    const path2D = new Path2D();\n    for (let i = 0, ii = bezier.length; i < ii; i++) {\n      const [first, control1, control2, second] = bezier[i];\n      if (i === 0) {\n        path2D.moveTo(...first);\n      }\n      path2D.bezierCurveTo(control1[0], control1[1], control2[0], control2[1], second[0], second[1]);\n    }\n    return path2D;\n  }\n  static #toPDFCoordinates(points, rect, rotation) {\n    const [blX, blY, trX, trY] = rect;\n    switch (rotation) {\n      case 0:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] += blX;\n          points[i + 1] = trY - points[i + 1];\n        }\n        break;\n      case 90:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = points[i + 1] + blX;\n          points[i + 1] = x + blY;\n        }\n        break;\n      case 180:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] = trX - points[i];\n          points[i + 1] += blY;\n        }\n        break;\n      case 270:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = trX - points[i + 1];\n          points[i + 1] = trY - x;\n        }\n        break;\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n    return points;\n  }\n  static #fromPDFCoordinates(points, rect, rotation) {\n    const [blX, blY, trX, trY] = rect;\n    switch (rotation) {\n      case 0:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] -= blX;\n          points[i + 1] = trY - points[i + 1];\n        }\n        break;\n      case 90:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = points[i + 1] - blY;\n          points[i + 1] = x - blX;\n        }\n        break;\n      case 180:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          points[i] = trX - points[i];\n          points[i + 1] -= blY;\n        }\n        break;\n      case 270:\n        for (let i = 0, ii = points.length; i < ii; i += 2) {\n          const x = points[i];\n          points[i] = trY - points[i + 1];\n          points[i + 1] = trX - x;\n        }\n        break;\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n    return points;\n  }\n  #serializePaths(s, tx, ty, rect) {\n    const paths = [];\n    const padding = this.thickness / 2;\n    const shiftX = s * tx + padding;\n    const shiftY = s * ty + padding;\n    for (const bezier of this.paths) {\n      const buffer = [];\n      const points = [];\n      for (let j = 0, jj = bezier.length; j < jj; j++) {\n        const [first, control1, control2, second] = bezier[j];\n        if (first[0] === second[0] && first[1] === second[1] && jj === 1) {\n          const p0 = s * first[0] + shiftX;\n          const p1 = s * first[1] + shiftY;\n          buffer.push(p0, p1);\n          points.push(p0, p1);\n          break;\n        }\n        const p10 = s * first[0] + shiftX;\n        const p11 = s * first[1] + shiftY;\n        const p20 = s * control1[0] + shiftX;\n        const p21 = s * control1[1] + shiftY;\n        const p30 = s * control2[0] + shiftX;\n        const p31 = s * control2[1] + shiftY;\n        const p40 = s * second[0] + shiftX;\n        const p41 = s * second[1] + shiftY;\n        if (j === 0) {\n          buffer.push(p10, p11);\n          points.push(p10, p11);\n        }\n        buffer.push(p20, p21, p30, p31, p40, p41);\n        points.push(p20, p21);\n        if (j === jj - 1) {\n          points.push(p40, p41);\n        }\n      }\n      paths.push({\n        bezier: InkEditor.#toPDFCoordinates(buffer, rect, this.rotation),\n        points: InkEditor.#toPDFCoordinates(points, rect, this.rotation)\n      });\n    }\n    return paths;\n  }\n  #getBbox() {\n    let xMin = Infinity;\n    let xMax = -Infinity;\n    let yMin = Infinity;\n    let yMax = -Infinity;\n    for (const path of this.paths) {\n      for (const [first, control1, control2, second] of path) {\n        const bbox = util.Util.bezierBoundingBox(...first, ...control1, ...control2, ...second);\n        xMin = Math.min(xMin, bbox[0]);\n        yMin = Math.min(yMin, bbox[1]);\n        xMax = Math.max(xMax, bbox[2]);\n        yMax = Math.max(yMax, bbox[3]);\n      }\n    }\n    return [xMin, yMin, xMax, yMax];\n  }\n  #getPadding() {\n    return this.#disableEditing ? Math.ceil(this.thickness * this.parentScale) : 0;\n  }\n  #fitToContent(firstTime = false) {\n    if (this.isEmpty()) {\n      return;\n    }\n    if (!this.#disableEditing) {\n      this.#redraw();\n      return;\n    }\n    const bbox = this.#getBbox();\n    const padding = this.#getPadding();\n    this.#baseWidth = Math.max(editor_editor.AnnotationEditor.MIN_SIZE, bbox[2] - bbox[0]);\n    this.#baseHeight = Math.max(editor_editor.AnnotationEditor.MIN_SIZE, bbox[3] - bbox[1]);\n    const width = Math.ceil(padding + this.#baseWidth * this.scaleFactor);\n    const height = Math.ceil(padding + this.#baseHeight * this.scaleFactor);\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n    this.setAspectRatio(width, height);\n    const prevTranslationX = this.translationX;\n    const prevTranslationY = this.translationY;\n    this.translationX = -bbox[0];\n    this.translationY = -bbox[1];\n    this.#setCanvasDims();\n    this.#redraw();\n    this.#realWidth = width;\n    this.#realHeight = height;\n    this.setDims(width, height);\n    const unscaledPadding = firstTime ? padding / this.scaleFactor / 2 : 0;\n    this.translate(prevTranslationX - this.translationX - unscaledPadding, prevTranslationY - this.translationY - unscaledPadding);\n  }\n  static deserialize(data, parent, uiManager) {\n    if (data instanceof annotation_layer.InkAnnotationElement) {\n      return null;\n    }\n    const editor = super.deserialize(data, parent, uiManager);\n    editor.thickness = data.thickness;\n    editor.color = util.Util.makeHexColor(...data.color);\n    editor.opacity = data.opacity;\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const width = editor.width * pageWidth;\n    const height = editor.height * pageHeight;\n    const scaleFactor = editor.parentScale;\n    const padding = data.thickness / 2;\n    editor.#disableEditing = true;\n    editor.#realWidth = Math.round(width);\n    editor.#realHeight = Math.round(height);\n    const {\n      paths,\n      rect,\n      rotation\n    } = data;\n    for (let {\n      bezier\n    } of paths) {\n      bezier = InkEditor.#fromPDFCoordinates(bezier, rect, rotation);\n      const path = [];\n      editor.paths.push(path);\n      let p0 = scaleFactor * (bezier[0] - padding);\n      let p1 = scaleFactor * (bezier[1] - padding);\n      for (let i = 2, ii = bezier.length; i < ii; i += 6) {\n        const p10 = scaleFactor * (bezier[i] - padding);\n        const p11 = scaleFactor * (bezier[i + 1] - padding);\n        const p20 = scaleFactor * (bezier[i + 2] - padding);\n        const p21 = scaleFactor * (bezier[i + 3] - padding);\n        const p30 = scaleFactor * (bezier[i + 4] - padding);\n        const p31 = scaleFactor * (bezier[i + 5] - padding);\n        path.push([[p0, p1], [p10, p11], [p20, p21], [p30, p31]]);\n        p0 = p30;\n        p1 = p31;\n      }\n      const path2D = this.#buildPath2D(path);\n      editor.bezierPath2D.push(path2D);\n    }\n    const bbox = editor.#getBbox();\n    editor.#baseWidth = Math.max(editor_editor.AnnotationEditor.MIN_SIZE, bbox[2] - bbox[0]);\n    editor.#baseHeight = Math.max(editor_editor.AnnotationEditor.MIN_SIZE, bbox[3] - bbox[1]);\n    editor.#setScaleFactor(width, height);\n    return editor;\n  }\n  serialize() {\n    if (this.isEmpty()) {\n      return null;\n    }\n    const rect = this.getRect(0, 0);\n    const color = editor_editor.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);\n    return {\n      annotationType: util.AnnotationEditorType.INK,\n      color,\n      thickness: this.thickness,\n      opacity: this.opacity,\n      paths: this.#serializePaths(this.scaleFactor / this.parentScale, this.translationX, this.translationY, rect),\n      pageIndex: this.pageIndex,\n      rect,\n      rotation: this.rotation,\n      structTreeParentId: this._structTreeParentId\n    };\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/editor/stamp.js\n\n\n\n\nclass StampEditor extends editor_editor.AnnotationEditor {\n  #bitmap = null;\n  #bitmapId = null;\n  #bitmapPromise = null;\n  #bitmapUrl = null;\n  #bitmapFile = null;\n  #bitmapFileName = \"\";\n  #canvas = null;\n  #observer = null;\n  #resizeTimeoutId = null;\n  #isSvg = false;\n  #hasBeenAddedInUndoStack = false;\n  static _type = \"stamp\";\n  static _editorType = util.AnnotationEditorType.STAMP;\n  constructor(params) {\n    super({\n      ...params,\n      name: \"stampEditor\"\n    });\n    this.#bitmapUrl = params.bitmapUrl;\n    this.#bitmapFile = params.bitmapFile;\n  }\n  static initialize(l10n, uiManager) {\n    editor_editor.AnnotationEditor.initialize(l10n, uiManager);\n  }\n  static get supportedTypes() {\n    const types = [\"apng\", \"avif\", \"bmp\", \"gif\", \"jpeg\", \"png\", \"svg+xml\", \"webp\", \"x-icon\"];\n    return (0,util.shadow)(this, \"supportedTypes\", types.map(type => `image/${type}`));\n  }\n  static get supportedTypesStr() {\n    return (0,util.shadow)(this, \"supportedTypesStr\", this.supportedTypes.join(\",\"));\n  }\n  static isHandlingMimeForPasting(mime) {\n    return this.supportedTypes.includes(mime);\n  }\n  static paste(item, parent) {\n    parent.pasteEditor(util.AnnotationEditorType.STAMP, {\n      bitmapFile: item.getAsFile()\n    });\n  }\n  #getBitmapFetched(data, fromId = false) {\n    if (!data) {\n      this.remove();\n      return;\n    }\n    this.#bitmap = data.bitmap;\n    if (!fromId) {\n      this.#bitmapId = data.id;\n      this.#isSvg = data.isSvg;\n    }\n    if (data.file) {\n      this.#bitmapFileName = data.file.name;\n    }\n    this.#createCanvas();\n  }\n  #getBitmapDone() {\n    this.#bitmapPromise = null;\n    this._uiManager.enableWaiting(false);\n    if (this.#canvas) {\n      this.div.focus();\n    }\n  }\n  #getBitmap() {\n    if (this.#bitmapId) {\n      this._uiManager.enableWaiting(true);\n      this._uiManager.imageManager.getFromId(this.#bitmapId).then(data => this.#getBitmapFetched(data, true)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    if (this.#bitmapUrl) {\n      const url = this.#bitmapUrl;\n      this.#bitmapUrl = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager.getFromUrl(url).then(data => this.#getBitmapFetched(data)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    if (this.#bitmapFile) {\n      const file = this.#bitmapFile;\n      this.#bitmapFile = null;\n      this._uiManager.enableWaiting(true);\n      this.#bitmapPromise = this._uiManager.imageManager.getFromFile(file).then(data => this.#getBitmapFetched(data)).finally(() => this.#getBitmapDone());\n      return;\n    }\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.accept = StampEditor.supportedTypesStr;\n    this.#bitmapPromise = new Promise(resolve => {\n      input.addEventListener(\"change\", async () => {\n        if (!input.files || input.files.length === 0) {\n          this.remove();\n        } else {\n          this._uiManager.enableWaiting(true);\n          const data = await this._uiManager.imageManager.getFromFile(input.files[0]);\n          this.#getBitmapFetched(data);\n        }\n        resolve();\n      });\n      input.addEventListener(\"cancel\", () => {\n        this.remove();\n        resolve();\n      });\n    }).finally(() => this.#getBitmapDone());\n    input.click();\n  }\n  remove() {\n    if (this.#bitmapId) {\n      this.#bitmap = null;\n      this._uiManager.imageManager.deleteId(this.#bitmapId);\n      this.#canvas?.remove();\n      this.#canvas = null;\n      this.#observer?.disconnect();\n      this.#observer = null;\n      if (this.#resizeTimeoutId) {\n        clearTimeout(this.#resizeTimeoutId);\n        this.#resizeTimeoutId = null;\n      }\n    }\n    super.remove();\n  }\n  rebuild() {\n    if (!this.parent) {\n      if (this.#bitmapId) {\n        this.#getBitmap();\n      }\n      return;\n    }\n    super.rebuild();\n    if (this.div === null) {\n      return;\n    }\n    if (this.#bitmapId && this.#canvas === null) {\n      this.#getBitmap();\n    }\n    if (!this.isAttachedToDOM) {\n      this.parent.add(this);\n    }\n  }\n  onceAdded() {\n    this._isDraggable = true;\n    this.div.focus();\n  }\n  isEmpty() {\n    return !(this.#bitmapPromise || this.#bitmap || this.#bitmapUrl || this.#bitmapFile || this.#bitmapId);\n  }\n  get isResizable() {\n    return true;\n  }\n  render() {\n    if (this.div) {\n      return this.div;\n    }\n    let baseX, baseY;\n    if (this.width) {\n      baseX = this.x;\n      baseY = this.y;\n    }\n    super.render();\n    this.div.hidden = true;\n    this.addAltTextButton();\n    if (this.#bitmap) {\n      this.#createCanvas();\n    } else {\n      this.#getBitmap();\n    }\n    if (this.width) {\n      const [parentWidth, parentHeight] = this.parentDimensions;\n      this.setAt(baseX * parentWidth, baseY * parentHeight, this.width * parentWidth, this.height * parentHeight);\n    }\n    return this.div;\n  }\n  #createCanvas() {\n    const {\n      div\n    } = this;\n    let {\n      width,\n      height\n    } = this.#bitmap;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const MAX_RATIO = 0.75;\n    if (this.width) {\n      width = this.width * pageWidth;\n      height = this.height * pageHeight;\n    } else if (width > MAX_RATIO * pageWidth || height > MAX_RATIO * pageHeight) {\n      const factor = Math.min(MAX_RATIO * pageWidth / width, MAX_RATIO * pageHeight / height);\n      width *= factor;\n      height *= factor;\n    }\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.setDims(width * parentWidth / pageWidth, height * parentHeight / pageHeight);\n    this._uiManager.enableWaiting(false);\n    const canvas = this.#canvas = document.createElement(\"canvas\");\n    div.append(canvas);\n    div.hidden = false;\n    this.#drawBitmap(width, height);\n    this.#createObserver();\n    if (!this.#hasBeenAddedInUndoStack) {\n      this.parent.addUndoableEditor(this);\n      this.#hasBeenAddedInUndoStack = true;\n    }\n    this._reportTelemetry({\n      action: \"inserted_image\"\n    });\n    if (this.#bitmapFileName) {\n      canvas.setAttribute(\"aria-label\", this.#bitmapFileName);\n    }\n  }\n  #setDimensions(width, height) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.width = width / parentWidth;\n    this.height = height / parentHeight;\n    this.setDims(width, height);\n    if (this._initialOptions?.isCentered) {\n      this.center();\n    } else {\n      this.fixAndSetPosition();\n    }\n    this._initialOptions = null;\n    if (this.#resizeTimeoutId !== null) {\n      clearTimeout(this.#resizeTimeoutId);\n    }\n    const TIME_TO_WAIT = 200;\n    this.#resizeTimeoutId = setTimeout(() => {\n      this.#resizeTimeoutId = null;\n      this.#drawBitmap(width, height);\n    }, TIME_TO_WAIT);\n  }\n  #scaleBitmap(width, height) {\n    const {\n      width: bitmapWidth,\n      height: bitmapHeight\n    } = this.#bitmap;\n    let newWidth = bitmapWidth;\n    let newHeight = bitmapHeight;\n    let bitmap = this.#bitmap;\n    while (newWidth > 2 * width || newHeight > 2 * height) {\n      const prevWidth = newWidth;\n      const prevHeight = newHeight;\n      if (newWidth > 2 * width) {\n        newWidth = newWidth >= 16384 ? Math.floor(newWidth / 2) - 1 : Math.ceil(newWidth / 2);\n      }\n      if (newHeight > 2 * height) {\n        newHeight = newHeight >= 16384 ? Math.floor(newHeight / 2) - 1 : Math.ceil(newHeight / 2);\n      }\n      const offscreen = new OffscreenCanvas(newWidth, newHeight);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(bitmap, 0, 0, prevWidth, prevHeight, 0, 0, newWidth, newHeight);\n      bitmap = offscreen.transferToImageBitmap();\n    }\n    return bitmap;\n  }\n  #drawBitmap(width, height) {\n    width = Math.ceil(width);\n    height = Math.ceil(height);\n    const canvas = this.#canvas;\n    if (!canvas || canvas.width === width && canvas.height === height) {\n      return;\n    }\n    canvas.width = width;\n    canvas.height = height;\n    const bitmap = this.#isSvg ? this.#bitmap : this.#scaleBitmap(width, height);\n    if (this._uiManager.hasMLManager && !this.hasAltText()) {\n      const offscreen = new OffscreenCanvas(width, height);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, width, height);\n      offscreen.convertToBlob().then(blob => {\n        const fileReader = new FileReader();\n        fileReader.onload = () => {\n          const url = fileReader.result;\n          this._uiManager.mlGuess({\n            service: \"image-to-text\",\n            request: {\n              imageData: url\n            }\n          }).then(response => {\n            const altText = response?.output || \"\";\n            if (this.parent && altText && !this.hasAltText()) {\n              this.altTextData = {\n                altText,\n                decorative: false\n              };\n            }\n          });\n        };\n        fileReader.readAsDataURL(blob);\n      });\n    }\n    const ctx = canvas.getContext(\"2d\");\n    ctx.filter = this._uiManager.hcmFilter;\n    ctx.drawImage(bitmap, 0, 0, bitmap.width, bitmap.height, 0, 0, width, height);\n  }\n  getImageForAltText() {\n    return this.#canvas;\n  }\n  #serializeBitmap(toUrl) {\n    if (toUrl) {\n      if (this.#isSvg) {\n        const url = this._uiManager.imageManager.getSvgUrl(this.#bitmapId);\n        if (url) {\n          return url;\n        }\n      }\n      const canvas = document.createElement(\"canvas\");\n      ({\n        width: canvas.width,\n        height: canvas.height\n      } = this.#bitmap);\n      const ctx = canvas.getContext(\"2d\");\n      ctx.drawImage(this.#bitmap, 0, 0);\n      return canvas.toDataURL();\n    }\n    if (this.#isSvg) {\n      const [pageWidth, pageHeight] = this.pageDimensions;\n      const width = Math.round(this.width * pageWidth * display_utils.PixelsPerInch.PDF_TO_CSS_UNITS);\n      const height = Math.round(this.height * pageHeight * display_utils.PixelsPerInch.PDF_TO_CSS_UNITS);\n      const offscreen = new OffscreenCanvas(width, height);\n      const ctx = offscreen.getContext(\"2d\");\n      ctx.drawImage(this.#bitmap, 0, 0, this.#bitmap.width, this.#bitmap.height, 0, 0, width, height);\n      return offscreen.transferToImageBitmap();\n    }\n    return structuredClone(this.#bitmap);\n  }\n  #createObserver() {\n    this.#observer = new ResizeObserver(entries => {\n      const rect = entries[0].contentRect;\n      if (rect.width && rect.height) {\n        this.#setDimensions(rect.width, rect.height);\n      }\n    });\n    this.#observer.observe(this.div);\n  }\n  static deserialize(data, parent, uiManager) {\n    if (data instanceof annotation_layer.StampAnnotationElement) {\n      return null;\n    }\n    const editor = super.deserialize(data, parent, uiManager);\n    const {\n      rect,\n      bitmapUrl,\n      bitmapId,\n      isSvg,\n      accessibilityData\n    } = data;\n    if (bitmapId && uiManager.imageManager.isValidId(bitmapId)) {\n      editor.#bitmapId = bitmapId;\n    } else {\n      editor.#bitmapUrl = bitmapUrl;\n    }\n    editor.#isSvg = isSvg;\n    const [parentWidth, parentHeight] = editor.pageDimensions;\n    editor.width = (rect[2] - rect[0]) / parentWidth;\n    editor.height = (rect[3] - rect[1]) / parentHeight;\n    if (accessibilityData) {\n      editor.altTextData = accessibilityData;\n    }\n    return editor;\n  }\n  serialize(isForCopying = false, context = null) {\n    if (this.isEmpty()) {\n      return null;\n    }\n    const serialized = {\n      annotationType: util.AnnotationEditorType.STAMP,\n      bitmapId: this.#bitmapId,\n      pageIndex: this.pageIndex,\n      rect: this.getRect(0, 0),\n      rotation: this.rotation,\n      isSvg: this.#isSvg,\n      structTreeParentId: this._structTreeParentId\n    };\n    if (isForCopying) {\n      serialized.bitmapUrl = this.#serializeBitmap(true);\n      serialized.accessibilityData = this.altTextData;\n      return serialized;\n    }\n    const {\n      decorative,\n      altText\n    } = this.altTextData;\n    if (!decorative && altText) {\n      serialized.accessibilityData = {\n        type: \"Figure\",\n        alt: altText\n      };\n    }\n    if (context === null) {\n      return serialized;\n    }\n    context.stamps ||= new Map();\n    const area = this.#isSvg ? (serialized.rect[2] - serialized.rect[0]) * (serialized.rect[3] - serialized.rect[1]) : null;\n    if (!context.stamps.has(this.#bitmapId)) {\n      context.stamps.set(this.#bitmapId, {\n        area,\n        serialized\n      });\n      serialized.bitmap = this.#serializeBitmap(false);\n    } else if (this.#isSvg) {\n      const prevData = context.stamps.get(this.#bitmapId);\n      if (area > prevData.area) {\n        prevData.area = area;\n        prevData.serialized.bitmap.close();\n        prevData.serialized.bitmap = this.#serializeBitmap(false);\n      }\n    }\n    return serialized;\n  }\n}\n\n;// CONCATENATED MODULE: ./src/display/editor/annotation_editor_layer.js\n\n\n\n\n\n\n\nclass AnnotationEditorLayer {\n  #accessibilityManager;\n  #allowClick = false;\n  #annotationLayer = null;\n  #boundPointerup = null;\n  #boundPointerdown = null;\n  #boundTextLayerPointerDown = null;\n  #editorFocusTimeoutId = null;\n  #editors = new Map();\n  #hadPointerDown = false;\n  #isCleaningUp = false;\n  #isDisabling = false;\n  #textLayer = null;\n  #uiManager;\n  static _initialized = false;\n  static #editorTypes = new Map([FreeTextEditor, InkEditor, StampEditor, HighlightEditor].map(type => [type._editorType, type]));\n  constructor({\n    uiManager,\n    pageIndex,\n    div,\n    accessibilityManager,\n    annotationLayer,\n    drawLayer,\n    textLayer,\n    viewport,\n    l10n\n  }) {\n    const editorTypes = [...AnnotationEditorLayer.#editorTypes.values()];\n    if (!AnnotationEditorLayer._initialized) {\n      AnnotationEditorLayer._initialized = true;\n      for (const editorType of editorTypes) {\n        editorType.initialize(l10n, uiManager);\n      }\n    }\n    uiManager.registerEditorTypes(editorTypes);\n    this.#uiManager = uiManager;\n    this.pageIndex = pageIndex;\n    this.div = div;\n    this.#accessibilityManager = accessibilityManager;\n    this.#annotationLayer = annotationLayer;\n    this.viewport = viewport;\n    this.#textLayer = textLayer;\n    this.drawLayer = drawLayer;\n    this.#uiManager.addLayer(this);\n  }\n  get isEmpty() {\n    return this.#editors.size === 0;\n  }\n  get isInvisible() {\n    return this.isEmpty && this.#uiManager.getMode() === util.AnnotationEditorType.NONE;\n  }\n  updateToolbar(mode) {\n    this.#uiManager.updateToolbar(mode);\n  }\n  updateMode(mode = this.#uiManager.getMode()) {\n    this.#cleanup();\n    switch (mode) {\n      case util.AnnotationEditorType.NONE:\n        this.disableTextSelection();\n        this.togglePointerEvents(false);\n        this.toggleAnnotationLayerPointerEvents(true);\n        this.disableClick();\n        return;\n      case util.AnnotationEditorType.INK:\n        this.addInkEditorIfNeeded(false);\n        this.disableTextSelection();\n        this.togglePointerEvents(true);\n        this.disableClick();\n        break;\n      case util.AnnotationEditorType.HIGHLIGHT:\n        this.enableTextSelection();\n        this.togglePointerEvents(false);\n        this.disableClick();\n        break;\n      default:\n        this.disableTextSelection();\n        this.togglePointerEvents(true);\n        this.enableClick();\n    }\n    this.toggleAnnotationLayerPointerEvents(false);\n    const {\n      classList\n    } = this.div;\n    for (const editorType of AnnotationEditorLayer.#editorTypes.values()) {\n      classList.toggle(`${editorType._type}Editing`, mode === editorType._editorType);\n    }\n    this.div.hidden = false;\n  }\n  hasTextLayer(textLayer) {\n    return textLayer === this.#textLayer?.div;\n  }\n  addInkEditorIfNeeded(isCommitting) {\n    if (this.#uiManager.getMode() !== util.AnnotationEditorType.INK) {\n      return;\n    }\n    if (!isCommitting) {\n      for (const editor of this.#editors.values()) {\n        if (editor.isEmpty()) {\n          editor.setInBackground();\n          return;\n        }\n      }\n    }\n    const editor = this.createAndAddNewEditor({\n      offsetX: 0,\n      offsetY: 0\n    }, false);\n    editor.setInBackground();\n  }\n  setEditingState(isEditing) {\n    this.#uiManager.setEditingState(isEditing);\n  }\n  addCommands(params) {\n    this.#uiManager.addCommands(params);\n  }\n  togglePointerEvents(enabled = false) {\n    this.div.classList.toggle(\"disabled\", !enabled);\n  }\n  toggleAnnotationLayerPointerEvents(enabled = false) {\n    this.#annotationLayer?.div.classList.toggle(\"disabled\", !enabled);\n  }\n  enable() {\n    this.div.tabIndex = 0;\n    this.togglePointerEvents(true);\n    const annotationElementIds = new Set();\n    for (const editor of this.#editors.values()) {\n      editor.enableEditing();\n      editor.show(true);\n      if (editor.annotationElementId) {\n        this.#uiManager.removeChangedExistingAnnotation(editor);\n        annotationElementIds.add(editor.annotationElementId);\n      }\n    }\n    if (!this.#annotationLayer) {\n      return;\n    }\n    const editables = this.#annotationLayer.getEditableAnnotations();\n    for (const editable of editables) {\n      editable.hide();\n      if (this.#uiManager.isDeletedAnnotationElement(editable.data.id)) {\n        continue;\n      }\n      if (annotationElementIds.has(editable.data.id)) {\n        continue;\n      }\n      const editor = this.deserialize(editable);\n      if (!editor) {\n        continue;\n      }\n      this.addOrRebuild(editor);\n      editor.enableEditing();\n    }\n  }\n  disable() {\n    this.#isDisabling = true;\n    this.div.tabIndex = -1;\n    this.togglePointerEvents(false);\n    const changedAnnotations = new Map();\n    const resetAnnotations = new Map();\n    for (const editor of this.#editors.values()) {\n      editor.disableEditing();\n      if (!editor.annotationElementId) {\n        continue;\n      }\n      if (editor.serialize() !== null) {\n        changedAnnotations.set(editor.annotationElementId, editor);\n        continue;\n      } else {\n        resetAnnotations.set(editor.annotationElementId, editor);\n      }\n      this.getEditableAnnotation(editor.annotationElementId)?.show();\n      editor.remove();\n    }\n    if (this.#annotationLayer) {\n      const editables = this.#annotationLayer.getEditableAnnotations();\n      for (const editable of editables) {\n        const {\n          id\n        } = editable.data;\n        if (this.#uiManager.isDeletedAnnotationElement(id)) {\n          continue;\n        }\n        let editor = resetAnnotations.get(id);\n        if (editor) {\n          editor.resetAnnotationElement(editable);\n          editor.show(false);\n          editable.show();\n          continue;\n        }\n        editor = changedAnnotations.get(id);\n        if (editor) {\n          this.#uiManager.addChangedExistingAnnotation(editor);\n          editor.renderAnnotationElement(editable);\n          editor.show(false);\n        }\n        editable.show();\n      }\n    }\n    this.#cleanup();\n    if (this.isEmpty) {\n      this.div.hidden = true;\n    }\n    const {\n      classList\n    } = this.div;\n    for (const editorType of AnnotationEditorLayer.#editorTypes.values()) {\n      classList.remove(`${editorType._type}Editing`);\n    }\n    this.disableTextSelection();\n    this.toggleAnnotationLayerPointerEvents(true);\n    this.#isDisabling = false;\n  }\n  getEditableAnnotation(id) {\n    return this.#annotationLayer?.getEditableAnnotation(id) || null;\n  }\n  setActiveEditor(editor) {\n    const currentActive = this.#uiManager.getActive();\n    if (currentActive === editor) {\n      return;\n    }\n    this.#uiManager.setActiveEditor(editor);\n  }\n  enableTextSelection() {\n    this.div.tabIndex = -1;\n    if (this.#textLayer?.div && !this.#boundTextLayerPointerDown) {\n      this.#boundTextLayerPointerDown = this.#textLayerPointerDown.bind(this);\n      this.#textLayer.div.addEventListener(\"pointerdown\", this.#boundTextLayerPointerDown);\n      this.#textLayer.div.classList.add(\"highlighting\");\n    }\n  }\n  disableTextSelection() {\n    this.div.tabIndex = 0;\n    if (this.#textLayer?.div && this.#boundTextLayerPointerDown) {\n      this.#textLayer.div.removeEventListener(\"pointerdown\", this.#boundTextLayerPointerDown);\n      this.#boundTextLayerPointerDown = null;\n      this.#textLayer.div.classList.remove(\"highlighting\");\n    }\n  }\n  #textLayerPointerDown(event) {\n    this.#uiManager.unselectAll();\n    if (event.target === this.#textLayer.div) {\n      const {\n        isMac\n      } = util.FeatureTest.platform;\n      if (event.button !== 0 || event.ctrlKey && isMac) {\n        return;\n      }\n      this.#uiManager.showAllEditors(\"highlight\", true, true);\n      this.#textLayer.div.classList.add(\"free\");\n      HighlightEditor.startHighlighting(this, this.#uiManager.direction === \"ltr\", event);\n      this.#textLayer.div.addEventListener(\"pointerup\", () => {\n        this.#textLayer.div.classList.remove(\"free\");\n      }, {\n        once: true\n      });\n      event.preventDefault();\n    }\n  }\n  enableClick() {\n    if (this.#boundPointerdown) {\n      return;\n    }\n    this.#boundPointerdown = this.pointerdown.bind(this);\n    this.#boundPointerup = this.pointerup.bind(this);\n    this.div.addEventListener(\"pointerdown\", this.#boundPointerdown);\n    this.div.addEventListener(\"pointerup\", this.#boundPointerup);\n  }\n  disableClick() {\n    if (!this.#boundPointerdown) {\n      return;\n    }\n    this.div.removeEventListener(\"pointerdown\", this.#boundPointerdown);\n    this.div.removeEventListener(\"pointerup\", this.#boundPointerup);\n    this.#boundPointerdown = null;\n    this.#boundPointerup = null;\n  }\n  attach(editor) {\n    this.#editors.set(editor.id, editor);\n    const {\n      annotationElementId\n    } = editor;\n    if (annotationElementId && this.#uiManager.isDeletedAnnotationElement(annotationElementId)) {\n      this.#uiManager.removeDeletedAnnotationElement(editor);\n    }\n  }\n  detach(editor) {\n    this.#editors.delete(editor.id);\n    this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n    if (!this.#isDisabling && editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor);\n    }\n  }\n  remove(editor) {\n    this.detach(editor);\n    this.#uiManager.removeEditor(editor);\n    editor.div.remove();\n    editor.isAttachedToDOM = false;\n    if (!this.#isCleaningUp) {\n      this.addInkEditorIfNeeded(false);\n    }\n  }\n  changeParent(editor) {\n    if (editor.parent === this) {\n      return;\n    }\n    if (editor.parent && editor.annotationElementId) {\n      this.#uiManager.addDeletedAnnotationElement(editor.annotationElementId);\n      editor_editor.AnnotationEditor.deleteAnnotationElement(editor);\n      editor.annotationElementId = null;\n    }\n    this.attach(editor);\n    editor.parent?.detach(editor);\n    editor.setParent(this);\n    if (editor.div && editor.isAttachedToDOM) {\n      editor.div.remove();\n      this.div.append(editor.div);\n    }\n  }\n  add(editor) {\n    if (editor.parent === this && editor.isAttachedToDOM) {\n      return;\n    }\n    this.changeParent(editor);\n    this.#uiManager.addEditor(editor);\n    this.attach(editor);\n    if (!editor.isAttachedToDOM) {\n      const div = editor.render();\n      this.div.append(div);\n      editor.isAttachedToDOM = true;\n    }\n    editor.fixAndSetPosition();\n    editor.onceAdded();\n    this.#uiManager.addToAnnotationStorage(editor);\n    editor._reportTelemetry(editor.telemetryInitialData);\n  }\n  moveEditorInDOM(editor) {\n    if (!editor.isAttachedToDOM) {\n      return;\n    }\n    const {\n      activeElement\n    } = document;\n    if (editor.div.contains(activeElement) && !this.#editorFocusTimeoutId) {\n      editor._focusEventsAllowed = false;\n      this.#editorFocusTimeoutId = setTimeout(() => {\n        this.#editorFocusTimeoutId = null;\n        if (!editor.div.contains(document.activeElement)) {\n          editor.div.addEventListener(\"focusin\", () => {\n            editor._focusEventsAllowed = true;\n          }, {\n            once: true\n          });\n          activeElement.focus();\n        } else {\n          editor._focusEventsAllowed = true;\n        }\n      }, 0);\n    }\n    editor._structTreeParentId = this.#accessibilityManager?.moveElementInDOM(this.div, editor.div, editor.contentDiv, true);\n  }\n  addOrRebuild(editor) {\n    if (editor.needsToBeRebuilt()) {\n      editor.parent ||= this;\n      editor.rebuild();\n      editor.show();\n    } else {\n      this.add(editor);\n    }\n  }\n  addUndoableEditor(editor) {\n    const cmd = () => editor._uiManager.rebuild(editor);\n    const undo = () => {\n      editor.remove();\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: false\n    });\n  }\n  getNextId() {\n    return this.#uiManager.getId();\n  }\n  get #currentEditorType() {\n    return AnnotationEditorLayer.#editorTypes.get(this.#uiManager.getMode());\n  }\n  #createNewEditor(params) {\n    const editorType = this.#currentEditorType;\n    return editorType ? new editorType.prototype.constructor(params) : null;\n  }\n  canCreateNewEmptyEditor() {\n    return this.#currentEditorType?.canCreateNewEmptyEditor();\n  }\n  pasteEditor(mode, params) {\n    this.#uiManager.updateToolbar(mode);\n    this.#uiManager.updateMode(mode);\n    const {\n      offsetX,\n      offsetY\n    } = this.#getCenterPoint();\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: offsetX,\n      y: offsetY,\n      uiManager: this.#uiManager,\n      isCentered: true,\n      ...params\n    });\n    if (editor) {\n      this.add(editor);\n    }\n  }\n  deserialize(data) {\n    return AnnotationEditorLayer.#editorTypes.get(data.annotationType ?? data.annotationEditorType)?.deserialize(data, this, this.#uiManager) || null;\n  }\n  createAndAddNewEditor(event, isCentered, data = {}) {\n    const id = this.getNextId();\n    const editor = this.#createNewEditor({\n      parent: this,\n      id,\n      x: event.offsetX,\n      y: event.offsetY,\n      uiManager: this.#uiManager,\n      isCentered,\n      ...data\n    });\n    if (editor) {\n      this.add(editor);\n    }\n    return editor;\n  }\n  #getCenterPoint() {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this.div.getBoundingClientRect();\n    const tlX = Math.max(0, x);\n    const tlY = Math.max(0, y);\n    const brX = Math.min(window.innerWidth, x + width);\n    const brY = Math.min(window.innerHeight, y + height);\n    const centerX = (tlX + brX) / 2 - x;\n    const centerY = (tlY + brY) / 2 - y;\n    const [offsetX, offsetY] = this.viewport.rotation % 180 === 0 ? [centerX, centerY] : [centerY, centerX];\n    return {\n      offsetX,\n      offsetY\n    };\n  }\n  addNewEditor() {\n    this.createAndAddNewEditor(this.#getCenterPoint(), true);\n  }\n  setSelected(editor) {\n    this.#uiManager.setSelected(editor);\n  }\n  toggleSelected(editor) {\n    this.#uiManager.toggleSelected(editor);\n  }\n  isSelected(editor) {\n    return this.#uiManager.isSelected(editor);\n  }\n  unselect(editor) {\n    this.#uiManager.unselect(editor);\n  }\n  pointerup(event) {\n    const {\n      isMac\n    } = util.FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    if (event.target !== this.div) {\n      return;\n    }\n    if (!this.#hadPointerDown) {\n      return;\n    }\n    this.#hadPointerDown = false;\n    if (!this.#allowClick) {\n      this.#allowClick = true;\n      return;\n    }\n    if (this.#uiManager.getMode() === util.AnnotationEditorType.STAMP) {\n      this.#uiManager.unselectAll();\n      return;\n    }\n    this.createAndAddNewEditor(event, false);\n  }\n  pointerdown(event) {\n    if (this.#uiManager.getMode() === util.AnnotationEditorType.HIGHLIGHT) {\n      this.enableTextSelection();\n    }\n    if (this.#hadPointerDown) {\n      this.#hadPointerDown = false;\n      return;\n    }\n    const {\n      isMac\n    } = util.FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    if (event.target !== this.div) {\n      return;\n    }\n    this.#hadPointerDown = true;\n    const editor = this.#uiManager.getActive();\n    this.#allowClick = !editor || editor.isEmpty();\n  }\n  findNewParent(editor, x, y) {\n    const layer = this.#uiManager.findParent(x, y);\n    if (layer === null || layer === this) {\n      return false;\n    }\n    layer.changeParent(editor);\n    return true;\n  }\n  destroy() {\n    if (this.#uiManager.getActive()?.parent === this) {\n      this.#uiManager.commitOrRemove();\n      this.#uiManager.setActiveEditor(null);\n    }\n    if (this.#editorFocusTimeoutId) {\n      clearTimeout(this.#editorFocusTimeoutId);\n      this.#editorFocusTimeoutId = null;\n    }\n    for (const editor of this.#editors.values()) {\n      this.#accessibilityManager?.removePointerInTextLayer(editor.contentDiv);\n      editor.setParent(null);\n      editor.isAttachedToDOM = false;\n      editor.div.remove();\n    }\n    this.div = null;\n    this.#editors.clear();\n    this.#uiManager.removeLayer(this);\n  }\n  #cleanup() {\n    this.#isCleaningUp = true;\n    for (const editor of this.#editors.values()) {\n      if (editor.isEmpty()) {\n        editor.remove();\n      }\n    }\n    this.#isCleaningUp = false;\n  }\n  render({\n    viewport\n  }) {\n    this.viewport = viewport;\n    (0,display_utils.setLayerDimensions)(this.div, viewport);\n    for (const editor of this.#uiManager.getEditors(this.pageIndex)) {\n      this.add(editor);\n      editor.rebuild();\n    }\n    this.updateMode();\n  }\n  update({\n    viewport\n  }) {\n    this.#uiManager.commitOrRemove();\n    this.#cleanup();\n    const oldRotation = this.viewport.rotation;\n    const rotation = viewport.rotation;\n    this.viewport = viewport;\n    (0,display_utils.setLayerDimensions)(this.div, {\n      rotation\n    });\n    if (oldRotation !== rotation) {\n      for (const editor of this.#editors.values()) {\n        editor.rotate(rotation);\n      }\n    }\n    this.addInkEditorIfNeeded(false);\n  }\n  get pageDimensions() {\n    const {\n      pageWidth,\n      pageHeight\n    } = this.viewport.rawDims;\n    return [pageWidth, pageHeight];\n  }\n  get scale() {\n    return this.#uiManager.viewParameters.realScale;\n  }\n}\n\n\n/***/ }),\n\n/***/ 259:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ColorPicker: () => (/* binding */ ColorPicker)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _tools_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(830);\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(419);\n\n\n\nclass ColorPicker {\n  #boundKeyDown = this.#keyDown.bind(this);\n  #boundPointerDown = this.#pointerDown.bind(this);\n  #button = null;\n  #buttonSwatch = null;\n  #defaultColor;\n  #dropdown = null;\n  #dropdownWasFromKeyboard = false;\n  #isMainColorPicker = false;\n  #editor = null;\n  #eventBus;\n  #uiManager = null;\n  #type;\n  static get _keyboardManager() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"_keyboardManager\", new _tools_js__WEBPACK_IMPORTED_MODULE_1__.KeyboardManager([[[\"Escape\", \"mac+Escape\"], ColorPicker.prototype._hideDropdownFromKeyboard], [[\" \", \"mac+ \"], ColorPicker.prototype._colorSelectFromKeyboard], [[\"ArrowDown\", \"ArrowRight\", \"mac+ArrowDown\", \"mac+ArrowRight\"], ColorPicker.prototype._moveToNext], [[\"ArrowUp\", \"ArrowLeft\", \"mac+ArrowUp\", \"mac+ArrowLeft\"], ColorPicker.prototype._moveToPrevious], [[\"Home\", \"mac+Home\"], ColorPicker.prototype._moveToBeginning], [[\"End\", \"mac+End\"], ColorPicker.prototype._moveToEnd]]));\n  }\n  constructor({\n    editor = null,\n    uiManager = null\n  }) {\n    if (editor) {\n      this.#isMainColorPicker = false;\n      this.#type = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.HIGHLIGHT_COLOR;\n      this.#editor = editor;\n    } else {\n      this.#isMainColorPicker = true;\n      this.#type = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR;\n    }\n    this.#uiManager = editor?._uiManager || uiManager;\n    this.#eventBus = this.#uiManager._eventBus;\n    this.#defaultColor = editor?.color || this.#uiManager?.highlightColors.values().next().value || \"#FFFF98\";\n  }\n  renderButton() {\n    const button = this.#button = document.createElement(\"button\");\n    button.className = \"colorPicker\";\n    button.tabIndex = \"0\";\n    button.setAttribute(\"data-l10n-id\", \"pdfjs-editor-colorpicker-button\");\n    button.setAttribute(\"aria-haspopup\", true);\n    button.addEventListener(\"click\", this.#openDropdown.bind(this));\n    button.addEventListener(\"keydown\", this.#boundKeyDown);\n    const swatch = this.#buttonSwatch = document.createElement(\"span\");\n    swatch.className = \"swatch\";\n    swatch.setAttribute(\"aria-hidden\", true);\n    swatch.style.backgroundColor = this.#defaultColor;\n    button.append(swatch);\n    return button;\n  }\n  renderMainDropdown() {\n    const dropdown = this.#dropdown = this.#getDropdownRoot();\n    dropdown.setAttribute(\"aria-orientation\", \"horizontal\");\n    dropdown.setAttribute(\"aria-labelledby\", \"highlightColorPickerLabel\");\n    return dropdown;\n  }\n  #getDropdownRoot() {\n    const div = document.createElement(\"div\");\n    div.addEventListener(\"contextmenu\", _display_utils_js__WEBPACK_IMPORTED_MODULE_2__.noContextMenu);\n    div.className = \"dropdown\";\n    div.role = \"listbox\";\n    div.setAttribute(\"aria-multiselectable\", false);\n    div.setAttribute(\"aria-orientation\", \"vertical\");\n    div.setAttribute(\"data-l10n-id\", \"pdfjs-editor-colorpicker-dropdown\");\n    for (const [name, color] of this.#uiManager.highlightColors) {\n      const button = document.createElement(\"button\");\n      button.tabIndex = \"0\";\n      button.role = \"option\";\n      button.setAttribute(\"data-color\", color);\n      button.title = name;\n      button.setAttribute(\"data-l10n-id\", `pdfjs-editor-colorpicker-${name}`);\n      const swatch = document.createElement(\"span\");\n      button.append(swatch);\n      swatch.className = \"swatch\";\n      swatch.style.backgroundColor = color;\n      button.setAttribute(\"aria-selected\", color === this.#defaultColor);\n      button.addEventListener(\"click\", this.#colorSelect.bind(this, color));\n      div.append(button);\n    }\n    div.addEventListener(\"keydown\", this.#boundKeyDown);\n    return div;\n  }\n  #colorSelect(color, event) {\n    event.stopPropagation();\n    this.#eventBus.dispatch(\"switchannotationeditorparams\", {\n      source: this,\n      type: this.#type,\n      value: color\n    });\n  }\n  _colorSelectFromKeyboard(event) {\n    if (event.target === this.#button) {\n      this.#openDropdown(event);\n      return;\n    }\n    const color = event.target.getAttribute(\"data-color\");\n    if (!color) {\n      return;\n    }\n    this.#colorSelect(color, event);\n  }\n  _moveToNext(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    if (event.target === this.#button) {\n      this.#dropdown.firstChild?.focus();\n      return;\n    }\n    event.target.nextSibling?.focus();\n  }\n  _moveToPrevious(event) {\n    if (event.target === this.#dropdown?.firstChild || event.target === this.#button) {\n      if (this.#isDropdownVisible) {\n        this._hideDropdownFromKeyboard();\n      }\n      return;\n    }\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n    }\n    event.target.previousSibling?.focus();\n  }\n  _moveToBeginning(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    this.#dropdown.firstChild?.focus();\n  }\n  _moveToEnd(event) {\n    if (!this.#isDropdownVisible) {\n      this.#openDropdown(event);\n      return;\n    }\n    this.#dropdown.lastChild?.focus();\n  }\n  #keyDown(event) {\n    ColorPicker._keyboardManager.exec(this, event);\n  }\n  #openDropdown(event) {\n    if (this.#isDropdownVisible) {\n      this.hideDropdown();\n      return;\n    }\n    this.#dropdownWasFromKeyboard = event.detail === 0;\n    window.addEventListener(\"pointerdown\", this.#boundPointerDown);\n    if (this.#dropdown) {\n      this.#dropdown.classList.remove(\"hidden\");\n      return;\n    }\n    const root = this.#dropdown = this.#getDropdownRoot();\n    this.#button.append(root);\n  }\n  #pointerDown(event) {\n    if (this.#dropdown?.contains(event.target)) {\n      return;\n    }\n    this.hideDropdown();\n  }\n  hideDropdown() {\n    this.#dropdown?.classList.add(\"hidden\");\n    window.removeEventListener(\"pointerdown\", this.#boundPointerDown);\n  }\n  get #isDropdownVisible() {\n    return this.#dropdown && !this.#dropdown.classList.contains(\"hidden\");\n  }\n  _hideDropdownFromKeyboard() {\n    if (this.#isMainColorPicker) {\n      return;\n    }\n    if (!this.#isDropdownVisible) {\n      this.#editor?.unselect();\n      return;\n    }\n    this.hideDropdown();\n    this.#button.focus({\n      preventScroll: true,\n      focusVisible: this.#dropdownWasFromKeyboard\n    });\n  }\n  updateColor(color) {\n    if (this.#buttonSwatch) {\n      this.#buttonSwatch.style.backgroundColor = color;\n    }\n    if (!this.#dropdown) {\n      return;\n    }\n    const i = this.#uiManager.highlightColors.values();\n    for (const child of this.#dropdown.children) {\n      child.setAttribute(\"aria-selected\", i.next().value === color);\n    }\n  }\n  destroy() {\n    this.#button?.remove();\n    this.#button = null;\n    this.#buttonSwatch = null;\n    this.#dropdown?.remove();\n    this.#dropdown = null;\n  }\n}\n\n\n/***/ }),\n\n/***/ 310:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  AnnotationEditor: () => (/* binding */ AnnotationEditor)\n});\n\n// EXTERNAL MODULE: ./src/display/editor/tools.js\nvar tools = __webpack_require__(830);\n// EXTERNAL MODULE: ./src/shared/util.js\nvar util = __webpack_require__(292);\n// EXTERNAL MODULE: ./src/display/display_utils.js\nvar display_utils = __webpack_require__(419);\n;// CONCATENATED MODULE: ./src/display/editor/alt_text.js\n\nclass AltText {\n  #altText = \"\";\n  #altTextDecorative = false;\n  #altTextButton = null;\n  #altTextTooltip = null;\n  #altTextTooltipTimeout = null;\n  #altTextWasFromKeyBoard = false;\n  #editor = null;\n  static _l10nPromise = null;\n  constructor(editor) {\n    this.#editor = editor;\n  }\n  static initialize(l10nPromise) {\n    AltText._l10nPromise ||= l10nPromise;\n  }\n  async render() {\n    const altText = this.#altTextButton = document.createElement(\"button\");\n    altText.className = \"altText\";\n    const msg = await AltText._l10nPromise.get(\"pdfjs-editor-alt-text-button-label\");\n    altText.textContent = msg;\n    altText.setAttribute(\"aria-label\", msg);\n    altText.tabIndex = \"0\";\n    altText.addEventListener(\"contextmenu\", display_utils.noContextMenu);\n    altText.addEventListener(\"pointerdown\", event => event.stopPropagation());\n    const onClick = event => {\n      event.preventDefault();\n      this.#editor._uiManager.editAltText(this.#editor);\n    };\n    altText.addEventListener(\"click\", onClick, {\n      capture: true\n    });\n    altText.addEventListener(\"keydown\", event => {\n      if (event.target === altText && event.key === \"Enter\") {\n        this.#altTextWasFromKeyBoard = true;\n        onClick(event);\n      }\n    });\n    await this.#setState();\n    return altText;\n  }\n  finish() {\n    if (!this.#altTextButton) {\n      return;\n    }\n    this.#altTextButton.focus({\n      focusVisible: this.#altTextWasFromKeyBoard\n    });\n    this.#altTextWasFromKeyBoard = false;\n  }\n  isEmpty() {\n    return !this.#altText && !this.#altTextDecorative;\n  }\n  get data() {\n    return {\n      altText: this.#altText,\n      decorative: this.#altTextDecorative\n    };\n  }\n  set data({\n    altText,\n    decorative\n  }) {\n    if (this.#altText === altText && this.#altTextDecorative === decorative) {\n      return;\n    }\n    this.#altText = altText;\n    this.#altTextDecorative = decorative;\n    this.#setState();\n  }\n  toggle(enabled = false) {\n    if (!this.#altTextButton) {\n      return;\n    }\n    if (!enabled && this.#altTextTooltipTimeout) {\n      clearTimeout(this.#altTextTooltipTimeout);\n      this.#altTextTooltipTimeout = null;\n    }\n    this.#altTextButton.disabled = !enabled;\n  }\n  destroy() {\n    this.#altTextButton?.remove();\n    this.#altTextButton = null;\n    this.#altTextTooltip = null;\n  }\n  async #setState() {\n    const button = this.#altTextButton;\n    if (!button) {\n      return;\n    }\n    if (!this.#altText && !this.#altTextDecorative) {\n      button.classList.remove(\"done\");\n      this.#altTextTooltip?.remove();\n      return;\n    }\n    button.classList.add(\"done\");\n    AltText._l10nPromise.get(\"pdfjs-editor-alt-text-edit-button-label\").then(msg => {\n      button.setAttribute(\"aria-label\", msg);\n    });\n    let tooltip = this.#altTextTooltip;\n    if (!tooltip) {\n      this.#altTextTooltip = tooltip = document.createElement(\"span\");\n      tooltip.className = \"tooltip\";\n      tooltip.setAttribute(\"role\", \"tooltip\");\n      const id = tooltip.id = `alt-text-tooltip-${this.#editor.id}`;\n      button.setAttribute(\"aria-describedby\", id);\n      const DELAY_TO_SHOW_TOOLTIP = 100;\n      button.addEventListener(\"mouseenter\", () => {\n        this.#altTextTooltipTimeout = setTimeout(() => {\n          this.#altTextTooltipTimeout = null;\n          this.#altTextTooltip.classList.add(\"show\");\n          this.#editor._reportTelemetry({\n            action: \"alt_text_tooltip\"\n          });\n        }, DELAY_TO_SHOW_TOOLTIP);\n      });\n      button.addEventListener(\"mouseleave\", () => {\n        if (this.#altTextTooltipTimeout) {\n          clearTimeout(this.#altTextTooltipTimeout);\n          this.#altTextTooltipTimeout = null;\n        }\n        this.#altTextTooltip?.classList.remove(\"show\");\n      });\n    }\n    tooltip.innerText = this.#altTextDecorative ? await AltText._l10nPromise.get(\"pdfjs-editor-alt-text-decorative-tooltip\") : this.#altText;\n    if (!tooltip.parentNode) {\n      button.append(tooltip);\n    }\n    const element = this.#editor.getImageForAltText();\n    element?.setAttribute(\"aria-describedby\", tooltip.id);\n  }\n}\n\n// EXTERNAL MODULE: ./src/display/editor/toolbar.js\nvar toolbar = __webpack_require__(362);\n;// CONCATENATED MODULE: ./src/display/editor/editor.js\n\n\n\n\n\nclass AnnotationEditor {\n  #allResizerDivs = null;\n  #altText = null;\n  #disabled = false;\n  #keepAspectRatio = false;\n  #resizersDiv = null;\n  #savedDimensions = null;\n  #boundFocusin = this.focusin.bind(this);\n  #boundFocusout = this.focusout.bind(this);\n  #editToolbar = null;\n  #focusedResizerName = \"\";\n  #hasBeenClicked = false;\n  #initialPosition = null;\n  #isEditing = false;\n  #isInEditMode = false;\n  #isResizerEnabledForKeyboard = false;\n  #moveInDOMTimeout = null;\n  #prevDragX = 0;\n  #prevDragY = 0;\n  #telemetryTimeouts = null;\n  _initialOptions = Object.create(null);\n  _isVisible = true;\n  _uiManager = null;\n  _focusEventsAllowed = true;\n  _l10nPromise = null;\n  #isDraggable = false;\n  #zIndex = AnnotationEditor._zIndex++;\n  static _borderLineWidth = -1;\n  static _colorManager = new tools.ColorManager();\n  static _zIndex = 1;\n  static _telemetryTimeout = 1000;\n  static get _resizerKeyboardManager() {\n    const resize = AnnotationEditor.prototype._resizeWithKeyboard;\n    const small = tools.AnnotationEditorUIManager.TRANSLATE_SMALL;\n    const big = tools.AnnotationEditorUIManager.TRANSLATE_BIG;\n    return (0,util.shadow)(this, \"_resizerKeyboardManager\", new tools.KeyboardManager([[[\"ArrowLeft\", \"mac+ArrowLeft\"], resize, {\n      args: [-small, 0]\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], resize, {\n      args: [-big, 0]\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], resize, {\n      args: [small, 0]\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], resize, {\n      args: [big, 0]\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], resize, {\n      args: [0, -small]\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], resize, {\n      args: [0, -big]\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], resize, {\n      args: [0, small]\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], resize, {\n      args: [0, big]\n    }], [[\"Escape\", \"mac+Escape\"], AnnotationEditor.prototype._stopResizingWithKeyboard]]));\n  }\n  constructor(parameters) {\n    if (this.constructor === AnnotationEditor) {\n      (0,util.unreachable)(\"Cannot initialize AnnotationEditor.\");\n    }\n    this.parent = parameters.parent;\n    this.id = parameters.id;\n    this.width = this.height = null;\n    this.pageIndex = parameters.parent.pageIndex;\n    this.name = parameters.name;\n    this.div = null;\n    this._uiManager = parameters.uiManager;\n    this.annotationElementId = null;\n    this._willKeepAspectRatio = false;\n    this._initialOptions.isCentered = parameters.isCentered;\n    this._structTreeParentId = null;\n    const {\n      rotation,\n      rawDims: {\n        pageWidth,\n        pageHeight,\n        pageX,\n        pageY\n      }\n    } = this.parent.viewport;\n    this.rotation = rotation;\n    this.pageRotation = (360 + rotation - this._uiManager.viewParameters.rotation) % 360;\n    this.pageDimensions = [pageWidth, pageHeight];\n    this.pageTranslation = [pageX, pageY];\n    const [width, height] = this.parentDimensions;\n    this.x = parameters.x / width;\n    this.y = parameters.y / height;\n    this.isAttachedToDOM = false;\n    this.deleted = false;\n  }\n  get editorType() {\n    return Object.getPrototypeOf(this).constructor._type;\n  }\n  static get _defaultLineColor() {\n    return (0,util.shadow)(this, \"_defaultLineColor\", this._colorManager.getHexCode(\"CanvasText\"));\n  }\n  static deleteAnnotationElement(editor) {\n    const fakeEditor = new FakeEditor({\n      id: editor.parent.getNextId(),\n      parent: editor.parent,\n      uiManager: editor._uiManager\n    });\n    fakeEditor.annotationElementId = editor.annotationElementId;\n    fakeEditor.deleted = true;\n    fakeEditor._uiManager.addToAnnotationStorage(fakeEditor);\n  }\n  static initialize(l10n, _uiManager, options) {\n    AnnotationEditor._l10nPromise ||= new Map([\"pdfjs-editor-alt-text-button-label\", \"pdfjs-editor-alt-text-edit-button-label\", \"pdfjs-editor-alt-text-decorative-tooltip\", \"pdfjs-editor-resizer-label-topLeft\", \"pdfjs-editor-resizer-label-topMiddle\", \"pdfjs-editor-resizer-label-topRight\", \"pdfjs-editor-resizer-label-middleRight\", \"pdfjs-editor-resizer-label-bottomRight\", \"pdfjs-editor-resizer-label-bottomMiddle\", \"pdfjs-editor-resizer-label-bottomLeft\", \"pdfjs-editor-resizer-label-middleLeft\"].map(str => [str, l10n.get(str.replaceAll(/([A-Z])/g, c => `-${c.toLowerCase()}`))]));\n    if (options?.strings) {\n      for (const str of options.strings) {\n        AnnotationEditor._l10nPromise.set(str, l10n.get(str));\n      }\n    }\n    if (AnnotationEditor._borderLineWidth !== -1) {\n      return;\n    }\n    const style = getComputedStyle(document.documentElement);\n    AnnotationEditor._borderLineWidth = parseFloat(style.getPropertyValue(\"--outline-width\")) || 0;\n  }\n  static updateDefaultParams(_type, _value) {}\n  static get defaultPropertiesToUpdate() {\n    return [];\n  }\n  static isHandlingMimeForPasting(mime) {\n    return false;\n  }\n  static paste(item, parent) {\n    (0,util.unreachable)(\"Not implemented\");\n  }\n  get propertiesToUpdate() {\n    return [];\n  }\n  get _isDraggable() {\n    return this.#isDraggable;\n  }\n  set _isDraggable(value) {\n    this.#isDraggable = value;\n    this.div?.classList.toggle(\"draggable\", value);\n  }\n  get isEnterHandled() {\n    return true;\n  }\n  center() {\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    switch (this.parentRotation) {\n      case 90:\n        this.x -= this.height * pageHeight / (pageWidth * 2);\n        this.y += this.width * pageWidth / (pageHeight * 2);\n        break;\n      case 180:\n        this.x += this.width / 2;\n        this.y += this.height / 2;\n        break;\n      case 270:\n        this.x += this.height * pageHeight / (pageWidth * 2);\n        this.y -= this.width * pageWidth / (pageHeight * 2);\n        break;\n      default:\n        this.x -= this.width / 2;\n        this.y -= this.height / 2;\n        break;\n    }\n    this.fixAndSetPosition();\n  }\n  addCommands(params) {\n    this._uiManager.addCommands(params);\n  }\n  get currentLayer() {\n    return this._uiManager.currentLayer;\n  }\n  setInBackground() {\n    this.div.style.zIndex = 0;\n  }\n  setInForeground() {\n    this.div.style.zIndex = this.#zIndex;\n  }\n  setParent(parent) {\n    if (parent !== null) {\n      this.pageIndex = parent.pageIndex;\n      this.pageDimensions = parent.pageDimensions;\n    } else {\n      this.#stopResizing();\n    }\n    this.parent = parent;\n  }\n  focusin(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    if (!this.#hasBeenClicked) {\n      this.parent.setSelected(this);\n    } else {\n      this.#hasBeenClicked = false;\n    }\n  }\n  focusout(event) {\n    if (!this._focusEventsAllowed) {\n      return;\n    }\n    if (!this.isAttachedToDOM) {\n      return;\n    }\n    const target = event.relatedTarget;\n    if (target?.closest(`#${this.id}`)) {\n      return;\n    }\n    event.preventDefault();\n    if (!this.parent?.isMultipleSelection) {\n      this.commitOrRemove();\n    }\n  }\n  commitOrRemove() {\n    if (this.isEmpty()) {\n      this.remove();\n    } else {\n      this.commit();\n    }\n  }\n  commit() {\n    this.addToAnnotationStorage();\n  }\n  addToAnnotationStorage() {\n    this._uiManager.addToAnnotationStorage(this);\n  }\n  setAt(x, y, tx, ty) {\n    const [width, height] = this.parentDimensions;\n    [tx, ty] = this.screenToPageTranslation(tx, ty);\n    this.x = (x + tx) / width;\n    this.y = (y + ty) / height;\n    this.fixAndSetPosition();\n  }\n  #translate([width, height], x, y) {\n    [x, y] = this.screenToPageTranslation(x, y);\n    this.x += x / width;\n    this.y += y / height;\n    this.fixAndSetPosition();\n  }\n  translate(x, y) {\n    this.#translate(this.parentDimensions, x, y);\n  }\n  translateInPage(x, y) {\n    this.#initialPosition ||= [this.x, this.y];\n    this.#translate(this.pageDimensions, x, y);\n    this.div.scrollIntoView({\n      block: \"nearest\"\n    });\n  }\n  drag(tx, ty) {\n    this.#initialPosition ||= [this.x, this.y];\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.x += tx / parentWidth;\n    this.y += ty / parentHeight;\n    if (this.parent && (this.x < 0 || this.x > 1 || this.y < 0 || this.y > 1)) {\n      const {\n        x,\n        y\n      } = this.div.getBoundingClientRect();\n      if (this.parent.findNewParent(this, x, y)) {\n        this.x -= Math.floor(this.x);\n        this.y -= Math.floor(this.y);\n      }\n    }\n    let {\n      x,\n      y\n    } = this;\n    const [bx, by] = this.getBaseTranslation();\n    x += bx;\n    y += by;\n    this.div.style.left = `${(100 * x).toFixed(2)}%`;\n    this.div.style.top = `${(100 * y).toFixed(2)}%`;\n    this.div.scrollIntoView({\n      block: \"nearest\"\n    });\n  }\n  get _hasBeenMoved() {\n    return !!this.#initialPosition && (this.#initialPosition[0] !== this.x || this.#initialPosition[1] !== this.y);\n  }\n  getBaseTranslation() {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const {\n      _borderLineWidth\n    } = AnnotationEditor;\n    const x = _borderLineWidth / parentWidth;\n    const y = _borderLineWidth / parentHeight;\n    switch (this.rotation) {\n      case 90:\n        return [-x, y];\n      case 180:\n        return [x, y];\n      case 270:\n        return [x, -y];\n      default:\n        return [-x, -y];\n    }\n  }\n  get _mustFixPosition() {\n    return true;\n  }\n  fixAndSetPosition(rotation = this.rotation) {\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    let {\n      x,\n      y,\n      width,\n      height\n    } = this;\n    width *= pageWidth;\n    height *= pageHeight;\n    x *= pageWidth;\n    y *= pageHeight;\n    if (this._mustFixPosition) {\n      switch (rotation) {\n        case 0:\n          x = Math.max(0, Math.min(pageWidth - width, x));\n          y = Math.max(0, Math.min(pageHeight - height, y));\n          break;\n        case 90:\n          x = Math.max(0, Math.min(pageWidth - height, x));\n          y = Math.min(pageHeight, Math.max(width, y));\n          break;\n        case 180:\n          x = Math.min(pageWidth, Math.max(width, x));\n          y = Math.min(pageHeight, Math.max(height, y));\n          break;\n        case 270:\n          x = Math.min(pageWidth, Math.max(height, x));\n          y = Math.max(0, Math.min(pageHeight - width, y));\n          break;\n      }\n    }\n    this.x = x /= pageWidth;\n    this.y = y /= pageHeight;\n    const [bx, by] = this.getBaseTranslation();\n    x += bx;\n    y += by;\n    const {\n      style\n    } = this.div;\n    style.left = `${(100 * x).toFixed(2)}%`;\n    style.top = `${(100 * y).toFixed(2)}%`;\n    this.moveInDOM();\n  }\n  static #rotatePoint(x, y, angle) {\n    switch (angle) {\n      case 90:\n        return [y, -x];\n      case 180:\n        return [-x, -y];\n      case 270:\n        return [-y, x];\n      default:\n        return [x, y];\n    }\n  }\n  screenToPageTranslation(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, this.parentRotation);\n  }\n  pageTranslationToScreen(x, y) {\n    return AnnotationEditor.#rotatePoint(x, y, 360 - this.parentRotation);\n  }\n  #getRotationMatrix(rotation) {\n    switch (rotation) {\n      case 90:\n        {\n          const [pageWidth, pageHeight] = this.pageDimensions;\n          return [0, -pageWidth / pageHeight, pageHeight / pageWidth, 0];\n        }\n      case 180:\n        return [-1, 0, 0, -1];\n      case 270:\n        {\n          const [pageWidth, pageHeight] = this.pageDimensions;\n          return [0, pageWidth / pageHeight, -pageHeight / pageWidth, 0];\n        }\n      default:\n        return [1, 0, 0, 1];\n    }\n  }\n  get parentScale() {\n    return this._uiManager.viewParameters.realScale;\n  }\n  get parentRotation() {\n    return (this._uiManager.viewParameters.rotation + this.pageRotation) % 360;\n  }\n  get parentDimensions() {\n    const {\n      parentScale,\n      pageDimensions: [pageWidth, pageHeight]\n    } = this;\n    const scaledWidth = pageWidth * parentScale;\n    const scaledHeight = pageHeight * parentScale;\n    return util.FeatureTest.isCSSRoundSupported ? [Math.round(scaledWidth), Math.round(scaledHeight)] : [scaledWidth, scaledHeight];\n  }\n  setDims(width, height) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    this.div.style.width = `${(100 * width / parentWidth).toFixed(2)}%`;\n    if (!this.#keepAspectRatio) {\n      this.div.style.height = `${(100 * height / parentHeight).toFixed(2)}%`;\n    }\n  }\n  fixDims() {\n    const {\n      style\n    } = this.div;\n    const {\n      height,\n      width\n    } = style;\n    const widthPercent = width.endsWith(\"%\");\n    const heightPercent = !this.#keepAspectRatio && height.endsWith(\"%\");\n    if (widthPercent && heightPercent) {\n      return;\n    }\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    if (!widthPercent) {\n      style.width = `${(100 * parseFloat(width) / parentWidth).toFixed(2)}%`;\n    }\n    if (!this.#keepAspectRatio && !heightPercent) {\n      style.height = `${(100 * parseFloat(height) / parentHeight).toFixed(2)}%`;\n    }\n  }\n  getInitialTranslation() {\n    return [0, 0];\n  }\n  #createResizers() {\n    if (this.#resizersDiv) {\n      return;\n    }\n    this.#resizersDiv = document.createElement(\"div\");\n    this.#resizersDiv.classList.add(\"resizers\");\n    const classes = this._willKeepAspectRatio ? [\"topLeft\", \"topRight\", \"bottomRight\", \"bottomLeft\"] : [\"topLeft\", \"topMiddle\", \"topRight\", \"middleRight\", \"bottomRight\", \"bottomMiddle\", \"bottomLeft\", \"middleLeft\"];\n    for (const name of classes) {\n      const div = document.createElement(\"div\");\n      this.#resizersDiv.append(div);\n      div.classList.add(\"resizer\", name);\n      div.setAttribute(\"data-resizer-name\", name);\n      div.addEventListener(\"pointerdown\", this.#resizerPointerdown.bind(this, name));\n      div.addEventListener(\"contextmenu\", display_utils.noContextMenu);\n      div.tabIndex = -1;\n    }\n    this.div.prepend(this.#resizersDiv);\n  }\n  #resizerPointerdown(name, event) {\n    event.preventDefault();\n    const {\n      isMac\n    } = util.FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      return;\n    }\n    this.#altText?.toggle(false);\n    const boundResizerPointermove = this.#resizerPointermove.bind(this, name);\n    const savedDraggable = this._isDraggable;\n    this._isDraggable = false;\n    const pointerMoveOptions = {\n      passive: true,\n      capture: true\n    };\n    this.parent.togglePointerEvents(false);\n    window.addEventListener(\"pointermove\", boundResizerPointermove, pointerMoveOptions);\n    window.addEventListener(\"contextmenu\", display_utils.noContextMenu);\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n    const savedParentCursor = this.parent.div.style.cursor;\n    const savedCursor = this.div.style.cursor;\n    this.div.style.cursor = this.parent.div.style.cursor = window.getComputedStyle(event.target).cursor;\n    const pointerUpCallback = () => {\n      this.parent.togglePointerEvents(true);\n      this.#altText?.toggle(true);\n      this._isDraggable = savedDraggable;\n      window.removeEventListener(\"pointerup\", pointerUpCallback);\n      window.removeEventListener(\"blur\", pointerUpCallback);\n      window.removeEventListener(\"pointermove\", boundResizerPointermove, pointerMoveOptions);\n      window.removeEventListener(\"contextmenu\", display_utils.noContextMenu);\n      this.parent.div.style.cursor = savedParentCursor;\n      this.div.style.cursor = savedCursor;\n      this.#addResizeToUndoStack(savedX, savedY, savedWidth, savedHeight);\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback);\n    window.addEventListener(\"blur\", pointerUpCallback);\n  }\n  #addResizeToUndoStack(savedX, savedY, savedWidth, savedHeight) {\n    const newX = this.x;\n    const newY = this.y;\n    const newWidth = this.width;\n    const newHeight = this.height;\n    if (newX === savedX && newY === savedY && newWidth === savedWidth && newHeight === savedHeight) {\n      return;\n    }\n    this.addCommands({\n      cmd: () => {\n        this.width = newWidth;\n        this.height = newHeight;\n        this.x = newX;\n        this.y = newY;\n        const [parentWidth, parentHeight] = this.parentDimensions;\n        this.setDims(parentWidth * newWidth, parentHeight * newHeight);\n        this.fixAndSetPosition();\n      },\n      undo: () => {\n        this.width = savedWidth;\n        this.height = savedHeight;\n        this.x = savedX;\n        this.y = savedY;\n        const [parentWidth, parentHeight] = this.parentDimensions;\n        this.setDims(parentWidth * savedWidth, parentHeight * savedHeight);\n        this.fixAndSetPosition();\n      },\n      mustExec: true\n    });\n  }\n  #resizerPointermove(name, event) {\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    const savedX = this.x;\n    const savedY = this.y;\n    const savedWidth = this.width;\n    const savedHeight = this.height;\n    const minWidth = AnnotationEditor.MIN_SIZE / parentWidth;\n    const minHeight = AnnotationEditor.MIN_SIZE / parentHeight;\n    const round = x => Math.round(x * 10000) / 10000;\n    const rotationMatrix = this.#getRotationMatrix(this.rotation);\n    const transf = (x, y) => [rotationMatrix[0] * x + rotationMatrix[2] * y, rotationMatrix[1] * x + rotationMatrix[3] * y];\n    const invRotationMatrix = this.#getRotationMatrix(360 - this.rotation);\n    const invTransf = (x, y) => [invRotationMatrix[0] * x + invRotationMatrix[2] * y, invRotationMatrix[1] * x + invRotationMatrix[3] * y];\n    let getPoint;\n    let getOpposite;\n    let isDiagonal = false;\n    let isHorizontal = false;\n    switch (name) {\n      case \"topLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, 0];\n        getOpposite = (w, h) => [w, h];\n        break;\n      case \"topMiddle\":\n        getPoint = (w, h) => [w / 2, 0];\n        getOpposite = (w, h) => [w / 2, h];\n        break;\n      case \"topRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, 0];\n        getOpposite = (w, h) => [0, h];\n        break;\n      case \"middleRight\":\n        isHorizontal = true;\n        getPoint = (w, h) => [w, h / 2];\n        getOpposite = (w, h) => [0, h / 2];\n        break;\n      case \"bottomRight\":\n        isDiagonal = true;\n        getPoint = (w, h) => [w, h];\n        getOpposite = (w, h) => [0, 0];\n        break;\n      case \"bottomMiddle\":\n        getPoint = (w, h) => [w / 2, h];\n        getOpposite = (w, h) => [w / 2, 0];\n        break;\n      case \"bottomLeft\":\n        isDiagonal = true;\n        getPoint = (w, h) => [0, h];\n        getOpposite = (w, h) => [w, 0];\n        break;\n      case \"middleLeft\":\n        isHorizontal = true;\n        getPoint = (w, h) => [0, h / 2];\n        getOpposite = (w, h) => [w, h / 2];\n        break;\n    }\n    const point = getPoint(savedWidth, savedHeight);\n    const oppositePoint = getOpposite(savedWidth, savedHeight);\n    let transfOppositePoint = transf(...oppositePoint);\n    const oppositeX = round(savedX + transfOppositePoint[0]);\n    const oppositeY = round(savedY + transfOppositePoint[1]);\n    let ratioX = 1;\n    let ratioY = 1;\n    let [deltaX, deltaY] = this.screenToPageTranslation(event.movementX, event.movementY);\n    [deltaX, deltaY] = invTransf(deltaX / parentWidth, deltaY / parentHeight);\n    if (isDiagonal) {\n      const oldDiag = Math.hypot(savedWidth, savedHeight);\n      ratioX = ratioY = Math.max(Math.min(Math.hypot(oppositePoint[0] - point[0] - deltaX, oppositePoint[1] - point[1] - deltaY) / oldDiag, 1 / savedWidth, 1 / savedHeight), minWidth / savedWidth, minHeight / savedHeight);\n    } else if (isHorizontal) {\n      ratioX = Math.max(minWidth, Math.min(1, Math.abs(oppositePoint[0] - point[0] - deltaX))) / savedWidth;\n    } else {\n      ratioY = Math.max(minHeight, Math.min(1, Math.abs(oppositePoint[1] - point[1] - deltaY))) / savedHeight;\n    }\n    const newWidth = round(savedWidth * ratioX);\n    const newHeight = round(savedHeight * ratioY);\n    transfOppositePoint = transf(...getOpposite(newWidth, newHeight));\n    const newX = oppositeX - transfOppositePoint[0];\n    const newY = oppositeY - transfOppositePoint[1];\n    this.width = newWidth;\n    this.height = newHeight;\n    this.x = newX;\n    this.y = newY;\n    this.setDims(parentWidth * newWidth, parentHeight * newHeight);\n    this.fixAndSetPosition();\n  }\n  altTextFinish() {\n    this.#altText?.finish();\n  }\n  async addEditToolbar() {\n    if (this.#editToolbar || this.#isInEditMode) {\n      return this.#editToolbar;\n    }\n    this.#editToolbar = new toolbar.EditorToolbar(this);\n    this.div.append(this.#editToolbar.render());\n    if (this.#altText) {\n      this.#editToolbar.addAltTextButton(await this.#altText.render());\n    }\n    return this.#editToolbar;\n  }\n  removeEditToolbar() {\n    if (!this.#editToolbar) {\n      return;\n    }\n    this.#editToolbar.remove();\n    this.#editToolbar = null;\n    this.#altText?.destroy();\n  }\n  getClientDimensions() {\n    return this.div.getBoundingClientRect();\n  }\n  async addAltTextButton() {\n    if (this.#altText) {\n      return;\n    }\n    AltText.initialize(AnnotationEditor._l10nPromise);\n    this.#altText = new AltText(this);\n    await this.addEditToolbar();\n  }\n  get altTextData() {\n    return this.#altText?.data;\n  }\n  set altTextData(data) {\n    if (!this.#altText) {\n      return;\n    }\n    this.#altText.data = data;\n  }\n  hasAltText() {\n    return !this.#altText?.isEmpty();\n  }\n  render() {\n    this.div = document.createElement(\"div\");\n    this.div.setAttribute(\"data-editor-rotation\", (360 - this.rotation) % 360);\n    this.div.className = this.name;\n    this.div.setAttribute(\"id\", this.id);\n    this.div.tabIndex = this.#disabled ? -1 : 0;\n    if (!this._isVisible) {\n      this.div.classList.add(\"hidden\");\n    }\n    this.setInForeground();\n    this.div.addEventListener(\"focusin\", this.#boundFocusin);\n    this.div.addEventListener(\"focusout\", this.#boundFocusout);\n    const [parentWidth, parentHeight] = this.parentDimensions;\n    if (this.parentRotation % 180 !== 0) {\n      this.div.style.maxWidth = `${(100 * parentHeight / parentWidth).toFixed(2)}%`;\n      this.div.style.maxHeight = `${(100 * parentWidth / parentHeight).toFixed(2)}%`;\n    }\n    const [tx, ty] = this.getInitialTranslation();\n    this.translate(tx, ty);\n    (0,tools.bindEvents)(this, this.div, [\"pointerdown\"]);\n    return this.div;\n  }\n  pointerdown(event) {\n    const {\n      isMac\n    } = util.FeatureTest.platform;\n    if (event.button !== 0 || event.ctrlKey && isMac) {\n      event.preventDefault();\n      return;\n    }\n    this.#hasBeenClicked = true;\n    if (this._isDraggable) {\n      this.#setUpDragSession(event);\n      return;\n    }\n    this.#selectOnPointerEvent(event);\n  }\n  #selectOnPointerEvent(event) {\n    const {\n      isMac\n    } = util.FeatureTest.platform;\n    if (event.ctrlKey && !isMac || event.shiftKey || event.metaKey && isMac) {\n      this.parent.toggleSelected(this);\n    } else {\n      this.parent.setSelected(this);\n    }\n  }\n  #setUpDragSession(event) {\n    const isSelected = this._uiManager.isSelected(this);\n    this._uiManager.setUpDragSession();\n    let pointerMoveOptions, pointerMoveCallback;\n    if (isSelected) {\n      this.div.classList.add(\"moving\");\n      pointerMoveOptions = {\n        passive: true,\n        capture: true\n      };\n      this.#prevDragX = event.clientX;\n      this.#prevDragY = event.clientY;\n      pointerMoveCallback = e => {\n        const {\n          clientX: x,\n          clientY: y\n        } = e;\n        const [tx, ty] = this.screenToPageTranslation(x - this.#prevDragX, y - this.#prevDragY);\n        this.#prevDragX = x;\n        this.#prevDragY = y;\n        this._uiManager.dragSelectedEditors(tx, ty);\n      };\n      window.addEventListener(\"pointermove\", pointerMoveCallback, pointerMoveOptions);\n    }\n    const pointerUpCallback = () => {\n      window.removeEventListener(\"pointerup\", pointerUpCallback);\n      window.removeEventListener(\"blur\", pointerUpCallback);\n      if (isSelected) {\n        this.div.classList.remove(\"moving\");\n        window.removeEventListener(\"pointermove\", pointerMoveCallback, pointerMoveOptions);\n      }\n      this.#hasBeenClicked = false;\n      if (!this._uiManager.endDragSession()) {\n        this.#selectOnPointerEvent(event);\n      }\n    };\n    window.addEventListener(\"pointerup\", pointerUpCallback);\n    window.addEventListener(\"blur\", pointerUpCallback);\n  }\n  moveInDOM() {\n    if (this.#moveInDOMTimeout) {\n      clearTimeout(this.#moveInDOMTimeout);\n    }\n    this.#moveInDOMTimeout = setTimeout(() => {\n      this.#moveInDOMTimeout = null;\n      this.parent?.moveEditorInDOM(this);\n    }, 0);\n  }\n  _setParentAndPosition(parent, x, y) {\n    parent.changeParent(this);\n    this.x = x;\n    this.y = y;\n    this.fixAndSetPosition();\n  }\n  getRect(tx, ty, rotation = this.rotation) {\n    const scale = this.parentScale;\n    const [pageWidth, pageHeight] = this.pageDimensions;\n    const [pageX, pageY] = this.pageTranslation;\n    const shiftX = tx / scale;\n    const shiftY = ty / scale;\n    const x = this.x * pageWidth;\n    const y = this.y * pageHeight;\n    const width = this.width * pageWidth;\n    const height = this.height * pageHeight;\n    switch (rotation) {\n      case 0:\n        return [x + shiftX + pageX, pageHeight - y - shiftY - height + pageY, x + shiftX + width + pageX, pageHeight - y - shiftY + pageY];\n      case 90:\n        return [x + shiftY + pageX, pageHeight - y + shiftX + pageY, x + shiftY + height + pageX, pageHeight - y + shiftX + width + pageY];\n      case 180:\n        return [x - shiftX - width + pageX, pageHeight - y + shiftY + pageY, x - shiftX + pageX, pageHeight - y + shiftY + height + pageY];\n      case 270:\n        return [x - shiftY - height + pageX, pageHeight - y - shiftX - width + pageY, x - shiftY + pageX, pageHeight - y - shiftX + pageY];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n  getRectInCurrentCoords(rect, pageHeight) {\n    const [x1, y1, x2, y2] = rect;\n    const width = x2 - x1;\n    const height = y2 - y1;\n    switch (this.rotation) {\n      case 0:\n        return [x1, pageHeight - y2, width, height];\n      case 90:\n        return [x1, pageHeight - y1, height, width];\n      case 180:\n        return [x2, pageHeight - y1, width, height];\n      case 270:\n        return [x2, pageHeight - y2, height, width];\n      default:\n        throw new Error(\"Invalid rotation\");\n    }\n  }\n  onceAdded() {}\n  isEmpty() {\n    return false;\n  }\n  enableEditMode() {\n    this.#isInEditMode = true;\n  }\n  disableEditMode() {\n    this.#isInEditMode = false;\n  }\n  isInEditMode() {\n    return this.#isInEditMode;\n  }\n  shouldGetKeyboardEvents() {\n    return this.#isResizerEnabledForKeyboard;\n  }\n  needsToBeRebuilt() {\n    return this.div && !this.isAttachedToDOM;\n  }\n  rebuild() {\n    this.div?.addEventListener(\"focusin\", this.#boundFocusin);\n    this.div?.addEventListener(\"focusout\", this.#boundFocusout);\n  }\n  rotate(_angle) {}\n  serialize(isForCopying = false, context = null) {\n    (0,util.unreachable)(\"An editor must be serializable\");\n  }\n  static deserialize(data, parent, uiManager) {\n    const editor = new this.prototype.constructor({\n      parent,\n      id: parent.getNextId(),\n      uiManager\n    });\n    editor.rotation = data.rotation;\n    const [pageWidth, pageHeight] = editor.pageDimensions;\n    const [x, y, width, height] = editor.getRectInCurrentCoords(data.rect, pageHeight);\n    editor.x = x / pageWidth;\n    editor.y = y / pageHeight;\n    editor.width = width / pageWidth;\n    editor.height = height / pageHeight;\n    return editor;\n  }\n  get hasBeenModified() {\n    return !!this.annotationElementId && (this.deleted || this.serialize() !== null);\n  }\n  remove() {\n    this.div.removeEventListener(\"focusin\", this.#boundFocusin);\n    this.div.removeEventListener(\"focusout\", this.#boundFocusout);\n    if (!this.isEmpty()) {\n      this.commit();\n    }\n    if (this.parent) {\n      this.parent.remove(this);\n    } else {\n      this._uiManager.removeEditor(this);\n    }\n    if (this.#moveInDOMTimeout) {\n      clearTimeout(this.#moveInDOMTimeout);\n      this.#moveInDOMTimeout = null;\n    }\n    this.#stopResizing();\n    this.removeEditToolbar();\n    if (this.#telemetryTimeouts) {\n      for (const timeout of this.#telemetryTimeouts.values()) {\n        clearTimeout(timeout);\n      }\n      this.#telemetryTimeouts = null;\n    }\n    this.parent = null;\n  }\n  get isResizable() {\n    return false;\n  }\n  makeResizable() {\n    if (this.isResizable) {\n      this.#createResizers();\n      this.#resizersDiv.classList.remove(\"hidden\");\n      (0,tools.bindEvents)(this, this.div, [\"keydown\"]);\n    }\n  }\n  get toolbarPosition() {\n    return null;\n  }\n  keydown(event) {\n    if (!this.isResizable || event.target !== this.div || event.key !== \"Enter\") {\n      return;\n    }\n    this._uiManager.setSelected(this);\n    this.#savedDimensions = {\n      savedX: this.x,\n      savedY: this.y,\n      savedWidth: this.width,\n      savedHeight: this.height\n    };\n    const children = this.#resizersDiv.children;\n    if (!this.#allResizerDivs) {\n      this.#allResizerDivs = Array.from(children);\n      const boundResizerKeydown = this.#resizerKeydown.bind(this);\n      const boundResizerBlur = this.#resizerBlur.bind(this);\n      for (const div of this.#allResizerDivs) {\n        const name = div.getAttribute(\"data-resizer-name\");\n        div.setAttribute(\"role\", \"spinbutton\");\n        div.addEventListener(\"keydown\", boundResizerKeydown);\n        div.addEventListener(\"blur\", boundResizerBlur);\n        div.addEventListener(\"focus\", this.#resizerFocus.bind(this, name));\n        AnnotationEditor._l10nPromise.get(`pdfjs-editor-resizer-label-${name}`).then(msg => div.setAttribute(\"aria-label\", msg));\n      }\n    }\n    const first = this.#allResizerDivs[0];\n    let firstPosition = 0;\n    for (const div of children) {\n      if (div === first) {\n        break;\n      }\n      firstPosition++;\n    }\n    const nextFirstPosition = (360 - this.rotation + this.parentRotation) % 360 / 90 * (this.#allResizerDivs.length / 4);\n    if (nextFirstPosition !== firstPosition) {\n      if (nextFirstPosition < firstPosition) {\n        for (let i = 0; i < firstPosition - nextFirstPosition; i++) {\n          this.#resizersDiv.append(this.#resizersDiv.firstChild);\n        }\n      } else if (nextFirstPosition > firstPosition) {\n        for (let i = 0; i < nextFirstPosition - firstPosition; i++) {\n          this.#resizersDiv.firstChild.before(this.#resizersDiv.lastChild);\n        }\n      }\n      let i = 0;\n      for (const child of children) {\n        const div = this.#allResizerDivs[i++];\n        const name = div.getAttribute(\"data-resizer-name\");\n        AnnotationEditor._l10nPromise.get(`pdfjs-editor-resizer-label-${name}`).then(msg => child.setAttribute(\"aria-label\", msg));\n      }\n    }\n    this.#setResizerTabIndex(0);\n    this.#isResizerEnabledForKeyboard = true;\n    this.#resizersDiv.firstChild.focus({\n      focusVisible: true\n    });\n    event.preventDefault();\n    event.stopImmediatePropagation();\n  }\n  #resizerKeydown(event) {\n    AnnotationEditor._resizerKeyboardManager.exec(this, event);\n  }\n  #resizerBlur(event) {\n    if (this.#isResizerEnabledForKeyboard && event.relatedTarget?.parentNode !== this.#resizersDiv) {\n      this.#stopResizing();\n    }\n  }\n  #resizerFocus(name) {\n    this.#focusedResizerName = this.#isResizerEnabledForKeyboard ? name : \"\";\n  }\n  #setResizerTabIndex(value) {\n    if (!this.#allResizerDivs) {\n      return;\n    }\n    for (const div of this.#allResizerDivs) {\n      div.tabIndex = value;\n    }\n  }\n  _resizeWithKeyboard(x, y) {\n    if (!this.#isResizerEnabledForKeyboard) {\n      return;\n    }\n    this.#resizerPointermove(this.#focusedResizerName, {\n      movementX: x,\n      movementY: y\n    });\n  }\n  #stopResizing() {\n    this.#isResizerEnabledForKeyboard = false;\n    this.#setResizerTabIndex(-1);\n    if (this.#savedDimensions) {\n      const {\n        savedX,\n        savedY,\n        savedWidth,\n        savedHeight\n      } = this.#savedDimensions;\n      this.#addResizeToUndoStack(savedX, savedY, savedWidth, savedHeight);\n      this.#savedDimensions = null;\n    }\n  }\n  _stopResizingWithKeyboard() {\n    this.#stopResizing();\n    this.div.focus();\n  }\n  select() {\n    this.makeResizable();\n    this.div?.classList.add(\"selectedEditor\");\n    if (!this.#editToolbar) {\n      this.addEditToolbar().then(() => {\n        if (this.div?.classList.contains(\"selectedEditor\")) {\n          this.#editToolbar?.show();\n        }\n      });\n      return;\n    }\n    this.#editToolbar?.show();\n  }\n  unselect() {\n    this.#resizersDiv?.classList.add(\"hidden\");\n    this.div?.classList.remove(\"selectedEditor\");\n    if (this.div?.contains(document.activeElement)) {\n      this._uiManager.currentLayer.div.focus({\n        preventScroll: true\n      });\n    }\n    this.#editToolbar?.hide();\n  }\n  updateParams(type, value) {}\n  disableEditing() {}\n  enableEditing() {}\n  enterInEditMode() {}\n  getImageForAltText() {\n    return null;\n  }\n  get contentDiv() {\n    return this.div;\n  }\n  get isEditing() {\n    return this.#isEditing;\n  }\n  set isEditing(value) {\n    this.#isEditing = value;\n    if (!this.parent) {\n      return;\n    }\n    if (value) {\n      this.parent.setSelected(this);\n      this.parent.setActiveEditor(this);\n    } else {\n      this.parent.setActiveEditor(null);\n    }\n  }\n  setAspectRatio(width, height) {\n    this.#keepAspectRatio = true;\n    const aspectRatio = width / height;\n    const {\n      style\n    } = this.div;\n    style.aspectRatio = aspectRatio;\n    style.height = \"auto\";\n  }\n  static get MIN_SIZE() {\n    return 16;\n  }\n  static canCreateNewEmptyEditor() {\n    return true;\n  }\n  get telemetryInitialData() {\n    return {\n      action: \"added\"\n    };\n  }\n  get telemetryFinalData() {\n    return null;\n  }\n  _reportTelemetry(data, mustWait = false) {\n    if (mustWait) {\n      this.#telemetryTimeouts ||= new Map();\n      const {\n        action\n      } = data;\n      let timeout = this.#telemetryTimeouts.get(action);\n      if (timeout) {\n        clearTimeout(timeout);\n      }\n      timeout = setTimeout(() => {\n        this._reportTelemetry(data);\n        this.#telemetryTimeouts.delete(action);\n        if (this.#telemetryTimeouts.size === 0) {\n          this.#telemetryTimeouts = null;\n        }\n      }, AnnotationEditor._telemetryTimeout);\n      this.#telemetryTimeouts.set(action, timeout);\n      return;\n    }\n    data.type ||= this.editorType;\n    this._uiManager._eventBus.dispatch(\"reporttelemetry\", {\n      source: this,\n      details: {\n        type: \"editing\",\n        data\n      }\n    });\n  }\n  show(visible = this._isVisible) {\n    this.div.classList.toggle(\"hidden\", !visible);\n    this._isVisible = visible;\n  }\n  enable() {\n    if (this.div) {\n      this.div.tabIndex = 0;\n    }\n    this.#disabled = false;\n  }\n  disable() {\n    if (this.div) {\n      this.div.tabIndex = -1;\n    }\n    this.#disabled = true;\n  }\n  renderAnnotationElement(annotation) {\n    let content = annotation.container.querySelector(\".annotationContent\");\n    if (!content) {\n      content = document.createElement(\"div\");\n      content.classList.add(\"annotationContent\", this.editorType);\n      annotation.container.prepend(content);\n    } else if (content.nodeName === \"CANVAS\") {\n      const canvas = content;\n      content = document.createElement(\"div\");\n      content.classList.add(\"annotationContent\", this.editorType);\n      canvas.before(content);\n    }\n    return content;\n  }\n  resetAnnotationElement(annotation) {\n    const {\n      firstChild\n    } = annotation.container;\n    if (firstChild.nodeName === \"DIV\" && firstChild.classList.contains(\"annotationContent\")) {\n      firstChild.remove();\n    }\n  }\n}\nclass FakeEditor extends AnnotationEditor {\n  constructor(params) {\n    super(params);\n    this.annotationElementId = params.annotationElementId;\n    this.deleted = true;\n  }\n  serialize() {\n    return {\n      id: this.annotationElementId,\n      deleted: true,\n      pageIndex: this.pageIndex\n    };\n  }\n}\n\n\n/***/ }),\n\n/***/ 61:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FreeOutliner: () => (/* binding */ FreeOutliner),\n/* harmony export */   Outliner: () => (/* binding */ Outliner)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n\nclass Outliner {\n  #box;\n  #verticalEdges = [];\n  #intervals = [];\n  constructor(boxes, borderWidth = 0, innerMargin = 0, isLTR = true) {\n    let minX = Infinity;\n    let maxX = -Infinity;\n    let minY = Infinity;\n    let maxY = -Infinity;\n    const NUMBER_OF_DIGITS = 4;\n    const EPSILON = 10 ** -NUMBER_OF_DIGITS;\n    for (const {\n      x,\n      y,\n      width,\n      height\n    } of boxes) {\n      const x1 = Math.floor((x - borderWidth) / EPSILON) * EPSILON;\n      const x2 = Math.ceil((x + width + borderWidth) / EPSILON) * EPSILON;\n      const y1 = Math.floor((y - borderWidth) / EPSILON) * EPSILON;\n      const y2 = Math.ceil((y + height + borderWidth) / EPSILON) * EPSILON;\n      const left = [x1, y1, y2, true];\n      const right = [x2, y1, y2, false];\n      this.#verticalEdges.push(left, right);\n      minX = Math.min(minX, x1);\n      maxX = Math.max(maxX, x2);\n      minY = Math.min(minY, y1);\n      maxY = Math.max(maxY, y2);\n    }\n    const bboxWidth = maxX - minX + 2 * innerMargin;\n    const bboxHeight = maxY - minY + 2 * innerMargin;\n    const shiftedMinX = minX - innerMargin;\n    const shiftedMinY = minY - innerMargin;\n    const lastEdge = this.#verticalEdges.at(isLTR ? -1 : -2);\n    const lastPoint = [lastEdge[0], lastEdge[2]];\n    for (const edge of this.#verticalEdges) {\n      const [x, y1, y2] = edge;\n      edge[0] = (x - shiftedMinX) / bboxWidth;\n      edge[1] = (y1 - shiftedMinY) / bboxHeight;\n      edge[2] = (y2 - shiftedMinY) / bboxHeight;\n    }\n    this.#box = {\n      x: shiftedMinX,\n      y: shiftedMinY,\n      width: bboxWidth,\n      height: bboxHeight,\n      lastPoint\n    };\n  }\n  getOutlines() {\n    this.#verticalEdges.sort((a, b) => a[0] - b[0] || a[1] - b[1] || a[2] - b[2]);\n    const outlineVerticalEdges = [];\n    for (const edge of this.#verticalEdges) {\n      if (edge[3]) {\n        outlineVerticalEdges.push(...this.#breakEdge(edge));\n        this.#insert(edge);\n      } else {\n        this.#remove(edge);\n        outlineVerticalEdges.push(...this.#breakEdge(edge));\n      }\n    }\n    return this.#getOutlines(outlineVerticalEdges);\n  }\n  #getOutlines(outlineVerticalEdges) {\n    const edges = [];\n    const allEdges = new Set();\n    for (const edge of outlineVerticalEdges) {\n      const [x, y1, y2] = edge;\n      edges.push([x, y1, edge], [x, y2, edge]);\n    }\n    edges.sort((a, b) => a[1] - b[1] || a[0] - b[0]);\n    for (let i = 0, ii = edges.length; i < ii; i += 2) {\n      const edge1 = edges[i][2];\n      const edge2 = edges[i + 1][2];\n      edge1.push(edge2);\n      edge2.push(edge1);\n      allEdges.add(edge1);\n      allEdges.add(edge2);\n    }\n    const outlines = [];\n    let outline;\n    while (allEdges.size > 0) {\n      const edge = allEdges.values().next().value;\n      let [x, y1, y2, edge1, edge2] = edge;\n      allEdges.delete(edge);\n      let lastPointX = x;\n      let lastPointY = y1;\n      outline = [x, y2];\n      outlines.push(outline);\n      while (true) {\n        let e;\n        if (allEdges.has(edge1)) {\n          e = edge1;\n        } else if (allEdges.has(edge2)) {\n          e = edge2;\n        } else {\n          break;\n        }\n        allEdges.delete(e);\n        [x, y1, y2, edge1, edge2] = e;\n        if (lastPointX !== x) {\n          outline.push(lastPointX, lastPointY, x, lastPointY === y1 ? y1 : y2);\n          lastPointX = x;\n        }\n        lastPointY = lastPointY === y1 ? y2 : y1;\n      }\n      outline.push(lastPointX, lastPointY);\n    }\n    return new HighlightOutline(outlines, this.#box);\n  }\n  #binarySearch(y) {\n    const array = this.#intervals;\n    let start = 0;\n    let end = array.length - 1;\n    while (start <= end) {\n      const middle = start + end >> 1;\n      const y1 = array[middle][0];\n      if (y1 === y) {\n        return middle;\n      }\n      if (y1 < y) {\n        start = middle + 1;\n      } else {\n        end = middle - 1;\n      }\n    }\n    return end + 1;\n  }\n  #insert([, y1, y2]) {\n    const index = this.#binarySearch(y1);\n    this.#intervals.splice(index, 0, [y1, y2]);\n  }\n  #remove([, y1, y2]) {\n    const index = this.#binarySearch(y1);\n    for (let i = index; i < this.#intervals.length; i++) {\n      const [start, end] = this.#intervals[i];\n      if (start !== y1) {\n        break;\n      }\n      if (start === y1 && end === y2) {\n        this.#intervals.splice(i, 1);\n        return;\n      }\n    }\n    for (let i = index - 1; i >= 0; i--) {\n      const [start, end] = this.#intervals[i];\n      if (start !== y1) {\n        break;\n      }\n      if (start === y1 && end === y2) {\n        this.#intervals.splice(i, 1);\n        return;\n      }\n    }\n  }\n  #breakEdge(edge) {\n    const [x, y1, y2] = edge;\n    const results = [[x, y1, y2]];\n    const index = this.#binarySearch(y2);\n    for (let i = 0; i < index; i++) {\n      const [start, end] = this.#intervals[i];\n      for (let j = 0, jj = results.length; j < jj; j++) {\n        const [, y3, y4] = results[j];\n        if (end <= y3 || y4 <= start) {\n          continue;\n        }\n        if (y3 >= start) {\n          if (y4 > end) {\n            results[j][1] = end;\n          } else {\n            if (jj === 1) {\n              return [];\n            }\n            results.splice(j, 1);\n            j--;\n            jj--;\n          }\n          continue;\n        }\n        results[j][2] = start;\n        if (y4 > end) {\n          results.push([x, end, y4]);\n        }\n      }\n    }\n    return results;\n  }\n}\nclass Outline {\n  toSVGPath() {\n    throw new Error(\"Abstract method `toSVGPath` must be implemented.\");\n  }\n  get box() {\n    throw new Error(\"Abstract getter `box` must be implemented.\");\n  }\n  serialize(_bbox, _rotation) {\n    throw new Error(\"Abstract method `serialize` must be implemented.\");\n  }\n  get free() {\n    return this instanceof FreeHighlightOutline;\n  }\n}\nclass HighlightOutline extends Outline {\n  #box;\n  #outlines;\n  constructor(outlines, box) {\n    super();\n    this.#outlines = outlines;\n    this.#box = box;\n  }\n  toSVGPath() {\n    const buffer = [];\n    for (const polygon of this.#outlines) {\n      let [prevX, prevY] = polygon;\n      buffer.push(`M${prevX} ${prevY}`);\n      for (let i = 2; i < polygon.length; i += 2) {\n        const x = polygon[i];\n        const y = polygon[i + 1];\n        if (x === prevX) {\n          buffer.push(`V${y}`);\n          prevY = y;\n        } else if (y === prevY) {\n          buffer.push(`H${x}`);\n          prevX = x;\n        }\n      }\n      buffer.push(\"Z\");\n    }\n    return buffer.join(\" \");\n  }\n  serialize([blX, blY, trX, trY], _rotation) {\n    const outlines = [];\n    const width = trX - blX;\n    const height = trY - blY;\n    for (const outline of this.#outlines) {\n      const points = new Array(outline.length);\n      for (let i = 0; i < outline.length; i += 2) {\n        points[i] = blX + outline[i] * width;\n        points[i + 1] = trY - outline[i + 1] * height;\n      }\n      outlines.push(points);\n    }\n    return outlines;\n  }\n  get box() {\n    return this.#box;\n  }\n}\nclass FreeOutliner {\n  #box;\n  #bottom = [];\n  #innerMargin;\n  #isLTR;\n  #top = [];\n  #last = new Float64Array(18);\n  #lastX;\n  #lastY;\n  #min;\n  #min_dist;\n  #scaleFactor;\n  #thickness;\n  #points = [];\n  static #MIN_DIST = 8;\n  static #MIN_DIFF = 2;\n  static #MIN = FreeOutliner.#MIN_DIST + FreeOutliner.#MIN_DIFF;\n  constructor({\n    x,\n    y\n  }, box, scaleFactor, thickness, isLTR, innerMargin = 0) {\n    this.#box = box;\n    this.#thickness = thickness * scaleFactor;\n    this.#isLTR = isLTR;\n    this.#last.set([NaN, NaN, NaN, NaN, x, y], 6);\n    this.#innerMargin = innerMargin;\n    this.#min_dist = FreeOutliner.#MIN_DIST * scaleFactor;\n    this.#min = FreeOutliner.#MIN * scaleFactor;\n    this.#scaleFactor = scaleFactor;\n    this.#points.push(x, y);\n  }\n  get free() {\n    return true;\n  }\n  isEmpty() {\n    return isNaN(this.#last[8]);\n  }\n  #getLastCoords() {\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [x, y, width, height] = this.#box;\n    return [(this.#lastX + (lastTop[0] - lastBottom[0]) / 2 - x) / width, (this.#lastY + (lastTop[1] - lastBottom[1]) / 2 - y) / height, (this.#lastX + (lastBottom[0] - lastTop[0]) / 2 - x) / width, (this.#lastY + (lastBottom[1] - lastTop[1]) / 2 - y) / height];\n  }\n  add({\n    x,\n    y\n  }) {\n    this.#lastX = x;\n    this.#lastY = y;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    let [x1, y1, x2, y2] = this.#last.subarray(8, 12);\n    const diffX = x - x2;\n    const diffY = y - y2;\n    const d = Math.hypot(diffX, diffY);\n    if (d < this.#min) {\n      return false;\n    }\n    const diffD = d - this.#min_dist;\n    const K = diffD / d;\n    const shiftX = K * diffX;\n    const shiftY = K * diffY;\n    let x0 = x1;\n    let y0 = y1;\n    x1 = x2;\n    y1 = y2;\n    x2 += shiftX;\n    y2 += shiftY;\n    this.#points?.push(x, y);\n    const nX = -shiftY / diffD;\n    const nY = shiftX / diffD;\n    const thX = nX * this.#thickness;\n    const thY = nY * this.#thickness;\n    this.#last.set(this.#last.subarray(2, 8), 0);\n    this.#last.set([x2 + thX, y2 + thY], 4);\n    this.#last.set(this.#last.subarray(14, 18), 12);\n    this.#last.set([x2 - thX, y2 - thY], 16);\n    if (isNaN(this.#last[6])) {\n      if (this.#top.length === 0) {\n        this.#last.set([x1 + thX, y1 + thY], 2);\n        this.#top.push(NaN, NaN, NaN, NaN, (x1 + thX - layerX) / layerWidth, (y1 + thY - layerY) / layerHeight);\n        this.#last.set([x1 - thX, y1 - thY], 14);\n        this.#bottom.push(NaN, NaN, NaN, NaN, (x1 - thX - layerX) / layerWidth, (y1 - thY - layerY) / layerHeight);\n      }\n      this.#last.set([x0, y0, x1, y1, x2, y2], 6);\n      return !this.isEmpty();\n    }\n    this.#last.set([x0, y0, x1, y1, x2, y2], 6);\n    const angle = Math.abs(Math.atan2(y0 - y1, x0 - x1) - Math.atan2(shiftY, shiftX));\n    if (angle < Math.PI / 2) {\n      [x1, y1, x2, y2] = this.#last.subarray(2, 6);\n      this.#top.push(NaN, NaN, NaN, NaN, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n      [x1, y1, x0, y0] = this.#last.subarray(14, 18);\n      this.#bottom.push(NaN, NaN, NaN, NaN, ((x0 + x1) / 2 - layerX) / layerWidth, ((y0 + y1) / 2 - layerY) / layerHeight);\n      return true;\n    }\n    [x0, y0, x1, y1, x2, y2] = this.#last.subarray(0, 6);\n    this.#top.push(((x0 + 5 * x1) / 6 - layerX) / layerWidth, ((y0 + 5 * y1) / 6 - layerY) / layerHeight, ((5 * x1 + x2) / 6 - layerX) / layerWidth, ((5 * y1 + y2) / 6 - layerY) / layerHeight, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n    [x2, y2, x1, y1, x0, y0] = this.#last.subarray(12, 18);\n    this.#bottom.push(((x0 + 5 * x1) / 6 - layerX) / layerWidth, ((y0 + 5 * y1) / 6 - layerY) / layerHeight, ((5 * x1 + x2) / 6 - layerX) / layerWidth, ((5 * y1 + y2) / 6 - layerY) / layerHeight, ((x1 + x2) / 2 - layerX) / layerWidth, ((y1 + y2) / 2 - layerY) / layerHeight);\n    return true;\n  }\n  toSVGPath() {\n    if (this.isEmpty()) {\n      return \"\";\n    }\n    const top = this.#top;\n    const bottom = this.#bottom;\n    const lastTop = this.#last.subarray(4, 6);\n    const lastBottom = this.#last.subarray(16, 18);\n    const [x, y, width, height] = this.#box;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    if (isNaN(this.#last[6]) && !this.isEmpty()) {\n      return `M${(this.#last[2] - x) / width} ${(this.#last[3] - y) / height} L${(this.#last[4] - x) / width} ${(this.#last[5] - y) / height} L${lastTopX} ${lastTopY} L${lastBottomX} ${lastBottomY} L${(this.#last[16] - x) / width} ${(this.#last[17] - y) / height} L${(this.#last[14] - x) / width} ${(this.#last[15] - y) / height} Z`;\n    }\n    const buffer = [];\n    buffer.push(`M${top[4]} ${top[5]}`);\n    for (let i = 6; i < top.length; i += 6) {\n      if (isNaN(top[i])) {\n        buffer.push(`L${top[i + 4]} ${top[i + 5]}`);\n      } else {\n        buffer.push(`C${top[i]} ${top[i + 1]} ${top[i + 2]} ${top[i + 3]} ${top[i + 4]} ${top[i + 5]}`);\n      }\n    }\n    buffer.push(`L${(lastTop[0] - x) / width} ${(lastTop[1] - y) / height} L${lastTopX} ${lastTopY} L${lastBottomX} ${lastBottomY} L${(lastBottom[0] - x) / width} ${(lastBottom[1] - y) / height}`);\n    for (let i = bottom.length - 6; i >= 6; i -= 6) {\n      if (isNaN(bottom[i])) {\n        buffer.push(`L${bottom[i + 4]} ${bottom[i + 5]}`);\n      } else {\n        buffer.push(`C${bottom[i]} ${bottom[i + 1]} ${bottom[i + 2]} ${bottom[i + 3]} ${bottom[i + 4]} ${bottom[i + 5]}`);\n      }\n    }\n    buffer.push(`L${bottom[4]} ${bottom[5]} Z`);\n    return buffer.join(\" \");\n  }\n  getOutlines() {\n    const top = this.#top;\n    const bottom = this.#bottom;\n    const last = this.#last;\n    const lastTop = last.subarray(4, 6);\n    const lastBottom = last.subarray(16, 18);\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const points = new Float64Array((this.#points?.length ?? 0) + 2);\n    for (let i = 0, ii = points.length - 2; i < ii; i += 2) {\n      points[i] = (this.#points[i] - layerX) / layerWidth;\n      points[i + 1] = (this.#points[i + 1] - layerY) / layerHeight;\n    }\n    points[points.length - 2] = (this.#lastX - layerX) / layerWidth;\n    points[points.length - 1] = (this.#lastY - layerY) / layerHeight;\n    const [lastTopX, lastTopY, lastBottomX, lastBottomY] = this.#getLastCoords();\n    if (isNaN(last[6]) && !this.isEmpty()) {\n      const outline = new Float64Array(36);\n      outline.set([NaN, NaN, NaN, NaN, (last[2] - layerX) / layerWidth, (last[3] - layerY) / layerHeight, NaN, NaN, NaN, NaN, (last[4] - layerX) / layerWidth, (last[5] - layerY) / layerHeight, NaN, NaN, NaN, NaN, lastTopX, lastTopY, NaN, NaN, NaN, NaN, lastBottomX, lastBottomY, NaN, NaN, NaN, NaN, (last[16] - layerX) / layerWidth, (last[17] - layerY) / layerHeight, NaN, NaN, NaN, NaN, (last[14] - layerX) / layerWidth, (last[15] - layerY) / layerHeight], 0);\n      return new FreeHighlightOutline(outline, points, this.#box, this.#scaleFactor, this.#innerMargin, this.#isLTR);\n    }\n    const outline = new Float64Array(this.#top.length + 24 + this.#bottom.length);\n    let N = top.length;\n    for (let i = 0; i < N; i += 2) {\n      if (isNaN(top[i])) {\n        outline[i] = outline[i + 1] = NaN;\n        continue;\n      }\n      outline[i] = top[i];\n      outline[i + 1] = top[i + 1];\n    }\n    outline.set([NaN, NaN, NaN, NaN, (lastTop[0] - layerX) / layerWidth, (lastTop[1] - layerY) / layerHeight, NaN, NaN, NaN, NaN, lastTopX, lastTopY, NaN, NaN, NaN, NaN, lastBottomX, lastBottomY, NaN, NaN, NaN, NaN, (lastBottom[0] - layerX) / layerWidth, (lastBottom[1] - layerY) / layerHeight], N);\n    N += 24;\n    for (let i = bottom.length - 6; i >= 6; i -= 6) {\n      for (let j = 0; j < 6; j += 2) {\n        if (isNaN(bottom[i + j])) {\n          outline[N] = outline[N + 1] = NaN;\n          N += 2;\n          continue;\n        }\n        outline[N] = bottom[i + j];\n        outline[N + 1] = bottom[i + j + 1];\n        N += 2;\n      }\n    }\n    outline.set([NaN, NaN, NaN, NaN, bottom[4], bottom[5]], N);\n    return new FreeHighlightOutline(outline, points, this.#box, this.#scaleFactor, this.#innerMargin, this.#isLTR);\n  }\n}\nclass FreeHighlightOutline extends Outline {\n  #box;\n  #bbox = null;\n  #innerMargin;\n  #isLTR;\n  #points;\n  #scaleFactor;\n  #outline;\n  constructor(outline, points, box, scaleFactor, innerMargin, isLTR) {\n    super();\n    this.#outline = outline;\n    this.#points = points;\n    this.#box = box;\n    this.#scaleFactor = scaleFactor;\n    this.#innerMargin = innerMargin;\n    this.#isLTR = isLTR;\n    this.#computeMinMax(isLTR);\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this.#bbox;\n    for (let i = 0, ii = outline.length; i < ii; i += 2) {\n      outline[i] = (outline[i] - x) / width;\n      outline[i + 1] = (outline[i + 1] - y) / height;\n    }\n    for (let i = 0, ii = points.length; i < ii; i += 2) {\n      points[i] = (points[i] - x) / width;\n      points[i + 1] = (points[i + 1] - y) / height;\n    }\n  }\n  toSVGPath() {\n    const buffer = [`M${this.#outline[4]} ${this.#outline[5]}`];\n    for (let i = 6, ii = this.#outline.length; i < ii; i += 6) {\n      if (isNaN(this.#outline[i])) {\n        buffer.push(`L${this.#outline[i + 4]} ${this.#outline[i + 5]}`);\n        continue;\n      }\n      buffer.push(`C${this.#outline[i]} ${this.#outline[i + 1]} ${this.#outline[i + 2]} ${this.#outline[i + 3]} ${this.#outline[i + 4]} ${this.#outline[i + 5]}`);\n    }\n    buffer.push(\"Z\");\n    return buffer.join(\" \");\n  }\n  serialize([blX, blY, trX, trY], rotation) {\n    const width = trX - blX;\n    const height = trY - blY;\n    let outline;\n    let points;\n    switch (rotation) {\n      case 0:\n        outline = this.#rescale(this.#outline, blX, trY, width, -height);\n        points = this.#rescale(this.#points, blX, trY, width, -height);\n        break;\n      case 90:\n        outline = this.#rescaleAndSwap(this.#outline, blX, blY, width, height);\n        points = this.#rescaleAndSwap(this.#points, blX, blY, width, height);\n        break;\n      case 180:\n        outline = this.#rescale(this.#outline, trX, blY, -width, height);\n        points = this.#rescale(this.#points, trX, blY, -width, height);\n        break;\n      case 270:\n        outline = this.#rescaleAndSwap(this.#outline, trX, trY, -width, -height);\n        points = this.#rescaleAndSwap(this.#points, trX, trY, -width, -height);\n        break;\n    }\n    return {\n      outline: Array.from(outline),\n      points: [Array.from(points)]\n    };\n  }\n  #rescale(src, tx, ty, sx, sy) {\n    const dest = new Float64Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i] * sx;\n      dest[i + 1] = ty + src[i + 1] * sy;\n    }\n    return dest;\n  }\n  #rescaleAndSwap(src, tx, ty, sx, sy) {\n    const dest = new Float64Array(src.length);\n    for (let i = 0, ii = src.length; i < ii; i += 2) {\n      dest[i] = tx + src[i + 1] * sx;\n      dest[i + 1] = ty + src[i] * sy;\n    }\n    return dest;\n  }\n  #computeMinMax(isLTR) {\n    const outline = this.#outline;\n    let lastX = outline[4];\n    let lastY = outline[5];\n    let minX = lastX;\n    let minY = lastY;\n    let maxX = lastX;\n    let maxY = lastY;\n    let lastPointX = lastX;\n    let lastPointY = lastY;\n    const ltrCallback = isLTR ? Math.max : Math.min;\n    for (let i = 6, ii = outline.length; i < ii; i += 6) {\n      if (isNaN(outline[i])) {\n        minX = Math.min(minX, outline[i + 4]);\n        minY = Math.min(minY, outline[i + 5]);\n        maxX = Math.max(maxX, outline[i + 4]);\n        maxY = Math.max(maxY, outline[i + 5]);\n        if (lastPointY < outline[i + 5]) {\n          lastPointX = outline[i + 4];\n          lastPointY = outline[i + 5];\n        } else if (lastPointY === outline[i + 5]) {\n          lastPointX = ltrCallback(lastPointX, outline[i + 4]);\n        }\n      } else {\n        const bbox = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.Util.bezierBoundingBox(lastX, lastY, ...outline.slice(i, i + 6));\n        minX = Math.min(minX, bbox[0]);\n        minY = Math.min(minY, bbox[1]);\n        maxX = Math.max(maxX, bbox[2]);\n        maxY = Math.max(maxY, bbox[3]);\n        if (lastPointY < bbox[3]) {\n          lastPointX = bbox[2];\n          lastPointY = bbox[3];\n        } else if (lastPointY === bbox[3]) {\n          lastPointX = ltrCallback(lastPointX, bbox[2]);\n        }\n      }\n      lastX = outline[i + 4];\n      lastY = outline[i + 5];\n    }\n    const x = minX - this.#innerMargin,\n      y = minY - this.#innerMargin,\n      width = maxX - minX + 2 * this.#innerMargin,\n      height = maxY - minY + 2 * this.#innerMargin;\n    this.#bbox = {\n      x,\n      y,\n      width,\n      height,\n      lastPoint: [lastPointX, lastPointY]\n    };\n  }\n  get box() {\n    return this.#bbox;\n  }\n  getNewOutline(thickness, innerMargin) {\n    const {\n      x,\n      y,\n      width,\n      height\n    } = this.#bbox;\n    const [layerX, layerY, layerWidth, layerHeight] = this.#box;\n    const sx = width * layerWidth;\n    const sy = height * layerHeight;\n    const tx = x * layerWidth + layerX;\n    const ty = y * layerHeight + layerY;\n    const outliner = new FreeOutliner({\n      x: this.#points[0] * sx + tx,\n      y: this.#points[1] * sy + ty\n    }, this.#box, this.#scaleFactor, thickness, this.#isLTR, innerMargin ?? this.#innerMargin);\n    for (let i = 2; i < this.#points.length; i += 2) {\n      outliner.add({\n        x: this.#points[i] * sx + tx,\n        y: this.#points[i + 1] * sy + ty\n      });\n    }\n    return outliner.getOutlines();\n  }\n}\n\n\n/***/ }),\n\n/***/ 362:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditorToolbar: () => (/* binding */ EditorToolbar),\n/* harmony export */   HighlightToolbar: () => (/* binding */ HighlightToolbar)\n/* harmony export */ });\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(419);\n\nclass EditorToolbar {\n  #toolbar = null;\n  #colorPicker = null;\n  #editor;\n  #buttons = null;\n  constructor(editor) {\n    this.#editor = editor;\n  }\n  render() {\n    const editToolbar = this.#toolbar = document.createElement(\"div\");\n    editToolbar.className = \"editToolbar\";\n    editToolbar.setAttribute(\"role\", \"toolbar\");\n    editToolbar.addEventListener(\"contextmenu\", _display_utils_js__WEBPACK_IMPORTED_MODULE_0__.noContextMenu);\n    editToolbar.addEventListener(\"pointerdown\", EditorToolbar.#pointerDown);\n    const buttons = this.#buttons = document.createElement(\"div\");\n    buttons.className = \"buttons\";\n    editToolbar.append(buttons);\n    const position = this.#editor.toolbarPosition;\n    if (position) {\n      const {\n        style\n      } = editToolbar;\n      const x = this.#editor._uiManager.direction === \"ltr\" ? 1 - position[0] : position[0];\n      style.insetInlineEnd = `${100 * x}%`;\n      style.top = `calc(${100 * position[1]}% + var(--editor-toolbar-vert-offset))`;\n    }\n    this.#addDeleteButton();\n    return editToolbar;\n  }\n  static #pointerDown(e) {\n    e.stopPropagation();\n  }\n  #focusIn(e) {\n    this.#editor._focusEventsAllowed = false;\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  #focusOut(e) {\n    this.#editor._focusEventsAllowed = true;\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  #addListenersToElement(element) {\n    element.addEventListener(\"focusin\", this.#focusIn.bind(this), {\n      capture: true\n    });\n    element.addEventListener(\"focusout\", this.#focusOut.bind(this), {\n      capture: true\n    });\n    element.addEventListener(\"contextmenu\", _display_utils_js__WEBPACK_IMPORTED_MODULE_0__.noContextMenu);\n  }\n  hide() {\n    this.#toolbar.classList.add(\"hidden\");\n    this.#colorPicker?.hideDropdown();\n  }\n  show() {\n    this.#toolbar.classList.remove(\"hidden\");\n  }\n  #addDeleteButton() {\n    const button = document.createElement(\"button\");\n    button.className = \"delete\";\n    button.tabIndex = 0;\n    button.setAttribute(\"data-l10n-id\", `pdfjs-editor-remove-${this.#editor.editorType}-button`);\n    this.#addListenersToElement(button);\n    button.addEventListener(\"click\", e => {\n      this.#editor._uiManager.delete();\n    });\n    this.#buttons.append(button);\n  }\n  get #divider() {\n    const divider = document.createElement(\"div\");\n    divider.className = \"divider\";\n    return divider;\n  }\n  addAltTextButton(button) {\n    this.#addListenersToElement(button);\n    this.#buttons.prepend(button, this.#divider);\n  }\n  addColorPicker(colorPicker) {\n    this.#colorPicker = colorPicker;\n    const button = colorPicker.renderButton();\n    this.#addListenersToElement(button);\n    this.#buttons.prepend(button, this.#divider);\n  }\n  remove() {\n    this.#toolbar.remove();\n    this.#colorPicker?.destroy();\n    this.#colorPicker = null;\n  }\n}\nclass HighlightToolbar {\n  #buttons = null;\n  #toolbar = null;\n  #uiManager;\n  constructor(uiManager) {\n    this.#uiManager = uiManager;\n  }\n  #render() {\n    const editToolbar = this.#toolbar = document.createElement(\"div\");\n    editToolbar.className = \"editToolbar\";\n    editToolbar.setAttribute(\"role\", \"toolbar\");\n    editToolbar.addEventListener(\"contextmenu\", _display_utils_js__WEBPACK_IMPORTED_MODULE_0__.noContextMenu);\n    const buttons = this.#buttons = document.createElement(\"div\");\n    buttons.className = \"buttons\";\n    editToolbar.append(buttons);\n    this.#addHighlightButton();\n    return editToolbar;\n  }\n  #getLastPoint(boxes, isLTR) {\n    let lastY = 0;\n    let lastX = 0;\n    for (const box of boxes) {\n      const y = box.y + box.height;\n      if (y < lastY) {\n        continue;\n      }\n      const x = box.x + (isLTR ? box.width : 0);\n      if (y > lastY) {\n        lastX = x;\n        lastY = y;\n        continue;\n      }\n      if (isLTR) {\n        if (x > lastX) {\n          lastX = x;\n        }\n      } else if (x < lastX) {\n        lastX = x;\n      }\n    }\n    return [isLTR ? 1 - lastX : lastX, lastY];\n  }\n  show(parent, boxes, isLTR) {\n    const [x, y] = this.#getLastPoint(boxes, isLTR);\n    const {\n      style\n    } = this.#toolbar ||= this.#render();\n    parent.append(this.#toolbar);\n    style.insetInlineEnd = `${100 * x}%`;\n    style.top = `calc(${100 * y}% + var(--editor-toolbar-vert-offset))`;\n  }\n  hide() {\n    this.#toolbar.remove();\n  }\n  #addHighlightButton() {\n    const button = document.createElement(\"button\");\n    button.className = \"highlightButton\";\n    button.tabIndex = 0;\n    button.setAttribute(\"data-l10n-id\", `pdfjs-highlight-floating-button1`);\n    const span = document.createElement(\"span\");\n    button.append(span);\n    span.className = \"visuallyHidden\";\n    span.setAttribute(\"data-l10n-id\", \"pdfjs-highlight-floating-button-label\");\n    button.addEventListener(\"contextmenu\", _display_utils_js__WEBPACK_IMPORTED_MODULE_0__.noContextMenu);\n    button.addEventListener(\"click\", () => {\n      this.#uiManager.highlightSelection(\"floating_button\");\n    });\n    this.#buttons.append(button);\n  }\n}\n\n\n/***/ }),\n\n/***/ 830:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AnnotationEditorUIManager: () => (/* binding */ AnnotationEditorUIManager),\n/* harmony export */   ColorManager: () => (/* binding */ ColorManager),\n/* harmony export */   KeyboardManager: () => (/* binding */ KeyboardManager),\n/* harmony export */   bindEvents: () => (/* binding */ bindEvents),\n/* harmony export */   opacityToHex: () => (/* binding */ opacityToHex)\n/* harmony export */ });\n/* unused harmony export CommandManager */\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(419);\n/* harmony import */ var _toolbar_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(362);\n\n\n\nfunction bindEvents(obj, element, names) {\n  for (const name of names) {\n    element.addEventListener(name, obj[name].bind(obj));\n  }\n}\nfunction opacityToHex(opacity) {\n  return Math.round(Math.min(255, Math.max(1, 255 * opacity))).toString(16).padStart(2, \"0\");\n}\nclass IdManager {\n  #id = 0;\n  constructor() {}\n  get id() {\n    return `${_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorPrefix}${this.#id++}`;\n  }\n}\nclass ImageManager {\n  #baseId = (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.getUuid)();\n  #id = 0;\n  #cache = null;\n  static get _isSVGFittingCanvas() {\n    const svg = `data:image/svg+xml;charset=UTF-8,<svg viewBox=\"0 0 1 1\" width=\"1\" height=\"1\" xmlns=\"http://www.w3.org/2000/svg\"><rect width=\"1\" height=\"1\" style=\"fill:red;\"/></svg>`;\n    const canvas = new OffscreenCanvas(1, 3);\n    const ctx = canvas.getContext(\"2d\");\n    const image = new Image();\n    image.src = svg;\n    const promise = image.decode().then(() => {\n      ctx.drawImage(image, 0, 0, 1, 1, 0, 0, 1, 3);\n      return new Uint32Array(ctx.getImageData(0, 0, 1, 1).data.buffer)[0] === 0;\n    });\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"_isSVGFittingCanvas\", promise);\n  }\n  async #get(key, rawData) {\n    this.#cache ||= new Map();\n    let data = this.#cache.get(key);\n    if (data === null) {\n      return null;\n    }\n    if (data?.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    try {\n      data ||= {\n        bitmap: null,\n        id: `image_${this.#baseId}_${this.#id++}`,\n        refCounter: 0,\n        isSvg: false\n      };\n      let image;\n      if (typeof rawData === \"string\") {\n        data.url = rawData;\n        image = await (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_1__.fetchData)(rawData, \"blob\");\n      } else {\n        image = data.file = rawData;\n      }\n      if (image.type === \"image/svg+xml\") {\n        const mustRemoveAspectRatioPromise = ImageManager._isSVGFittingCanvas;\n        const fileReader = new FileReader();\n        const imageElement = new Image();\n        const imagePromise = new Promise((resolve, reject) => {\n          imageElement.onload = () => {\n            data.bitmap = imageElement;\n            data.isSvg = true;\n            resolve();\n          };\n          fileReader.onload = async () => {\n            const url = data.svgUrl = fileReader.result;\n            imageElement.src = (await mustRemoveAspectRatioPromise) ? `${url}#svgView(preserveAspectRatio(none))` : url;\n          };\n          imageElement.onerror = fileReader.onerror = reject;\n        });\n        fileReader.readAsDataURL(image);\n        await imagePromise;\n      } else {\n        data.bitmap = await createImageBitmap(image);\n      }\n      data.refCounter = 1;\n    } catch (e) {\n      console.error(e);\n      data = null;\n    }\n    this.#cache.set(key, data);\n    if (data) {\n      this.#cache.set(data.id, data);\n    }\n    return data;\n  }\n  async getFromFile(file) {\n    const {\n      lastModified,\n      name,\n      size,\n      type\n    } = file;\n    return this.#get(`${lastModified}_${name}_${size}_${type}`, file);\n  }\n  async getFromUrl(url) {\n    return this.#get(url, url);\n  }\n  async getFromId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return null;\n    }\n    if (data.bitmap) {\n      data.refCounter += 1;\n      return data;\n    }\n    if (data.file) {\n      return this.getFromFile(data.file);\n    }\n    return this.getFromUrl(data.url);\n  }\n  getSvgUrl(id) {\n    const data = this.#cache.get(id);\n    if (!data?.isSvg) {\n      return null;\n    }\n    return data.svgUrl;\n  }\n  deleteId(id) {\n    this.#cache ||= new Map();\n    const data = this.#cache.get(id);\n    if (!data) {\n      return;\n    }\n    data.refCounter -= 1;\n    if (data.refCounter !== 0) {\n      return;\n    }\n    data.bitmap = null;\n  }\n  isValidId(id) {\n    return id.startsWith(`image_${this.#baseId}_`);\n  }\n}\nclass CommandManager {\n  #commands = [];\n  #locked = false;\n  #maxSize;\n  #position = -1;\n  constructor(maxSize = 128) {\n    this.#maxSize = maxSize;\n  }\n  add({\n    cmd,\n    undo,\n    post,\n    mustExec,\n    type = NaN,\n    overwriteIfSameType = false,\n    keepUndo = false\n  }) {\n    if (mustExec) {\n      cmd();\n    }\n    if (this.#locked) {\n      return;\n    }\n    const save = {\n      cmd,\n      undo,\n      post,\n      type\n    };\n    if (this.#position === -1) {\n      if (this.#commands.length > 0) {\n        this.#commands.length = 0;\n      }\n      this.#position = 0;\n      this.#commands.push(save);\n      return;\n    }\n    if (overwriteIfSameType && this.#commands[this.#position].type === type) {\n      if (keepUndo) {\n        save.undo = this.#commands[this.#position].undo;\n      }\n      this.#commands[this.#position] = save;\n      return;\n    }\n    const next = this.#position + 1;\n    if (next === this.#maxSize) {\n      this.#commands.splice(0, 1);\n    } else {\n      this.#position = next;\n      if (next < this.#commands.length) {\n        this.#commands.splice(next);\n      }\n    }\n    this.#commands.push(save);\n  }\n  undo() {\n    if (this.#position === -1) {\n      return;\n    }\n    this.#locked = true;\n    const {\n      undo,\n      post\n    } = this.#commands[this.#position];\n    undo();\n    post?.();\n    this.#locked = false;\n    this.#position -= 1;\n  }\n  redo() {\n    if (this.#position < this.#commands.length - 1) {\n      this.#position += 1;\n      this.#locked = true;\n      const {\n        cmd,\n        post\n      } = this.#commands[this.#position];\n      cmd();\n      post?.();\n      this.#locked = false;\n    }\n  }\n  hasSomethingToUndo() {\n    return this.#position !== -1;\n  }\n  hasSomethingToRedo() {\n    return this.#position < this.#commands.length - 1;\n  }\n  destroy() {\n    this.#commands = null;\n  }\n}\nclass KeyboardManager {\n  constructor(callbacks) {\n    this.buffer = [];\n    this.callbacks = new Map();\n    this.allKeys = new Set();\n    const {\n      isMac\n    } = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FeatureTest.platform;\n    for (const [keys, callback, options = {}] of callbacks) {\n      for (const key of keys) {\n        const isMacKey = key.startsWith(\"mac+\");\n        if (isMac && isMacKey) {\n          this.callbacks.set(key.slice(4), {\n            callback,\n            options\n          });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        } else if (!isMac && !isMacKey) {\n          this.callbacks.set(key, {\n            callback,\n            options\n          });\n          this.allKeys.add(key.split(\"+\").at(-1));\n        }\n      }\n    }\n  }\n  #serialize(event) {\n    if (event.altKey) {\n      this.buffer.push(\"alt\");\n    }\n    if (event.ctrlKey) {\n      this.buffer.push(\"ctrl\");\n    }\n    if (event.metaKey) {\n      this.buffer.push(\"meta\");\n    }\n    if (event.shiftKey) {\n      this.buffer.push(\"shift\");\n    }\n    this.buffer.push(event.key);\n    const str = this.buffer.join(\"+\");\n    this.buffer.length = 0;\n    return str;\n  }\n  exec(self, event) {\n    if (!this.allKeys.has(event.key)) {\n      return;\n    }\n    const info = this.callbacks.get(this.#serialize(event));\n    if (!info) {\n      return;\n    }\n    const {\n      callback,\n      options: {\n        bubbles = false,\n        args = [],\n        checker = null\n      }\n    } = info;\n    if (checker && !checker(self, event)) {\n      return;\n    }\n    callback.bind(self, ...args, event)();\n    if (!bubbles) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }\n}\nclass ColorManager {\n  static _colorsMapping = new Map([[\"CanvasText\", [0, 0, 0]], [\"Canvas\", [255, 255, 255]]]);\n  get _colors() {\n    const colors = new Map([[\"CanvasText\", null], [\"Canvas\", null]]);\n    (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_1__.getColorValues)(colors);\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"_colors\", colors);\n  }\n  convert(color) {\n    const rgb = (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_1__.getRGB)(color);\n    if (!window.matchMedia(\"(forced-colors: active)\").matches) {\n      return rgb;\n    }\n    for (const [name, RGB] of this._colors) {\n      if (RGB.every((x, i) => x === rgb[i])) {\n        return ColorManager._colorsMapping.get(name);\n      }\n    }\n    return rgb;\n  }\n  getHexCode(name) {\n    const rgb = this._colors.get(name);\n    if (!rgb) {\n      return name;\n    }\n    return _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.Util.makeHexColor(...rgb);\n  }\n}\nclass AnnotationEditorUIManager {\n  #activeEditor = null;\n  #allEditors = new Map();\n  #allLayers = new Map();\n  #altTextManager = null;\n  #annotationStorage = null;\n  #changedExistingAnnotations = null;\n  #commandManager = new CommandManager();\n  #currentPageIndex = 0;\n  #deletedAnnotationsElementIds = new Set();\n  #draggingEditors = null;\n  #editorTypes = null;\n  #editorsToRescale = new Set();\n  #enableHighlightFloatingButton = false;\n  #filterFactory = null;\n  #focusMainContainerTimeoutId = null;\n  #highlightColors = null;\n  #highlightWhenShiftUp = false;\n  #highlightToolbar = null;\n  #idManager = new IdManager();\n  #isEnabled = false;\n  #isWaiting = false;\n  #lastActiveElement = null;\n  #mainHighlightColorPicker = null;\n  #mlManager = null;\n  #mode = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE;\n  #selectedEditors = new Set();\n  #selectedTextNode = null;\n  #pageColors = null;\n  #showAllStates = null;\n  #boundBlur = this.blur.bind(this);\n  #boundFocus = this.focus.bind(this);\n  #boundCopy = this.copy.bind(this);\n  #boundCut = this.cut.bind(this);\n  #boundPaste = this.paste.bind(this);\n  #boundKeydown = this.keydown.bind(this);\n  #boundKeyup = this.keyup.bind(this);\n  #boundOnEditingAction = this.onEditingAction.bind(this);\n  #boundOnPageChanging = this.onPageChanging.bind(this);\n  #boundOnScaleChanging = this.onScaleChanging.bind(this);\n  #boundSelectionChange = this.#selectionChange.bind(this);\n  #boundOnRotationChanging = this.onRotationChanging.bind(this);\n  #previousStates = {\n    isEditing: false,\n    isEmpty: true,\n    hasSomethingToUndo: false,\n    hasSomethingToRedo: false,\n    hasSelectedEditor: false,\n    hasSelectedText: false\n  };\n  #translation = [0, 0];\n  #translationTimeoutId = null;\n  #container = null;\n  #viewer = null;\n  static TRANSLATE_SMALL = 1;\n  static TRANSLATE_BIG = 10;\n  static get _keyboardManager() {\n    const proto = AnnotationEditorUIManager.prototype;\n    const arrowChecker = self => self.#container.contains(document.activeElement) && document.activeElement.tagName !== \"BUTTON\" && self.hasSomethingToControl();\n    const textInputChecker = (_self, {\n      target: el\n    }) => {\n      if (el instanceof HTMLInputElement) {\n        const {\n          type\n        } = el;\n        return type !== \"text\" && type !== \"number\";\n      }\n      return true;\n    };\n    const small = this.TRANSLATE_SMALL;\n    const big = this.TRANSLATE_BIG;\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"_keyboardManager\", new KeyboardManager([[[\"ctrl+a\", \"mac+meta+a\"], proto.selectAll, {\n      checker: textInputChecker\n    }], [[\"ctrl+z\", \"mac+meta+z\"], proto.undo, {\n      checker: textInputChecker\n    }], [[\"ctrl+y\", \"ctrl+shift+z\", \"mac+meta+shift+z\", \"ctrl+shift+Z\", \"mac+meta+shift+Z\"], proto.redo, {\n      checker: textInputChecker\n    }], [[\"Backspace\", \"alt+Backspace\", \"ctrl+Backspace\", \"shift+Backspace\", \"mac+Backspace\", \"mac+alt+Backspace\", \"mac+ctrl+Backspace\", \"Delete\", \"ctrl+Delete\", \"shift+Delete\", \"mac+Delete\"], proto.delete, {\n      checker: textInputChecker\n    }], [[\"Enter\", \"mac+Enter\"], proto.addNewEditorFromKeyboard, {\n      checker: (self, {\n        target: el\n      }) => !(el instanceof HTMLButtonElement) && self.#container.contains(el) && !self.isEnterHandled\n    }], [[\" \", \"mac+ \"], proto.addNewEditorFromKeyboard, {\n      checker: (self, {\n        target: el\n      }) => !(el instanceof HTMLButtonElement) && self.#container.contains(document.activeElement)\n    }], [[\"Escape\", \"mac+Escape\"], proto.unselectAll], [[\"ArrowLeft\", \"mac+ArrowLeft\"], proto.translateSelectedEditors, {\n      args: [-small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowLeft\", \"mac+shift+ArrowLeft\"], proto.translateSelectedEditors, {\n      args: [-big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowRight\", \"mac+ArrowRight\"], proto.translateSelectedEditors, {\n      args: [small, 0],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowRight\", \"mac+shift+ArrowRight\"], proto.translateSelectedEditors, {\n      args: [big, 0],\n      checker: arrowChecker\n    }], [[\"ArrowUp\", \"mac+ArrowUp\"], proto.translateSelectedEditors, {\n      args: [0, -small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowUp\", \"mac+shift+ArrowUp\"], proto.translateSelectedEditors, {\n      args: [0, -big],\n      checker: arrowChecker\n    }], [[\"ArrowDown\", \"mac+ArrowDown\"], proto.translateSelectedEditors, {\n      args: [0, small],\n      checker: arrowChecker\n    }], [[\"ctrl+ArrowDown\", \"mac+shift+ArrowDown\"], proto.translateSelectedEditors, {\n      args: [0, big],\n      checker: arrowChecker\n    }]]));\n  }\n  constructor(container, viewer, altTextManager, eventBus, pdfDocument, pageColors, highlightColors, enableHighlightFloatingButton, mlManager) {\n    this.#container = container;\n    this.#viewer = viewer;\n    this.#altTextManager = altTextManager;\n    this._eventBus = eventBus;\n    this._eventBus._on(\"editingaction\", this.#boundOnEditingAction);\n    this._eventBus._on(\"pagechanging\", this.#boundOnPageChanging);\n    this._eventBus._on(\"scalechanging\", this.#boundOnScaleChanging);\n    this._eventBus._on(\"rotationchanging\", this.#boundOnRotationChanging);\n    this.#addSelectionListener();\n    this.#addKeyboardManager();\n    this.#annotationStorage = pdfDocument.annotationStorage;\n    this.#filterFactory = pdfDocument.filterFactory;\n    this.#pageColors = pageColors;\n    this.#highlightColors = highlightColors || null;\n    this.#enableHighlightFloatingButton = enableHighlightFloatingButton;\n    this.#mlManager = mlManager || null;\n    this.viewParameters = {\n      realScale: _display_utils_js__WEBPACK_IMPORTED_MODULE_1__.PixelsPerInch.PDF_TO_CSS_UNITS,\n      rotation: 0\n    };\n    this.isShiftKeyDown = false;\n  }\n  destroy() {\n    this.#removeKeyboardManager();\n    this.#removeFocusManager();\n    this._eventBus._off(\"editingaction\", this.#boundOnEditingAction);\n    this._eventBus._off(\"pagechanging\", this.#boundOnPageChanging);\n    this._eventBus._off(\"scalechanging\", this.#boundOnScaleChanging);\n    this._eventBus._off(\"rotationchanging\", this.#boundOnRotationChanging);\n    for (const layer of this.#allLayers.values()) {\n      layer.destroy();\n    }\n    this.#allLayers.clear();\n    this.#allEditors.clear();\n    this.#editorsToRescale.clear();\n    this.#activeEditor = null;\n    this.#selectedEditors.clear();\n    this.#commandManager.destroy();\n    this.#altTextManager?.destroy();\n    this.#highlightToolbar?.hide();\n    this.#highlightToolbar = null;\n    if (this.#focusMainContainerTimeoutId) {\n      clearTimeout(this.#focusMainContainerTimeoutId);\n      this.#focusMainContainerTimeoutId = null;\n    }\n    if (this.#translationTimeoutId) {\n      clearTimeout(this.#translationTimeoutId);\n      this.#translationTimeoutId = null;\n    }\n    this.#removeSelectionListener();\n  }\n  async mlGuess(data) {\n    return this.#mlManager?.guess(data) || null;\n  }\n  get hasMLManager() {\n    return !!this.#mlManager;\n  }\n  get hcmFilter() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"hcmFilter\", this.#pageColors ? this.#filterFactory.addHCMFilter(this.#pageColors.foreground, this.#pageColors.background) : \"none\");\n  }\n  get direction() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"direction\", getComputedStyle(this.#container).direction);\n  }\n  get highlightColors() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"highlightColors\", this.#highlightColors ? new Map(this.#highlightColors.split(\",\").map(pair => pair.split(\"=\").map(x => x.trim()))) : null);\n  }\n  get highlightColorNames() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"highlightColorNames\", this.highlightColors ? new Map(Array.from(this.highlightColors, e => e.reverse())) : null);\n  }\n  setMainHighlightColorPicker(colorPicker) {\n    this.#mainHighlightColorPicker = colorPicker;\n  }\n  editAltText(editor) {\n    this.#altTextManager?.editAltText(this, editor);\n  }\n  onPageChanging({\n    pageNumber\n  }) {\n    this.#currentPageIndex = pageNumber - 1;\n  }\n  focusMainContainer() {\n    this.#container.focus();\n  }\n  findParent(x, y) {\n    for (const layer of this.#allLayers.values()) {\n      const {\n        x: layerX,\n        y: layerY,\n        width,\n        height\n      } = layer.div.getBoundingClientRect();\n      if (x >= layerX && x <= layerX + width && y >= layerY && y <= layerY + height) {\n        return layer;\n      }\n    }\n    return null;\n  }\n  disableUserSelect(value = false) {\n    this.#viewer.classList.toggle(\"noUserSelect\", value);\n  }\n  addShouldRescale(editor) {\n    this.#editorsToRescale.add(editor);\n  }\n  removeShouldRescale(editor) {\n    this.#editorsToRescale.delete(editor);\n  }\n  onScaleChanging({\n    scale\n  }) {\n    this.commitOrRemove();\n    this.viewParameters.realScale = scale * _display_utils_js__WEBPACK_IMPORTED_MODULE_1__.PixelsPerInch.PDF_TO_CSS_UNITS;\n    for (const editor of this.#editorsToRescale) {\n      editor.onScaleChanging();\n    }\n  }\n  onRotationChanging({\n    pagesRotation\n  }) {\n    this.commitOrRemove();\n    this.viewParameters.rotation = pagesRotation;\n  }\n  #getAnchorElementForSelection({\n    anchorNode\n  }) {\n    return anchorNode.nodeType === Node.TEXT_NODE ? anchorNode.parentElement : anchorNode;\n  }\n  highlightSelection(methodOfCreation = \"\") {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      return;\n    }\n    const {\n      anchorNode,\n      anchorOffset,\n      focusNode,\n      focusOffset\n    } = selection;\n    const text = selection.toString();\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    const boxes = this.getSelectionBoxes(textLayer);\n    if (!boxes) {\n      return;\n    }\n    selection.empty();\n    if (this.#mode === _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE) {\n      this._eventBus.dispatch(\"showannotationeditorui\", {\n        source: this,\n        mode: _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.HIGHLIGHT\n      });\n      this.showAllEditors(\"highlight\", true, true);\n    }\n    for (const layer of this.#allLayers.values()) {\n      if (layer.hasTextLayer(textLayer)) {\n        layer.createAndAddNewEditor({\n          x: 0,\n          y: 0\n        }, false, {\n          methodOfCreation,\n          boxes,\n          anchorNode,\n          anchorOffset,\n          focusNode,\n          focusOffset,\n          text\n        });\n        break;\n      }\n    }\n  }\n  #displayHighlightToolbar() {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      return;\n    }\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    const boxes = this.getSelectionBoxes(textLayer);\n    if (!boxes) {\n      return;\n    }\n    this.#highlightToolbar ||= new _toolbar_js__WEBPACK_IMPORTED_MODULE_2__.HighlightToolbar(this);\n    this.#highlightToolbar.show(textLayer, boxes, this.direction === \"ltr\");\n  }\n  addToAnnotationStorage(editor) {\n    if (!editor.isEmpty() && this.#annotationStorage && !this.#annotationStorage.has(editor.id)) {\n      this.#annotationStorage.setValue(editor.id, editor);\n    }\n  }\n  #selectionChange() {\n    const selection = document.getSelection();\n    if (!selection || selection.isCollapsed) {\n      if (this.#selectedTextNode) {\n        this.#highlightToolbar?.hide();\n        this.#selectedTextNode = null;\n        this.#dispatchUpdateStates({\n          hasSelectedText: false\n        });\n      }\n      return;\n    }\n    const {\n      anchorNode\n    } = selection;\n    if (anchorNode === this.#selectedTextNode) {\n      return;\n    }\n    const anchorElement = this.#getAnchorElementForSelection(selection);\n    const textLayer = anchorElement.closest(\".textLayer\");\n    if (!textLayer) {\n      if (this.#selectedTextNode) {\n        this.#highlightToolbar?.hide();\n        this.#selectedTextNode = null;\n        this.#dispatchUpdateStates({\n          hasSelectedText: false\n        });\n      }\n      return;\n    }\n    this.#highlightToolbar?.hide();\n    this.#selectedTextNode = anchorNode;\n    this.#dispatchUpdateStates({\n      hasSelectedText: true\n    });\n    if (this.#mode !== _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.HIGHLIGHT && this.#mode !== _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE) {\n      return;\n    }\n    if (this.#mode === _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.HIGHLIGHT) {\n      this.showAllEditors(\"highlight\", true, true);\n    }\n    this.#highlightWhenShiftUp = this.isShiftKeyDown;\n    if (!this.isShiftKeyDown) {\n      const pointerup = e => {\n        if (e.type === \"pointerup\" && e.button !== 0) {\n          return;\n        }\n        window.removeEventListener(\"pointerup\", pointerup);\n        window.removeEventListener(\"blur\", pointerup);\n        if (e.type === \"pointerup\") {\n          this.#onSelectEnd(\"main_toolbar\");\n        }\n      };\n      window.addEventListener(\"pointerup\", pointerup);\n      window.addEventListener(\"blur\", pointerup);\n    }\n  }\n  #onSelectEnd(methodOfCreation = \"\") {\n    if (this.#mode === _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.HIGHLIGHT) {\n      this.highlightSelection(methodOfCreation);\n    } else if (this.#enableHighlightFloatingButton) {\n      this.#displayHighlightToolbar();\n    }\n  }\n  #addSelectionListener() {\n    document.addEventListener(\"selectionchange\", this.#boundSelectionChange);\n  }\n  #removeSelectionListener() {\n    document.removeEventListener(\"selectionchange\", this.#boundSelectionChange);\n  }\n  #addFocusManager() {\n    window.addEventListener(\"focus\", this.#boundFocus);\n    window.addEventListener(\"blur\", this.#boundBlur);\n  }\n  #removeFocusManager() {\n    window.removeEventListener(\"focus\", this.#boundFocus);\n    window.removeEventListener(\"blur\", this.#boundBlur);\n  }\n  blur() {\n    this.isShiftKeyDown = false;\n    if (this.#highlightWhenShiftUp) {\n      this.#highlightWhenShiftUp = false;\n      this.#onSelectEnd(\"main_toolbar\");\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    const {\n      activeElement\n    } = document;\n    for (const editor of this.#selectedEditors) {\n      if (editor.div.contains(activeElement)) {\n        this.#lastActiveElement = [editor, activeElement];\n        editor._focusEventsAllowed = false;\n        break;\n      }\n    }\n  }\n  focus() {\n    if (!this.#lastActiveElement) {\n      return;\n    }\n    const [lastEditor, lastActiveElement] = this.#lastActiveElement;\n    this.#lastActiveElement = null;\n    lastActiveElement.addEventListener(\"focusin\", () => {\n      lastEditor._focusEventsAllowed = true;\n    }, {\n      once: true\n    });\n    lastActiveElement.focus();\n  }\n  #addKeyboardManager() {\n    window.addEventListener(\"keydown\", this.#boundKeydown);\n    window.addEventListener(\"keyup\", this.#boundKeyup);\n  }\n  #removeKeyboardManager() {\n    window.removeEventListener(\"keydown\", this.#boundKeydown);\n    window.removeEventListener(\"keyup\", this.#boundKeyup);\n  }\n  #addCopyPasteListeners() {\n    document.addEventListener(\"copy\", this.#boundCopy);\n    document.addEventListener(\"cut\", this.#boundCut);\n    document.addEventListener(\"paste\", this.#boundPaste);\n  }\n  #removeCopyPasteListeners() {\n    document.removeEventListener(\"copy\", this.#boundCopy);\n    document.removeEventListener(\"cut\", this.#boundCut);\n    document.removeEventListener(\"paste\", this.#boundPaste);\n  }\n  addEditListeners() {\n    this.#addKeyboardManager();\n    this.#addCopyPasteListeners();\n  }\n  removeEditListeners() {\n    this.#removeKeyboardManager();\n    this.#removeCopyPasteListeners();\n  }\n  copy(event) {\n    event.preventDefault();\n    this.#activeEditor?.commitOrRemove();\n    if (!this.hasSelection) {\n      return;\n    }\n    const editors = [];\n    for (const editor of this.#selectedEditors) {\n      const serialized = editor.serialize(true);\n      if (serialized) {\n        editors.push(serialized);\n      }\n    }\n    if (editors.length === 0) {\n      return;\n    }\n    event.clipboardData.setData(\"application/pdfjs\", JSON.stringify(editors));\n  }\n  cut(event) {\n    this.copy(event);\n    this.delete();\n  }\n  paste(event) {\n    event.preventDefault();\n    const {\n      clipboardData\n    } = event;\n    for (const item of clipboardData.items) {\n      for (const editorType of this.#editorTypes) {\n        if (editorType.isHandlingMimeForPasting(item.type)) {\n          editorType.paste(item, this.currentLayer);\n          return;\n        }\n      }\n    }\n    let data = clipboardData.getData(\"application/pdfjs\");\n    if (!data) {\n      return;\n    }\n    try {\n      data = JSON.parse(data);\n    } catch (ex) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`paste: \"${ex.message}\".`);\n      return;\n    }\n    if (!Array.isArray(data)) {\n      return;\n    }\n    this.unselectAll();\n    const layer = this.currentLayer;\n    try {\n      const newEditors = [];\n      for (const editor of data) {\n        const deserializedEditor = layer.deserialize(editor);\n        if (!deserializedEditor) {\n          return;\n        }\n        newEditors.push(deserializedEditor);\n      }\n      const cmd = () => {\n        for (const editor of newEditors) {\n          this.#addEditorToLayer(editor);\n        }\n        this.#selectEditors(newEditors);\n      };\n      const undo = () => {\n        for (const editor of newEditors) {\n          editor.remove();\n        }\n      };\n      this.addCommands({\n        cmd,\n        undo,\n        mustExec: true\n      });\n    } catch (ex) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`paste: \"${ex.message}\".`);\n    }\n  }\n  keydown(event) {\n    if (!this.isShiftKeyDown && event.key === \"Shift\") {\n      this.isShiftKeyDown = true;\n    }\n    if (this.#mode !== _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE && !this.isEditorHandlingKeyboard) {\n      AnnotationEditorUIManager._keyboardManager.exec(this, event);\n    }\n  }\n  keyup(event) {\n    if (this.isShiftKeyDown && event.key === \"Shift\") {\n      this.isShiftKeyDown = false;\n      if (this.#highlightWhenShiftUp) {\n        this.#highlightWhenShiftUp = false;\n        this.#onSelectEnd(\"main_toolbar\");\n      }\n    }\n  }\n  onEditingAction({\n    name\n  }) {\n    switch (name) {\n      case \"undo\":\n      case \"redo\":\n      case \"delete\":\n      case \"selectAll\":\n        this[name]();\n        break;\n      case \"highlightSelection\":\n        this.highlightSelection(\"context_menu\");\n        break;\n    }\n  }\n  #dispatchUpdateStates(details) {\n    const hasChanged = Object.entries(details).some(([key, value]) => this.#previousStates[key] !== value);\n    if (hasChanged) {\n      this._eventBus.dispatch(\"annotationeditorstateschanged\", {\n        source: this,\n        details: Object.assign(this.#previousStates, details)\n      });\n      if (this.#mode === _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.HIGHLIGHT && details.hasSelectedEditor === false) {\n        this.#dispatchUpdateUI([[_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.HIGHLIGHT_FREE, true]]);\n      }\n    }\n  }\n  #dispatchUpdateUI(details) {\n    this._eventBus.dispatch(\"annotationeditorparamschanged\", {\n      source: this,\n      details\n    });\n  }\n  setEditingState(isEditing) {\n    if (isEditing) {\n      this.#addFocusManager();\n      this.#addCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: this.#mode !== _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE,\n        isEmpty: this.#isEmpty(),\n        hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n        hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n        hasSelectedEditor: false\n      });\n    } else {\n      this.#removeFocusManager();\n      this.#removeCopyPasteListeners();\n      this.#dispatchUpdateStates({\n        isEditing: false\n      });\n      this.disableUserSelect(false);\n    }\n  }\n  registerEditorTypes(types) {\n    if (this.#editorTypes) {\n      return;\n    }\n    this.#editorTypes = types;\n    for (const editorType of this.#editorTypes) {\n      this.#dispatchUpdateUI(editorType.defaultPropertiesToUpdate);\n    }\n  }\n  getId() {\n    return this.#idManager.id;\n  }\n  get currentLayer() {\n    return this.#allLayers.get(this.#currentPageIndex);\n  }\n  getLayer(pageIndex) {\n    return this.#allLayers.get(pageIndex);\n  }\n  get currentPageIndex() {\n    return this.#currentPageIndex;\n  }\n  addLayer(layer) {\n    this.#allLayers.set(layer.pageIndex, layer);\n    if (this.#isEnabled) {\n      layer.enable();\n    } else {\n      layer.disable();\n    }\n  }\n  removeLayer(layer) {\n    this.#allLayers.delete(layer.pageIndex);\n  }\n  updateMode(mode, editId = null, isFromKeyboard = false) {\n    if (this.#mode === mode) {\n      return;\n    }\n    this.#mode = mode;\n    if (mode === _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE) {\n      this.setEditingState(false);\n      this.#disableAll();\n      return;\n    }\n    this.setEditingState(true);\n    this.#enableAll();\n    this.unselectAll();\n    for (const layer of this.#allLayers.values()) {\n      layer.updateMode(mode);\n    }\n    if (!editId && isFromKeyboard) {\n      this.addNewEditorFromKeyboard();\n      return;\n    }\n    if (!editId) {\n      return;\n    }\n    for (const editor of this.#allEditors.values()) {\n      if (editor.annotationElementId === editId) {\n        this.setSelected(editor);\n        editor.enterInEditMode();\n        break;\n      }\n    }\n  }\n  addNewEditorFromKeyboard() {\n    if (this.currentLayer.canCreateNewEmptyEditor()) {\n      this.currentLayer.addNewEditor();\n    }\n  }\n  updateToolbar(mode) {\n    if (mode === this.#mode) {\n      return;\n    }\n    this._eventBus.dispatch(\"switchannotationeditormode\", {\n      source: this,\n      mode\n    });\n  }\n  updateParams(type, value) {\n    if (!this.#editorTypes) {\n      return;\n    }\n    switch (type) {\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.CREATE:\n        this.currentLayer.addNewEditor();\n        return;\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:\n        this.#mainHighlightColorPicker?.updateColor(value);\n        break;\n      case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:\n        this._eventBus.dispatch(\"reporttelemetry\", {\n          source: this,\n          details: {\n            type: \"editing\",\n            data: {\n              type: \"highlight\",\n              action: \"toggle_visibility\"\n            }\n          }\n        });\n        (this.#showAllStates ||= new Map()).set(type, value);\n        this.showAllEditors(\"highlight\", value);\n        break;\n    }\n    for (const editor of this.#selectedEditors) {\n      editor.updateParams(type, value);\n    }\n    for (const editorType of this.#editorTypes) {\n      editorType.updateDefaultParams(type, value);\n    }\n  }\n  showAllEditors(type, visible, updateButton = false) {\n    for (const editor of this.#allEditors.values()) {\n      if (editor.editorType === type) {\n        editor.show(visible);\n      }\n    }\n    const state = this.#showAllStates?.get(_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL) ?? true;\n    if (state !== visible) {\n      this.#dispatchUpdateUI([[_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL, visible]]);\n    }\n  }\n  enableWaiting(mustWait = false) {\n    if (this.#isWaiting === mustWait) {\n      return;\n    }\n    this.#isWaiting = mustWait;\n    for (const layer of this.#allLayers.values()) {\n      if (mustWait) {\n        layer.disableClick();\n      } else {\n        layer.enableClick();\n      }\n      layer.div.classList.toggle(\"waiting\", mustWait);\n    }\n  }\n  #enableAll() {\n    if (!this.#isEnabled) {\n      this.#isEnabled = true;\n      for (const layer of this.#allLayers.values()) {\n        layer.enable();\n      }\n      for (const editor of this.#allEditors.values()) {\n        editor.enable();\n      }\n    }\n  }\n  #disableAll() {\n    this.unselectAll();\n    if (this.#isEnabled) {\n      this.#isEnabled = false;\n      for (const layer of this.#allLayers.values()) {\n        layer.disable();\n      }\n      for (const editor of this.#allEditors.values()) {\n        editor.disable();\n      }\n    }\n  }\n  getEditors(pageIndex) {\n    const editors = [];\n    for (const editor of this.#allEditors.values()) {\n      if (editor.pageIndex === pageIndex) {\n        editors.push(editor);\n      }\n    }\n    return editors;\n  }\n  getEditor(id) {\n    return this.#allEditors.get(id);\n  }\n  addEditor(editor) {\n    this.#allEditors.set(editor.id, editor);\n  }\n  removeEditor(editor) {\n    if (editor.div.contains(document.activeElement)) {\n      if (this.#focusMainContainerTimeoutId) {\n        clearTimeout(this.#focusMainContainerTimeoutId);\n      }\n      this.#focusMainContainerTimeoutId = setTimeout(() => {\n        this.focusMainContainer();\n        this.#focusMainContainerTimeoutId = null;\n      }, 0);\n    }\n    this.#allEditors.delete(editor.id);\n    this.unselect(editor);\n    if (!editor.annotationElementId || !this.#deletedAnnotationsElementIds.has(editor.annotationElementId)) {\n      this.#annotationStorage?.remove(editor.id);\n    }\n  }\n  addDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.add(editor.annotationElementId);\n    this.addChangedExistingAnnotation(editor);\n    editor.deleted = true;\n  }\n  isDeletedAnnotationElement(annotationElementId) {\n    return this.#deletedAnnotationsElementIds.has(annotationElementId);\n  }\n  removeDeletedAnnotationElement(editor) {\n    this.#deletedAnnotationsElementIds.delete(editor.annotationElementId);\n    this.removeChangedExistingAnnotation(editor);\n    editor.deleted = false;\n  }\n  #addEditorToLayer(editor) {\n    const layer = this.#allLayers.get(editor.pageIndex);\n    if (layer) {\n      layer.addOrRebuild(editor);\n    } else {\n      this.addEditor(editor);\n      this.addToAnnotationStorage(editor);\n    }\n  }\n  setActiveEditor(editor) {\n    if (this.#activeEditor === editor) {\n      return;\n    }\n    this.#activeEditor = editor;\n    if (editor) {\n      this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    }\n  }\n  get #lastSelectedEditor() {\n    let ed = null;\n    for (ed of this.#selectedEditors) {}\n    return ed;\n  }\n  updateUI(editor) {\n    if (this.#lastSelectedEditor === editor) {\n      this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    }\n  }\n  toggleSelected(editor) {\n    if (this.#selectedEditors.has(editor)) {\n      this.#selectedEditors.delete(editor);\n      editor.unselect();\n      this.#dispatchUpdateStates({\n        hasSelectedEditor: this.hasSelection\n      });\n      return;\n    }\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true\n    });\n  }\n  setSelected(editor) {\n    for (const ed of this.#selectedEditors) {\n      if (ed !== editor) {\n        ed.unselect();\n      }\n    }\n    this.#selectedEditors.clear();\n    this.#selectedEditors.add(editor);\n    editor.select();\n    this.#dispatchUpdateUI(editor.propertiesToUpdate);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: true\n    });\n  }\n  isSelected(editor) {\n    return this.#selectedEditors.has(editor);\n  }\n  get firstSelectedEditor() {\n    return this.#selectedEditors.values().next().value;\n  }\n  unselect(editor) {\n    editor.unselect();\n    this.#selectedEditors.delete(editor);\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: this.hasSelection\n    });\n  }\n  get hasSelection() {\n    return this.#selectedEditors.size !== 0;\n  }\n  get isEnterHandled() {\n    return this.#selectedEditors.size === 1 && this.firstSelectedEditor.isEnterHandled;\n  }\n  undo() {\n    this.#commandManager.undo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: this.#commandManager.hasSomethingToUndo(),\n      hasSomethingToRedo: true,\n      isEmpty: this.#isEmpty()\n    });\n  }\n  redo() {\n    this.#commandManager.redo();\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: this.#commandManager.hasSomethingToRedo(),\n      isEmpty: this.#isEmpty()\n    });\n  }\n  addCommands(params) {\n    this.#commandManager.add(params);\n    this.#dispatchUpdateStates({\n      hasSomethingToUndo: true,\n      hasSomethingToRedo: false,\n      isEmpty: this.#isEmpty()\n    });\n  }\n  #isEmpty() {\n    if (this.#allEditors.size === 0) {\n      return true;\n    }\n    if (this.#allEditors.size === 1) {\n      for (const editor of this.#allEditors.values()) {\n        return editor.isEmpty();\n      }\n    }\n    return false;\n  }\n  delete() {\n    this.commitOrRemove();\n    if (!this.hasSelection) {\n      return;\n    }\n    const editors = [...this.#selectedEditors];\n    const cmd = () => {\n      for (const editor of editors) {\n        editor.remove();\n      }\n    };\n    const undo = () => {\n      for (const editor of editors) {\n        this.#addEditorToLayer(editor);\n      }\n    };\n    this.addCommands({\n      cmd,\n      undo,\n      mustExec: true\n    });\n  }\n  commitOrRemove() {\n    this.#activeEditor?.commitOrRemove();\n  }\n  hasSomethingToControl() {\n    return this.#activeEditor || this.hasSelection;\n  }\n  #selectEditors(editors) {\n    for (const editor of this.#selectedEditors) {\n      editor.unselect();\n    }\n    this.#selectedEditors.clear();\n    for (const editor of editors) {\n      if (editor.isEmpty()) {\n        continue;\n      }\n      this.#selectedEditors.add(editor);\n      editor.select();\n    }\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: this.hasSelection\n    });\n  }\n  selectAll() {\n    for (const editor of this.#selectedEditors) {\n      editor.commit();\n    }\n    this.#selectEditors(this.#allEditors.values());\n  }\n  unselectAll() {\n    if (this.#activeEditor) {\n      this.#activeEditor.commitOrRemove();\n      if (this.#mode !== _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE) {\n        return;\n      }\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    for (const editor of this.#selectedEditors) {\n      editor.unselect();\n    }\n    this.#selectedEditors.clear();\n    this.#dispatchUpdateStates({\n      hasSelectedEditor: false\n    });\n  }\n  translateSelectedEditors(x, y, noCommit = false) {\n    if (!noCommit) {\n      this.commitOrRemove();\n    }\n    if (!this.hasSelection) {\n      return;\n    }\n    this.#translation[0] += x;\n    this.#translation[1] += y;\n    const [totalX, totalY] = this.#translation;\n    const editors = [...this.#selectedEditors];\n    const TIME_TO_WAIT = 1000;\n    if (this.#translationTimeoutId) {\n      clearTimeout(this.#translationTimeoutId);\n    }\n    this.#translationTimeoutId = setTimeout(() => {\n      this.#translationTimeoutId = null;\n      this.#translation[0] = this.#translation[1] = 0;\n      this.addCommands({\n        cmd: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(totalX, totalY);\n            }\n          }\n        },\n        undo: () => {\n          for (const editor of editors) {\n            if (this.#allEditors.has(editor.id)) {\n              editor.translateInPage(-totalX, -totalY);\n            }\n          }\n        },\n        mustExec: false\n      });\n    }, TIME_TO_WAIT);\n    for (const editor of editors) {\n      editor.translateInPage(x, y);\n    }\n  }\n  setUpDragSession() {\n    if (!this.hasSelection) {\n      return;\n    }\n    this.disableUserSelect(true);\n    this.#draggingEditors = new Map();\n    for (const editor of this.#selectedEditors) {\n      this.#draggingEditors.set(editor, {\n        savedX: editor.x,\n        savedY: editor.y,\n        savedPageIndex: editor.pageIndex,\n        newX: 0,\n        newY: 0,\n        newPageIndex: -1\n      });\n    }\n  }\n  endDragSession() {\n    if (!this.#draggingEditors) {\n      return false;\n    }\n    this.disableUserSelect(false);\n    const map = this.#draggingEditors;\n    this.#draggingEditors = null;\n    let mustBeAddedInUndoStack = false;\n    for (const [{\n      x,\n      y,\n      pageIndex\n    }, value] of map) {\n      value.newX = x;\n      value.newY = y;\n      value.newPageIndex = pageIndex;\n      mustBeAddedInUndoStack ||= x !== value.savedX || y !== value.savedY || pageIndex !== value.savedPageIndex;\n    }\n    if (!mustBeAddedInUndoStack) {\n      return false;\n    }\n    const move = (editor, x, y, pageIndex) => {\n      if (this.#allEditors.has(editor.id)) {\n        const parent = this.#allLayers.get(pageIndex);\n        if (parent) {\n          editor._setParentAndPosition(parent, x, y);\n        } else {\n          editor.pageIndex = pageIndex;\n          editor.x = x;\n          editor.y = y;\n        }\n      }\n    };\n    this.addCommands({\n      cmd: () => {\n        for (const [editor, {\n          newX,\n          newY,\n          newPageIndex\n        }] of map) {\n          move(editor, newX, newY, newPageIndex);\n        }\n      },\n      undo: () => {\n        for (const [editor, {\n          savedX,\n          savedY,\n          savedPageIndex\n        }] of map) {\n          move(editor, savedX, savedY, savedPageIndex);\n        }\n      },\n      mustExec: true\n    });\n    return true;\n  }\n  dragSelectedEditors(tx, ty) {\n    if (!this.#draggingEditors) {\n      return;\n    }\n    for (const editor of this.#draggingEditors.keys()) {\n      editor.drag(tx, ty);\n    }\n  }\n  rebuild(editor) {\n    if (editor.parent === null) {\n      const parent = this.getLayer(editor.pageIndex);\n      if (parent) {\n        parent.changeParent(editor);\n        parent.addOrRebuild(editor);\n      } else {\n        this.addEditor(editor);\n        this.addToAnnotationStorage(editor);\n        editor.rebuild();\n      }\n    } else {\n      editor.parent.addOrRebuild(editor);\n    }\n  }\n  get isEditorHandlingKeyboard() {\n    return this.getActive()?.shouldGetKeyboardEvents() || this.#selectedEditors.size === 1 && this.firstSelectedEditor.shouldGetKeyboardEvents();\n  }\n  isActive(editor) {\n    return this.#activeEditor === editor;\n  }\n  getActive() {\n    return this.#activeEditor;\n  }\n  getMode() {\n    return this.#mode;\n  }\n  get imageManager() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"imageManager\", new ImageManager());\n  }\n  getSelectionBoxes(textLayer) {\n    if (!textLayer) {\n      return null;\n    }\n    const selection = document.getSelection();\n    for (let i = 0, ii = selection.rangeCount; i < ii; i++) {\n      if (!textLayer.contains(selection.getRangeAt(i).commonAncestorContainer)) {\n        return null;\n      }\n    }\n    const {\n      x: layerX,\n      y: layerY,\n      width: parentWidth,\n      height: parentHeight\n    } = textLayer.getBoundingClientRect();\n    let rotator;\n    switch (textLayer.getAttribute(\"data-main-rotation\")) {\n      case \"90\":\n        rotator = (x, y, w, h) => ({\n          x: (y - layerY) / parentHeight,\n          y: 1 - (x + w - layerX) / parentWidth,\n          width: h / parentHeight,\n          height: w / parentWidth\n        });\n        break;\n      case \"180\":\n        rotator = (x, y, w, h) => ({\n          x: 1 - (x + w - layerX) / parentWidth,\n          y: 1 - (y + h - layerY) / parentHeight,\n          width: w / parentWidth,\n          height: h / parentHeight\n        });\n        break;\n      case \"270\":\n        rotator = (x, y, w, h) => ({\n          x: 1 - (y + h - layerY) / parentHeight,\n          y: (x - layerX) / parentWidth,\n          width: h / parentHeight,\n          height: w / parentWidth\n        });\n        break;\n      default:\n        rotator = (x, y, w, h) => ({\n          x: (x - layerX) / parentWidth,\n          y: (y - layerY) / parentHeight,\n          width: w / parentWidth,\n          height: h / parentHeight\n        });\n        break;\n    }\n    const boxes = [];\n    for (let i = 0, ii = selection.rangeCount; i < ii; i++) {\n      const range = selection.getRangeAt(i);\n      if (range.collapsed) {\n        continue;\n      }\n      for (const {\n        x,\n        y,\n        width,\n        height\n      } of range.getClientRects()) {\n        if (width === 0 || height === 0) {\n          continue;\n        }\n        boxes.push(rotator(x, y, width, height));\n      }\n    }\n    return boxes.length === 0 ? null : boxes;\n  }\n  addChangedExistingAnnotation({\n    annotationElementId,\n    id\n  }) {\n    (this.#changedExistingAnnotations ||= new Map()).set(annotationElementId, id);\n  }\n  removeChangedExistingAnnotation({\n    annotationElementId\n  }) {\n    this.#changedExistingAnnotations?.delete(annotationElementId);\n  }\n  renderAnnotationElement(annotation) {\n    const editorId = this.#changedExistingAnnotations?.get(annotation.data.id);\n    if (!editorId) {\n      return;\n    }\n    const editor = this.#annotationStorage.getRawValue(editorId);\n    if (!editor) {\n      return;\n    }\n    if (this.#mode === _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType.NONE && !editor.hasBeenModified) {\n      return;\n    }\n    editor.renderAnnotationElement(annotation);\n  }\n}\n\n\n/***/ }),\n\n/***/ 94:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFFetchStream: () => (/* binding */ PDFFetchStream)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _network_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(490);\n\n\nfunction createFetchOptions(headers, withCredentials, abortController) {\n  return {\n    method: \"GET\",\n    headers,\n    signal: abortController.signal,\n    mode: \"cors\",\n    credentials: withCredentials ? \"include\" : \"same-origin\",\n    redirect: \"follow\"\n  };\n}\nfunction createHeaders(httpHeaders) {\n  const headers = new Headers();\n  for (const property in httpHeaders) {\n    const value = httpHeaders[property];\n    if (value === undefined) {\n      continue;\n    }\n    headers.append(property, value);\n  }\n  return headers;\n}\nfunction getArrayBuffer(val) {\n  if (val instanceof Uint8Array) {\n    return val.buffer;\n  }\n  if (val instanceof ArrayBuffer) {\n    return val;\n  }\n  (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`getArrayBuffer - unexpected data format: ${val}`);\n  return new Uint8Array(val).buffer;\n}\nclass PDFFetchStream {\n  constructor(source) {\n    this.source = source;\n    this.isHttp = /^https?:/i.test(source.url);\n    this.httpHeaders = this.isHttp && source.httpHeaders || {};\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  getFullReader() {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!this._fullRequestReader, \"PDFFetchStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFFetchStreamReader(this);\n    return this._fullRequestReader;\n  }\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFFetchStreamRangeReader(this, begin, end);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass PDFFetchStreamReader {\n  constructor(stream) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    this._filename = null;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._contentLength = source.length;\n    this._headersCapability = Promise.withResolvers();\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._abortController = new AbortController();\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    this._headers = createHeaders(this._stream.httpHeaders);\n    const url = source.url;\n    fetch(url, createFetchOptions(this._headers, this._withCredentials, this._abortController)).then(response => {\n      if (!(0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.validateResponseStatus)(response.status)) {\n        throw (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.createResponseStatusError)(response.status, url);\n      }\n      this._reader = response.body.getReader();\n      this._headersCapability.resolve();\n      const getResponseHeader = name => response.headers.get(name);\n      const {\n        allowRangeRequests,\n        suggestedLength\n      } = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.validateRangeRequestCapabilities)({\n        getResponseHeader,\n        isHttp: this._stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange\n      });\n      this._isRangeSupported = allowRangeRequests;\n      this._contentLength = suggestedLength || this._contentLength;\n      this._filename = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.extractFilenameFromHeader)(getResponseHeader);\n      if (!this._isStreamingSupported && this._isRangeSupported) {\n        this.cancel(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(\"Streaming is disabled.\"));\n      }\n    }).catch(this._headersCapability.reject);\n    this.onProgress = null;\n  }\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._headersCapability.promise;\n    const {\n      value,\n      done\n    } = await this._reader.read();\n    if (done) {\n      return {\n        value,\n        done\n      };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength\n    });\n    return {\n      value: getArrayBuffer(value),\n      done: false\n    };\n  }\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\nclass PDFFetchStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._reader = null;\n    this._loaded = 0;\n    const source = stream.source;\n    this._withCredentials = source.withCredentials || false;\n    this._readCapability = Promise.withResolvers();\n    this._isStreamingSupported = !source.disableStream;\n    this._abortController = new AbortController();\n    this._headers = createHeaders(this._stream.httpHeaders);\n    this._headers.append(\"Range\", `bytes=${begin}-${end - 1}`);\n    const url = source.url;\n    fetch(url, createFetchOptions(this._headers, this._withCredentials, this._abortController)).then(response => {\n      if (!(0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.validateResponseStatus)(response.status)) {\n        throw (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.createResponseStatusError)(response.status, url);\n      }\n      this._readCapability.resolve();\n      this._reader = response.body.getReader();\n    }).catch(this._readCapability.reject);\n    this.onProgress = null;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    const {\n      value,\n      done\n    } = await this._reader.read();\n    if (done) {\n      return {\n        value,\n        done\n      };\n    }\n    this._loaded += value.byteLength;\n    this.onProgress?.({\n      loaded: this._loaded\n    });\n    return {\n      value: getArrayBuffer(value),\n      done: false\n    };\n  }\n  cancel(reason) {\n    this._reader?.cancel(reason);\n    this._abortController.abort();\n  }\n}\n\n\n/***/ }),\n\n/***/ 10:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FontFaceObject: () => (/* binding */ FontFaceObject),\n/* harmony export */   FontLoader: () => (/* binding */ FontLoader)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n\nclass FontLoader {\n  #systemFonts = new Set();\n  constructor({\n    ownerDocument = globalThis.document,\n    styleElement = null\n  }) {\n    this._document = ownerDocument;\n    this.nativeFontFaces = new Set();\n    this.styleElement = null;\n    this.loadingRequests = [];\n    this.loadTestFontId = 0;\n  }\n  addNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.add(nativeFontFace);\n    this._document.fonts.add(nativeFontFace);\n  }\n  removeNativeFontFace(nativeFontFace) {\n    this.nativeFontFaces.delete(nativeFontFace);\n    this._document.fonts.delete(nativeFontFace);\n  }\n  insertRule(rule) {\n    if (!this.styleElement) {\n      this.styleElement = this._document.createElement(\"style\");\n      this._document.documentElement.getElementsByTagName(\"head\")[0].append(this.styleElement);\n    }\n    const styleSheet = this.styleElement.sheet;\n    styleSheet.insertRule(rule, styleSheet.cssRules.length);\n  }\n  clear() {\n    for (const nativeFontFace of this.nativeFontFaces) {\n      this._document.fonts.delete(nativeFontFace);\n    }\n    this.nativeFontFaces.clear();\n    this.#systemFonts.clear();\n    if (this.styleElement) {\n      this.styleElement.remove();\n      this.styleElement = null;\n    }\n  }\n  async loadSystemFont({\n    systemFontInfo: info,\n    _inspectFont\n  }) {\n    if (!info || this.#systemFonts.has(info.loadedName)) {\n      return;\n    }\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!this.disableFontFace, \"loadSystemFont shouldn't be called when `disableFontFace` is set.\");\n    if (this.isFontLoadingAPISupported) {\n      const {\n        loadedName,\n        src,\n        style\n      } = info;\n      const fontFace = new FontFace(loadedName, src, style);\n      this.addNativeFontFace(fontFace);\n      try {\n        await fontFace.load();\n        this.#systemFonts.add(loadedName);\n        _inspectFont?.(info);\n      } catch {\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Cannot load system font: ${info.baseFontName}, installing it could help to improve PDF rendering.`);\n        this.removeNativeFontFace(fontFace);\n      }\n      return;\n    }\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Not implemented: loadSystemFont without the Font Loading API.\");\n  }\n  async bind(font) {\n    if (font.attached || font.missingFile && !font.systemFontInfo) {\n      return;\n    }\n    font.attached = true;\n    if (font.systemFontInfo) {\n      await this.loadSystemFont(font);\n      return;\n    }\n    if (this.isFontLoadingAPISupported) {\n      const nativeFontFace = font.createNativeFontFace();\n      if (nativeFontFace) {\n        this.addNativeFontFace(nativeFontFace);\n        try {\n          await nativeFontFace.loaded;\n        } catch (ex) {\n          (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Failed to load font '${nativeFontFace.family}': '${ex}'.`);\n          font.disableFontFace = true;\n          throw ex;\n        }\n      }\n      return;\n    }\n    const rule = font.createFontFaceRule();\n    if (rule) {\n      this.insertRule(rule);\n      if (this.isSyncFontLoadingSupported) {\n        return;\n      }\n      await new Promise(resolve => {\n        const request = this._queueLoadingCallback(resolve);\n        this._prepareFontLoadEvent(font, request);\n      });\n    }\n  }\n  get isFontLoadingAPISupported() {\n    const hasFonts = !!this._document?.fonts;\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"isFontLoadingAPISupported\", hasFonts);\n  }\n  get isSyncFontLoadingSupported() {\n    let supported = false;\n    if (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS) {\n      supported = true;\n    } else if (typeof navigator !== \"undefined\" && typeof navigator?.userAgent === \"string\" && /Mozilla\\/5.0.*?rv:\\d+.*? Gecko/.test(navigator.userAgent)) {\n      supported = true;\n    }\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"isSyncFontLoadingSupported\", supported);\n  }\n  _queueLoadingCallback(callback) {\n    function completeRequest() {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!request.done, \"completeRequest() cannot be called twice.\");\n      request.done = true;\n      while (loadingRequests.length > 0 && loadingRequests[0].done) {\n        const otherRequest = loadingRequests.shift();\n        setTimeout(otherRequest.callback, 0);\n      }\n    }\n    const {\n      loadingRequests\n    } = this;\n    const request = {\n      done: false,\n      complete: completeRequest,\n      callback\n    };\n    loadingRequests.push(request);\n    return request;\n  }\n  get _loadTestFont() {\n    const testFont = atob(\"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA\" + \"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA\" + \"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA\" + \"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1\" + \"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD\" + \"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM\" + \"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D\" + \"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA\" + \"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA\" + \"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB\" + \"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY\" + \"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA\" + \"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\" + \"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA\" + \"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC\" + \"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3\" + \"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj\" + \"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==\");\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow)(this, \"_loadTestFont\", testFont);\n  }\n  _prepareFontLoadEvent(font, request) {\n    function int32(data, offset) {\n      return data.charCodeAt(offset) << 24 | data.charCodeAt(offset + 1) << 16 | data.charCodeAt(offset + 2) << 8 | data.charCodeAt(offset + 3) & 0xff;\n    }\n    function spliceString(s, offset, remove, insert) {\n      const chunk1 = s.substring(0, offset);\n      const chunk2 = s.substring(offset + remove);\n      return chunk1 + insert + chunk2;\n    }\n    let i, ii;\n    const canvas = this._document.createElement(\"canvas\");\n    canvas.width = 1;\n    canvas.height = 1;\n    const ctx = canvas.getContext(\"2d\");\n    let called = 0;\n    function isFontReady(name, callback) {\n      if (++called > 30) {\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(\"Load test font never loaded.\");\n        callback();\n        return;\n      }\n      ctx.font = \"30px \" + name;\n      ctx.fillText(\".\", 0, 20);\n      const imageData = ctx.getImageData(0, 0, 1, 1);\n      if (imageData.data[3] > 0) {\n        callback();\n        return;\n      }\n      setTimeout(isFontReady.bind(null, name, callback));\n    }\n    const loadTestFontId = `lt${Date.now()}${this.loadTestFontId++}`;\n    let data = this._loadTestFont;\n    const COMMENT_OFFSET = 976;\n    data = spliceString(data, COMMENT_OFFSET, loadTestFontId.length, loadTestFontId);\n    const CFF_CHECKSUM_OFFSET = 16;\n    const XXXX_VALUE = 0x58585858;\n    let checksum = int32(data, CFF_CHECKSUM_OFFSET);\n    for (i = 0, ii = loadTestFontId.length - 3; i < ii; i += 4) {\n      checksum = checksum - XXXX_VALUE + int32(loadTestFontId, i) | 0;\n    }\n    if (i < loadTestFontId.length) {\n      checksum = checksum - XXXX_VALUE + int32(loadTestFontId + \"XXX\", i) | 0;\n    }\n    data = spliceString(data, CFF_CHECKSUM_OFFSET, 4, (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.string32)(checksum));\n    const url = `url(data:font/opentype;base64,${btoa(data)});`;\n    const rule = `@font-face {font-family:\"${loadTestFontId}\";src:${url}}`;\n    this.insertRule(rule);\n    const div = this._document.createElement(\"div\");\n    div.style.visibility = \"hidden\";\n    div.style.width = div.style.height = \"10px\";\n    div.style.position = \"absolute\";\n    div.style.top = div.style.left = \"0px\";\n    for (const name of [font.loadedName, loadTestFontId]) {\n      const span = this._document.createElement(\"span\");\n      span.textContent = \"Hi\";\n      span.style.fontFamily = name;\n      div.append(span);\n    }\n    this._document.body.append(div);\n    isFontReady(loadTestFontId, () => {\n      div.remove();\n      request.complete();\n    });\n  }\n}\nclass FontFaceObject {\n  constructor(translatedData, {\n    disableFontFace = false,\n    ignoreErrors = false,\n    inspectFont = null\n  }) {\n    this.compiledGlyphs = Object.create(null);\n    for (const i in translatedData) {\n      this[i] = translatedData[i];\n    }\n    this.disableFontFace = disableFontFace === true;\n    this.ignoreErrors = ignoreErrors === true;\n    this._inspectFont = inspectFont;\n  }\n  createNativeFontFace() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    let nativeFontFace;\n    if (!this.cssFontInfo) {\n      nativeFontFace = new FontFace(this.loadedName, this.data, {});\n    } else {\n      const css = {\n        weight: this.cssFontInfo.fontWeight\n      };\n      if (this.cssFontInfo.italicAngle) {\n        css.style = `oblique ${this.cssFontInfo.italicAngle}deg`;\n      }\n      nativeFontFace = new FontFace(this.cssFontInfo.fontFamily, this.data, css);\n    }\n    this._inspectFont?.(this);\n    return nativeFontFace;\n  }\n  createFontFaceRule() {\n    if (!this.data || this.disableFontFace) {\n      return null;\n    }\n    const data = (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.bytesToString)(this.data);\n    const url = `url(data:${this.mimetype};base64,${btoa(data)});`;\n    let rule;\n    if (!this.cssFontInfo) {\n      rule = `@font-face {font-family:\"${this.loadedName}\";src:${url}}`;\n    } else {\n      let css = `font-weight: ${this.cssFontInfo.fontWeight};`;\n      if (this.cssFontInfo.italicAngle) {\n        css += `font-style: oblique ${this.cssFontInfo.italicAngle}deg;`;\n      }\n      rule = `@font-face {font-family:\"${this.cssFontInfo.fontFamily}\";${css}src:${url}}`;\n    }\n    this._inspectFont?.(this, url);\n    return rule;\n  }\n  getPathGenerator(objs, character) {\n    if (this.compiledGlyphs[character] !== undefined) {\n      return this.compiledGlyphs[character];\n    }\n    let cmds;\n    try {\n      cmds = objs.get(this.loadedName + \"_path_\" + character);\n    } catch (ex) {\n      if (!this.ignoreErrors) {\n        throw ex;\n      }\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`getPathGenerator - ignoring character: \"${ex}\".`);\n    }\n    if (!Array.isArray(cmds) || cmds.length === 0) {\n      return this.compiledGlyphs[character] = function (c, size) {};\n    }\n    const commands = [];\n    for (let i = 0, ii = cmds.length; i < ii;) {\n      switch (cmds[i++]) {\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.BEZIER_CURVE_TO:\n          {\n            const [a, b, c, d, e, f] = cmds.slice(i, i + 6);\n            commands.push(ctx => ctx.bezierCurveTo(a, b, c, d, e, f));\n            i += 6;\n          }\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.MOVE_TO:\n          {\n            const [a, b] = cmds.slice(i, i + 2);\n            commands.push(ctx => ctx.moveTo(a, b));\n            i += 2;\n          }\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.LINE_TO:\n          {\n            const [a, b] = cmds.slice(i, i + 2);\n            commands.push(ctx => ctx.lineTo(a, b));\n            i += 2;\n          }\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.QUADRATIC_CURVE_TO:\n          {\n            const [a, b, c, d] = cmds.slice(i, i + 4);\n            commands.push(ctx => ctx.quadraticCurveTo(a, b, c, d));\n            i += 4;\n          }\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.RESTORE:\n          commands.push(ctx => ctx.restore());\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.SAVE:\n          commands.push(ctx => ctx.save());\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.SCALE:\n          (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(commands.length === 2, \"Scale command is only valid at the third position.\");\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.TRANSFORM:\n          {\n            const [a, b, c, d, e, f] = cmds.slice(i, i + 6);\n            commands.push(ctx => ctx.transform(a, b, c, d, e, f));\n            i += 6;\n          }\n          break;\n        case _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FontRenderOps.TRANSLATE:\n          {\n            const [a, b] = cmds.slice(i, i + 2);\n            commands.push(ctx => ctx.translate(a, b));\n            i += 2;\n          }\n          break;\n      }\n    }\n    return this.compiledGlyphs[character] = function glyphDrawer(ctx, size) {\n      commands[0](ctx);\n      commands[1](ctx);\n      ctx.scale(size, -size);\n      for (let i = 2, ii = commands.length; i < ii; i++) {\n        commands[i](ctx);\n      }\n    };\n  }\n}\n\n\n/***/ }),\n\n/***/ 62:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Metadata: () => (/* binding */ Metadata)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n\nclass Metadata {\n  #metadataMap;\n  #data;\n  constructor({\n    parsedData,\n    rawData\n  }) {\n    this.#metadataMap = parsedData;\n    this.#data = rawData;\n  }\n  getRaw() {\n    return this.#data;\n  }\n  get(name) {\n    return this.#metadataMap.get(name) ?? null;\n  }\n  getAll() {\n    return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.objectFromMap)(this.#metadataMap);\n  }\n  has(name) {\n    return this.#metadataMap.has(name);\n  }\n}\n\n\n/***/ }),\n\n/***/ 457:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFNetworkStream: () => (/* binding */ PDFNetworkStream)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _network_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(490);\n\n\nconst OK_RESPONSE = 200;\nconst PARTIAL_CONTENT_RESPONSE = 206;\nfunction getArrayBuffer(xhr) {\n  const data = xhr.response;\n  if (typeof data !== \"string\") {\n    return data;\n  }\n  return (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.stringToBytes)(data).buffer;\n}\nclass NetworkManager {\n  constructor(url, args = {}) {\n    this.url = url;\n    this.isHttp = /^https?:/i.test(url);\n    this.httpHeaders = this.isHttp && args.httpHeaders || Object.create(null);\n    this.withCredentials = args.withCredentials || false;\n    this.currXhrId = 0;\n    this.pendingRequests = Object.create(null);\n  }\n  requestRange(begin, end, listeners) {\n    const args = {\n      begin,\n      end\n    };\n    for (const prop in listeners) {\n      args[prop] = listeners[prop];\n    }\n    return this.request(args);\n  }\n  requestFull(listeners) {\n    return this.request(listeners);\n  }\n  request(args) {\n    const xhr = new XMLHttpRequest();\n    const xhrId = this.currXhrId++;\n    const pendingRequest = this.pendingRequests[xhrId] = {\n      xhr\n    };\n    xhr.open(\"GET\", this.url);\n    xhr.withCredentials = this.withCredentials;\n    for (const property in this.httpHeaders) {\n      const value = this.httpHeaders[property];\n      if (value === undefined) {\n        continue;\n      }\n      xhr.setRequestHeader(property, value);\n    }\n    if (this.isHttp && \"begin\" in args && \"end\" in args) {\n      xhr.setRequestHeader(\"Range\", `bytes=${args.begin}-${args.end - 1}`);\n      pendingRequest.expectedStatus = PARTIAL_CONTENT_RESPONSE;\n    } else {\n      pendingRequest.expectedStatus = OK_RESPONSE;\n    }\n    xhr.responseType = \"arraybuffer\";\n    if (args.onError) {\n      xhr.onerror = function (evt) {\n        args.onError(xhr.status);\n      };\n    }\n    xhr.onreadystatechange = this.onStateChange.bind(this, xhrId);\n    xhr.onprogress = this.onProgress.bind(this, xhrId);\n    pendingRequest.onHeadersReceived = args.onHeadersReceived;\n    pendingRequest.onDone = args.onDone;\n    pendingRequest.onError = args.onError;\n    pendingRequest.onProgress = args.onProgress;\n    xhr.send(null);\n    return xhrId;\n  }\n  onProgress(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return;\n    }\n    pendingRequest.onProgress?.(evt);\n  }\n  onStateChange(xhrId, evt) {\n    const pendingRequest = this.pendingRequests[xhrId];\n    if (!pendingRequest) {\n      return;\n    }\n    const xhr = pendingRequest.xhr;\n    if (xhr.readyState >= 2 && pendingRequest.onHeadersReceived) {\n      pendingRequest.onHeadersReceived();\n      delete pendingRequest.onHeadersReceived;\n    }\n    if (xhr.readyState !== 4) {\n      return;\n    }\n    if (!(xhrId in this.pendingRequests)) {\n      return;\n    }\n    delete this.pendingRequests[xhrId];\n    if (xhr.status === 0 && this.isHttp) {\n      pendingRequest.onError?.(xhr.status);\n      return;\n    }\n    const xhrStatus = xhr.status || OK_RESPONSE;\n    const ok_response_on_range_request = xhrStatus === OK_RESPONSE && pendingRequest.expectedStatus === PARTIAL_CONTENT_RESPONSE;\n    if (!ok_response_on_range_request && xhrStatus !== pendingRequest.expectedStatus) {\n      pendingRequest.onError?.(xhr.status);\n      return;\n    }\n    const chunk = getArrayBuffer(xhr);\n    if (xhrStatus === PARTIAL_CONTENT_RESPONSE) {\n      const rangeHeader = xhr.getResponseHeader(\"Content-Range\");\n      const matches = /bytes (\\d+)-(\\d+)\\/(\\d+)/.exec(rangeHeader);\n      pendingRequest.onDone({\n        begin: parseInt(matches[1], 10),\n        chunk\n      });\n    } else if (chunk) {\n      pendingRequest.onDone({\n        begin: 0,\n        chunk\n      });\n    } else {\n      pendingRequest.onError?.(xhr.status);\n    }\n  }\n  getRequestXhr(xhrId) {\n    return this.pendingRequests[xhrId].xhr;\n  }\n  isPendingRequest(xhrId) {\n    return xhrId in this.pendingRequests;\n  }\n  abortRequest(xhrId) {\n    const xhr = this.pendingRequests[xhrId].xhr;\n    delete this.pendingRequests[xhrId];\n    xhr.abort();\n  }\n}\nclass PDFNetworkStream {\n  constructor(source) {\n    this._source = source;\n    this._manager = new NetworkManager(source.url, {\n      httpHeaders: source.httpHeaders,\n      withCredentials: source.withCredentials\n    });\n    this._rangeChunkSize = source.rangeChunkSize;\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  _onRangeRequestReaderClosed(reader) {\n    const i = this._rangeRequestReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeRequestReaders.splice(i, 1);\n    }\n  }\n  getFullReader() {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!this._fullRequestReader, \"PDFNetworkStream.getFullReader can only be called once.\");\n    this._fullRequestReader = new PDFNetworkStreamFullRequestReader(this._manager, this._source);\n    return this._fullRequestReader;\n  }\n  getRangeReader(begin, end) {\n    const reader = new PDFNetworkStreamRangeRequestReader(this._manager, begin, end);\n    reader.onClosed = this._onRangeRequestReaderClosed.bind(this);\n    this._rangeRequestReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass PDFNetworkStreamFullRequestReader {\n  constructor(manager, source) {\n    this._manager = manager;\n    const args = {\n      onHeadersReceived: this._onHeadersReceived.bind(this),\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this)\n    };\n    this._url = source.url;\n    this._fullRequestId = manager.requestFull(args);\n    this._headersReceivedCapability = Promise.withResolvers();\n    this._disableRange = source.disableRange || false;\n    this._contentLength = source.length;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._isStreamingSupported = false;\n    this._isRangeSupported = false;\n    this._cachedChunks = [];\n    this._requests = [];\n    this._done = false;\n    this._storedError = undefined;\n    this._filename = null;\n    this.onProgress = null;\n  }\n  _onHeadersReceived() {\n    const fullRequestXhrId = this._fullRequestId;\n    const fullRequestXhr = this._manager.getRequestXhr(fullRequestXhrId);\n    const getResponseHeader = name => fullRequestXhr.getResponseHeader(name);\n    const {\n      allowRangeRequests,\n      suggestedLength\n    } = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.validateRangeRequestCapabilities)({\n      getResponseHeader,\n      isHttp: this._manager.isHttp,\n      rangeChunkSize: this._rangeChunkSize,\n      disableRange: this._disableRange\n    });\n    if (allowRangeRequests) {\n      this._isRangeSupported = true;\n    }\n    this._contentLength = suggestedLength || this._contentLength;\n    this._filename = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.extractFilenameFromHeader)(getResponseHeader);\n    if (this._isRangeSupported) {\n      this._manager.abortRequest(fullRequestXhrId);\n    }\n    this._headersReceivedCapability.resolve();\n  }\n  _onDone(data) {\n    if (data) {\n      if (this._requests.length > 0) {\n        const requestCapability = this._requests.shift();\n        requestCapability.resolve({\n          value: data.chunk,\n          done: false\n        });\n      } else {\n        this._cachedChunks.push(data.chunk);\n      }\n    }\n    this._done = true;\n    if (this._cachedChunks.length > 0) {\n      return;\n    }\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n  }\n  _onError(status) {\n    this._storedError = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.createResponseStatusError)(status, this._url);\n    this._headersReceivedCapability.reject(this._storedError);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._cachedChunks.length = 0;\n  }\n  _onProgress(evt) {\n    this.onProgress?.({\n      loaded: evt.loaded,\n      total: evt.lengthComputable ? evt.total : this._contentLength\n    });\n  }\n  get filename() {\n    return this._filename;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get headersReady() {\n    return this._headersReceivedCapability.promise;\n  }\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._cachedChunks.length > 0) {\n      const chunk = this._cachedChunks.shift();\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    this._headersReceivedCapability.reject(reason);\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._fullRequestId)) {\n      this._manager.abortRequest(this._fullRequestId);\n    }\n    this._fullRequestReader = null;\n  }\n}\nclass PDFNetworkStreamRangeRequestReader {\n  constructor(manager, begin, end) {\n    this._manager = manager;\n    const args = {\n      onDone: this._onDone.bind(this),\n      onError: this._onError.bind(this),\n      onProgress: this._onProgress.bind(this)\n    };\n    this._url = manager.url;\n    this._requestId = manager.requestRange(begin, end, args);\n    this._requests = [];\n    this._queuedChunk = null;\n    this._done = false;\n    this._storedError = undefined;\n    this.onProgress = null;\n    this.onClosed = null;\n  }\n  _close() {\n    this.onClosed?.(this);\n  }\n  _onDone(data) {\n    const chunk = data.chunk;\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({\n        value: chunk,\n        done: false\n      });\n    } else {\n      this._queuedChunk = chunk;\n    }\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    this._close();\n  }\n  _onError(status) {\n    this._storedError = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.createResponseStatusError)(status, this._url);\n    for (const requestCapability of this._requests) {\n      requestCapability.reject(this._storedError);\n    }\n    this._requests.length = 0;\n    this._queuedChunk = null;\n  }\n  _onProgress(evt) {\n    if (!this.isStreamingSupported) {\n      this.onProgress?.({\n        loaded: evt.loaded\n      });\n    }\n  }\n  get isStreamingSupported() {\n    return false;\n  }\n  async read() {\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    if (this._queuedChunk !== null) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    if (this._manager.isPendingRequest(this._requestId)) {\n      this._manager.abortRequest(this._requestId);\n    }\n    this._close();\n  }\n}\n\n\n/***/ }),\n\n/***/ 490:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  createResponseStatusError: () => (/* binding */ createResponseStatusError),\n  extractFilenameFromHeader: () => (/* binding */ extractFilenameFromHeader),\n  validateRangeRequestCapabilities: () => (/* binding */ validateRangeRequestCapabilities),\n  validateResponseStatus: () => (/* binding */ validateResponseStatus)\n});\n\n// EXTERNAL MODULE: ./src/shared/util.js\nvar util = __webpack_require__(292);\n;// CONCATENATED MODULE: ./src/display/content_disposition.js\n\nfunction getFilenameFromContentDispositionHeader(contentDisposition) {\n  let needsEncodingFixup = true;\n  let tmp = toParamRegExp(\"filename\\\\*\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = unescape(filename);\n    filename = rfc5987decode(filename);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n  tmp = rfc2231getparam(contentDisposition);\n  if (tmp) {\n    const filename = rfc2047decode(tmp);\n    return fixupEncoding(filename);\n  }\n  tmp = toParamRegExp(\"filename\", \"i\").exec(contentDisposition);\n  if (tmp) {\n    tmp = tmp[1];\n    let filename = rfc2616unquote(tmp);\n    filename = rfc2047decode(filename);\n    return fixupEncoding(filename);\n  }\n  function toParamRegExp(attributePattern, flags) {\n    return new RegExp(\"(?:^|;)\\\\s*\" + attributePattern + \"\\\\s*=\\\\s*\" + \"(\" + '[^\";\\\\s][^;\\\\s]*' + \"|\" + '\"(?:[^\"\\\\\\\\]|\\\\\\\\\"?)+\"?' + \")\", flags);\n  }\n  function textdecode(encoding, value) {\n    if (encoding) {\n      if (!/^[\\x00-\\xFF]+$/.test(value)) {\n        return value;\n      }\n      try {\n        const decoder = new TextDecoder(encoding, {\n          fatal: true\n        });\n        const buffer = (0,util.stringToBytes)(value);\n        value = decoder.decode(buffer);\n        needsEncodingFixup = false;\n      } catch {}\n    }\n    return value;\n  }\n  function fixupEncoding(value) {\n    if (needsEncodingFixup && /[\\x80-\\xff]/.test(value)) {\n      value = textdecode(\"utf-8\", value);\n      if (needsEncodingFixup) {\n        value = textdecode(\"iso-8859-1\", value);\n      }\n    }\n    return value;\n  }\n  function rfc2231getparam(contentDispositionStr) {\n    const matches = [];\n    let match;\n    const iter = toParamRegExp(\"filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)\", \"ig\");\n    while ((match = iter.exec(contentDispositionStr)) !== null) {\n      let [, n, quot, part] = match;\n      n = parseInt(n, 10);\n      if (n in matches) {\n        if (n === 0) {\n          break;\n        }\n        continue;\n      }\n      matches[n] = [quot, part];\n    }\n    const parts = [];\n    for (let n = 0; n < matches.length; ++n) {\n      if (!(n in matches)) {\n        break;\n      }\n      let [quot, part] = matches[n];\n      part = rfc2616unquote(part);\n      if (quot) {\n        part = unescape(part);\n        if (n === 0) {\n          part = rfc5987decode(part);\n        }\n      }\n      parts.push(part);\n    }\n    return parts.join(\"\");\n  }\n  function rfc2616unquote(value) {\n    if (value.startsWith('\"')) {\n      const parts = value.slice(1).split('\\\\\"');\n      for (let i = 0; i < parts.length; ++i) {\n        const quotindex = parts[i].indexOf('\"');\n        if (quotindex !== -1) {\n          parts[i] = parts[i].slice(0, quotindex);\n          parts.length = i + 1;\n        }\n        parts[i] = parts[i].replaceAll(/\\\\(.)/g, \"$1\");\n      }\n      value = parts.join('\"');\n    }\n    return value;\n  }\n  function rfc5987decode(extvalue) {\n    const encodingend = extvalue.indexOf(\"'\");\n    if (encodingend === -1) {\n      return extvalue;\n    }\n    const encoding = extvalue.slice(0, encodingend);\n    const langvalue = extvalue.slice(encodingend + 1);\n    const value = langvalue.replace(/^[^']*'/, \"\");\n    return textdecode(encoding, value);\n  }\n  function rfc2047decode(value) {\n    if (!value.startsWith(\"=?\") || /[\\x00-\\x19\\x80-\\xff]/.test(value)) {\n      return value;\n    }\n    return value.replaceAll(/=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g, function (matches, charset, encoding, text) {\n      if (encoding === \"q\" || encoding === \"Q\") {\n        text = text.replaceAll(\"_\", \" \");\n        text = text.replaceAll(/=([0-9a-fA-F]{2})/g, function (match, hex) {\n          return String.fromCharCode(parseInt(hex, 16));\n        });\n        return textdecode(charset, text);\n      }\n      try {\n        text = atob(text);\n      } catch {}\n      return textdecode(charset, text);\n    });\n  }\n  return \"\";\n}\n\n// EXTERNAL MODULE: ./src/display/display_utils.js\nvar display_utils = __webpack_require__(419);\n;// CONCATENATED MODULE: ./src/display/network_utils.js\n\n\n\nfunction validateRangeRequestCapabilities({\n  getResponseHeader,\n  isHttp,\n  rangeChunkSize,\n  disableRange\n}) {\n  const returnValues = {\n    allowRangeRequests: false,\n    suggestedLength: undefined\n  };\n  const length = parseInt(getResponseHeader(\"Content-Length\"), 10);\n  if (!Number.isInteger(length)) {\n    return returnValues;\n  }\n  returnValues.suggestedLength = length;\n  if (length <= 2 * rangeChunkSize) {\n    return returnValues;\n  }\n  if (disableRange || !isHttp) {\n    return returnValues;\n  }\n  if (getResponseHeader(\"Accept-Ranges\") !== \"bytes\") {\n    return returnValues;\n  }\n  const contentEncoding = getResponseHeader(\"Content-Encoding\") || \"identity\";\n  if (contentEncoding !== \"identity\") {\n    return returnValues;\n  }\n  returnValues.allowRangeRequests = true;\n  return returnValues;\n}\nfunction extractFilenameFromHeader(getResponseHeader) {\n  const contentDisposition = getResponseHeader(\"Content-Disposition\");\n  if (contentDisposition) {\n    let filename = getFilenameFromContentDispositionHeader(contentDisposition);\n    if (filename.includes(\"%\")) {\n      try {\n        filename = decodeURIComponent(filename);\n      } catch {}\n    }\n    if ((0,display_utils.isPdfFile)(filename)) {\n      return filename;\n    }\n  }\n  return null;\n}\nfunction createResponseStatusError(status, url) {\n  if (status === 404 || status === 0 && url.startsWith(\"file:\")) {\n    return new util.MissingPDFException('Missing PDF \"' + url + '\".');\n  }\n  return new util.UnexpectedResponseException(`Unexpected server response (${status}) while retrieving PDF \"${url}\".`, status);\n}\nfunction validateResponseStatus(status) {\n  return status === 200 || status === 206;\n}\n\n\n/***/ }),\n\n/***/ 786:\n/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFNodeStream: () => (/* binding */ PDFNodeStream)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _network_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(490);\n\n\nlet fs, http, https, url;\nif (_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.isNodeJS) {\n  fs = await import( /*webpackIgnore: true*/\"fs\");\n  http = await import( /*webpackIgnore: true*/\"http\");\n  https = await import( /*webpackIgnore: true*/\"https\");\n  url = await import( /*webpackIgnore: true*/\"url\");\n}\nconst fileUriRegex = /^file:\\/\\/\\/[a-zA-Z]:\\//;\nfunction parseUrl(sourceUrl) {\n  const parsedUrl = url.parse(sourceUrl);\n  if (parsedUrl.protocol === \"file:\" || parsedUrl.host) {\n    return parsedUrl;\n  }\n  if (/^[a-z]:[/\\\\]/i.test(sourceUrl)) {\n    return url.parse(`file:///${sourceUrl}`);\n  }\n  if (!parsedUrl.host) {\n    parsedUrl.protocol = \"file:\";\n  }\n  return parsedUrl;\n}\nclass PDFNodeStream {\n  constructor(source) {\n    this.source = source;\n    this.url = parseUrl(source.url);\n    this.isHttp = this.url.protocol === \"http:\" || this.url.protocol === \"https:\";\n    this.isFsUrl = this.url.protocol === \"file:\";\n    this.httpHeaders = this.isHttp && source.httpHeaders || {};\n    this._fullRequestReader = null;\n    this._rangeRequestReaders = [];\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  getFullReader() {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!this._fullRequestReader, \"PDFNodeStream.getFullReader can only be called once.\");\n    this._fullRequestReader = this.isFsUrl ? new PDFNodeStreamFsFullReader(this) : new PDFNodeStreamFullReader(this);\n    return this._fullRequestReader;\n  }\n  getRangeReader(start, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const rangeReader = this.isFsUrl ? new PDFNodeStreamFsRangeReader(this, start, end) : new PDFNodeStreamRangeReader(this, start, end);\n    this._rangeRequestReaders.push(rangeReader);\n    return rangeReader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeRequestReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n  }\n}\nclass BaseFullReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    const source = stream.source;\n    this._contentLength = source.length;\n    this._loaded = 0;\n    this._filename = null;\n    this._disableRange = source.disableRange || false;\n    this._rangeChunkSize = source.rangeChunkSize;\n    if (!this._rangeChunkSize && !this._disableRange) {\n      this._disableRange = true;\n    }\n    this._isStreamingSupported = !source.disableStream;\n    this._isRangeSupported = !source.disableRange;\n    this._readableStream = null;\n    this._readCapability = Promise.withResolvers();\n    this._headersCapability = Promise.withResolvers();\n  }\n  get headersReady() {\n    return this._headersCapability.promise;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get contentLength() {\n    return this._contentLength;\n  }\n  get isRangeSupported() {\n    return this._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = Promise.withResolvers();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({\n      loaded: this._loaded,\n      total: this._contentLength\n    });\n    const buffer = new Uint8Array(chunk).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n  cancel(reason) {\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"end\", () => {\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n    if (!this._isStreamingSupported && this._isRangeSupported) {\n      this._error(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(\"streaming is disabled\"));\n    }\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\nclass BaseRangeReader {\n  constructor(stream) {\n    this._url = stream.url;\n    this._done = false;\n    this._storedError = null;\n    this.onProgress = null;\n    this._loaded = 0;\n    this._readableStream = null;\n    this._readCapability = Promise.withResolvers();\n    const source = stream.source;\n    this._isStreamingSupported = !source.disableStream;\n  }\n  get isStreamingSupported() {\n    return this._isStreamingSupported;\n  }\n  async read() {\n    await this._readCapability.promise;\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    if (this._storedError) {\n      throw this._storedError;\n    }\n    const chunk = this._readableStream.read();\n    if (chunk === null) {\n      this._readCapability = Promise.withResolvers();\n      return this.read();\n    }\n    this._loaded += chunk.length;\n    this.onProgress?.({\n      loaded: this._loaded\n    });\n    const buffer = new Uint8Array(chunk).buffer;\n    return {\n      value: buffer,\n      done: false\n    };\n  }\n  cancel(reason) {\n    if (!this._readableStream) {\n      this._error(reason);\n      return;\n    }\n    this._readableStream.destroy(reason);\n  }\n  _error(reason) {\n    this._storedError = reason;\n    this._readCapability.resolve();\n  }\n  _setReadableStream(readableStream) {\n    this._readableStream = readableStream;\n    readableStream.on(\"readable\", () => {\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"end\", () => {\n      readableStream.destroy();\n      this._done = true;\n      this._readCapability.resolve();\n    });\n    readableStream.on(\"error\", reason => {\n      this._error(reason);\n    });\n    if (this._storedError) {\n      this._readableStream.destroy(this._storedError);\n    }\n  }\n}\nfunction createRequestOptions(parsedUrl, headers) {\n  return {\n    protocol: parsedUrl.protocol,\n    auth: parsedUrl.auth,\n    host: parsedUrl.hostname,\n    port: parsedUrl.port,\n    path: parsedUrl.path,\n    method: \"GET\",\n    headers\n  };\n}\nclass PDFNodeStreamFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        this._headersCapability.reject(error);\n        return;\n      }\n      this._headersCapability.resolve();\n      this._setReadableStream(response);\n      const getResponseHeader = name => this._readableStream.headers[name.toLowerCase()];\n      const {\n        allowRangeRequests,\n        suggestedLength\n      } = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.validateRangeRequestCapabilities)({\n        getResponseHeader,\n        isHttp: stream.isHttp,\n        rangeChunkSize: this._rangeChunkSize,\n        disableRange: this._disableRange\n      });\n      this._isRangeSupported = allowRangeRequests;\n      this._contentLength = suggestedLength || this._contentLength;\n      this._filename = (0,_network_utils_js__WEBPACK_IMPORTED_MODULE_1__.extractFilenameFromHeader)(getResponseHeader);\n    };\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(createRequestOptions(this._url, stream.httpHeaders), handleResponse);\n    } else {\n      this._request = https.request(createRequestOptions(this._url, stream.httpHeaders), handleResponse);\n    }\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n      this._headersCapability.reject(reason);\n    });\n    this._request.end();\n  }\n}\nclass PDFNodeStreamRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n    this._httpHeaders = {};\n    for (const property in stream.httpHeaders) {\n      const value = stream.httpHeaders[property];\n      if (value === undefined) {\n        continue;\n      }\n      this._httpHeaders[property] = value;\n    }\n    this._httpHeaders.Range = `bytes=${start}-${end - 1}`;\n    const handleResponse = response => {\n      if (response.statusCode === 404) {\n        const error = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException(`Missing PDF \"${this._url}\".`);\n        this._storedError = error;\n        return;\n      }\n      this._setReadableStream(response);\n    };\n    this._request = null;\n    if (this._url.protocol === \"http:\") {\n      this._request = http.request(createRequestOptions(this._url, this._httpHeaders), handleResponse);\n    } else {\n      this._request = https.request(createRequestOptions(this._url, this._httpHeaders), handleResponse);\n    }\n    this._request.on(\"error\", reason => {\n      this._storedError = reason;\n    });\n    this._request.end();\n  }\n}\nclass PDFNodeStreamFsFullReader extends BaseFullReader {\n  constructor(stream) {\n    super(stream);\n    let path = decodeURIComponent(this._url.path);\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n    fs.promises.lstat(path).then(stat => {\n      this._contentLength = stat.size;\n      this._setReadableStream(fs.createReadStream(path));\n      this._headersCapability.resolve();\n    }, error => {\n      if (error.code === \"ENOENT\") {\n        error = new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException(`Missing PDF \"${path}\".`);\n      }\n      this._storedError = error;\n      this._headersCapability.reject(error);\n    });\n  }\n}\nclass PDFNodeStreamFsRangeReader extends BaseRangeReader {\n  constructor(stream, start, end) {\n    super(stream);\n    let path = decodeURIComponent(this._url.path);\n    if (fileUriRegex.test(this._url.href)) {\n      path = path.replace(/^\\//, \"\");\n    }\n    this._setReadableStream(fs.createReadStream(path, {\n      start,\n      end: end - 1\n    }));\n  }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } }, 1);\n\n/***/ }),\n\n/***/ 573:\n/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NodeCMapReaderFactory: () => (/* binding */ NodeCMapReaderFactory),\n/* harmony export */   NodeCanvasFactory: () => (/* binding */ NodeCanvasFactory),\n/* harmony export */   NodeFilterFactory: () => (/* binding */ NodeFilterFactory),\n/* harmony export */   NodeStandardFontDataFactory: () => (/* binding */ NodeStandardFontDataFactory)\n/* harmony export */ });\n/* harmony import */ var _base_factory_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(583);\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(292);\n\n\nlet fs, canvas, path2d;\nif (_shared_util_js__WEBPACK_IMPORTED_MODULE_1__.isNodeJS) {\n  fs = await import( /*webpackIgnore: true*/\"fs\");\n  try {\n    canvas = await import( /*webpackIgnore: true*/\"canvas\");\n  } catch {}\n  try {\n    path2d = await import( /*webpackIgnore: true*/\"path2d\");\n  } catch {}\n}\nconst fetchData = function (url) {\n  return fs.promises.readFile(url).then(data => new Uint8Array(data));\n};\nclass NodeFilterFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseFilterFactory {}\nclass NodeCanvasFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseCanvasFactory {\n  _createCanvas(width, height) {\n    return canvas.createCanvas(width, height);\n  }\n}\nclass NodeCMapReaderFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseCMapReaderFactory {\n  _fetchData(url, compressionType) {\n    return fetchData(url).then(data => ({\n      cMapData: data,\n      compressionType\n    }));\n  }\n}\nclass NodeStandardFontDataFactory extends _base_factory_js__WEBPACK_IMPORTED_MODULE_0__.BaseStandardFontDataFactory {\n  _fetchData(url) {\n    return fetchData(url);\n  }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } }, 1);\n\n/***/ }),\n\n/***/ 626:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OptionalContentConfig: () => (/* binding */ OptionalContentConfig)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(651);\n\n\nconst INTERNAL = Symbol(\"INTERNAL\");\nclass OptionalContentGroup {\n  #isDisplay = false;\n  #isPrint = false;\n  #userSet = false;\n  #visible = true;\n  constructor(renderingIntent, {\n    name,\n    intent,\n    usage\n  }) {\n    this.#isDisplay = !!(renderingIntent & _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.DISPLAY);\n    this.#isPrint = !!(renderingIntent & _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.PRINT);\n    this.name = name;\n    this.intent = intent;\n    this.usage = usage;\n  }\n  get visible() {\n    if (this.#userSet) {\n      return this.#visible;\n    }\n    if (!this.#visible) {\n      return false;\n    }\n    const {\n      print,\n      view\n    } = this.usage;\n    if (this.#isDisplay) {\n      return view?.viewState !== \"OFF\";\n    } else if (this.#isPrint) {\n      return print?.printState !== \"OFF\";\n    }\n    return true;\n  }\n  _setVisible(internal, visible, userSet = false) {\n    if (internal !== INTERNAL) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)(\"Internal method `_setVisible` called.\");\n    }\n    this.#userSet = userSet;\n    this.#visible = visible;\n  }\n}\nclass OptionalContentConfig {\n  #cachedGetHash = null;\n  #groups = new Map();\n  #initialHash = null;\n  #order = null;\n  constructor(data, renderingIntent = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.RenderingIntentFlag.DISPLAY) {\n    this.renderingIntent = renderingIntent;\n    this.name = null;\n    this.creator = null;\n    if (data === null) {\n      return;\n    }\n    this.name = data.name;\n    this.creator = data.creator;\n    this.#order = data.order;\n    for (const group of data.groups) {\n      this.#groups.set(group.id, new OptionalContentGroup(renderingIntent, group));\n    }\n    if (data.baseState === \"OFF\") {\n      for (const group of this.#groups.values()) {\n        group._setVisible(INTERNAL, false);\n      }\n    }\n    for (const on of data.on) {\n      this.#groups.get(on)._setVisible(INTERNAL, true);\n    }\n    for (const off of data.off) {\n      this.#groups.get(off)._setVisible(INTERNAL, false);\n    }\n    this.#initialHash = this.getHash();\n  }\n  #evaluateVisibilityExpression(array) {\n    const length = array.length;\n    if (length < 2) {\n      return true;\n    }\n    const operator = array[0];\n    for (let i = 1; i < length; i++) {\n      const element = array[i];\n      let state;\n      if (Array.isArray(element)) {\n        state = this.#evaluateVisibilityExpression(element);\n      } else if (this.#groups.has(element)) {\n        state = this.#groups.get(element).visible;\n      } else {\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${element}`);\n        return true;\n      }\n      switch (operator) {\n        case \"And\":\n          if (!state) {\n            return false;\n          }\n          break;\n        case \"Or\":\n          if (state) {\n            return true;\n          }\n          break;\n        case \"Not\":\n          return !state;\n        default:\n          return true;\n      }\n    }\n    return operator === \"And\";\n  }\n  isVisible(group) {\n    if (this.#groups.size === 0) {\n      return true;\n    }\n    if (!group) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.info)(\"Optional content group not defined.\");\n      return true;\n    }\n    if (group.type === \"OCG\") {\n      if (!this.#groups.has(group.id)) {\n        (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${group.id}`);\n        return true;\n      }\n      return this.#groups.get(group.id).visible;\n    } else if (group.type === \"OCMD\") {\n      if (group.expression) {\n        return this.#evaluateVisibilityExpression(group.expression);\n      }\n      if (!group.policy || group.policy === \"AnyOn\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOn\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      } else if (group.policy === \"AnyOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (!this.#groups.get(id).visible) {\n            return true;\n          }\n        }\n        return false;\n      } else if (group.policy === \"AllOff\") {\n        for (const id of group.ids) {\n          if (!this.#groups.has(id)) {\n            (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${id}`);\n            return true;\n          }\n          if (this.#groups.get(id).visible) {\n            return false;\n          }\n        }\n        return true;\n      }\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Unknown optional content policy ${group.policy}.`);\n      return true;\n    }\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Unknown group type ${group.type}.`);\n    return true;\n  }\n  setVisibility(id, visible = true) {\n    const group = this.#groups.get(id);\n    if (!group) {\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.warn)(`Optional content group not found: ${id}`);\n      return;\n    }\n    group._setVisible(INTERNAL, !!visible, true);\n    this.#cachedGetHash = null;\n  }\n  setOCGState({\n    state,\n    preserveRB\n  }) {\n    let operator;\n    for (const elem of state) {\n      switch (elem) {\n        case \"ON\":\n        case \"OFF\":\n        case \"Toggle\":\n          operator = elem;\n          continue;\n      }\n      const group = this.#groups.get(elem);\n      if (!group) {\n        continue;\n      }\n      switch (operator) {\n        case \"ON\":\n          group._setVisible(INTERNAL, true);\n          break;\n        case \"OFF\":\n          group._setVisible(INTERNAL, false);\n          break;\n        case \"Toggle\":\n          group._setVisible(INTERNAL, !group.visible);\n          break;\n      }\n    }\n    this.#cachedGetHash = null;\n  }\n  get hasInitialVisibility() {\n    return this.#initialHash === null || this.getHash() === this.#initialHash;\n  }\n  getOrder() {\n    if (!this.#groups.size) {\n      return null;\n    }\n    if (this.#order) {\n      return this.#order.slice();\n    }\n    return [...this.#groups.keys()];\n  }\n  getGroups() {\n    return this.#groups.size > 0 ? (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.objectFromMap)(this.#groups) : null;\n  }\n  getGroup(id) {\n    return this.#groups.get(id) || null;\n  }\n  getHash() {\n    if (this.#cachedGetHash !== null) {\n      return this.#cachedGetHash;\n    }\n    const hash = new _shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_1__.MurmurHash3_64();\n    for (const [id, group] of this.#groups) {\n      hash.update(`${id}:${group.visible}`);\n    }\n    return this.#cachedGetHash = hash.hexdigest();\n  }\n}\n\n\n/***/ }),\n\n/***/ 814:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cleanupTextLayer: () => (/* binding */ cleanupTextLayer),\n/* harmony export */   renderTextLayer: () => (/* binding */ renderTextLayer),\n/* harmony export */   updateTextLayer: () => (/* binding */ updateTextLayer)\n/* harmony export */ });\n/* unused harmony export TextLayerRenderTask */\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(419);\n\n\nconst MAX_TEXT_DIVS_TO_RENDER = 100000;\nconst DEFAULT_FONT_SIZE = 30;\nconst DEFAULT_FONT_ASCENT = 0.8;\nconst ascentCache = new Map();\nlet _canvasContext = null;\nfunction getCtx() {\n  if (!_canvasContext) {\n    const canvas = document.createElement(\"canvas\");\n    canvas.className = \"hiddenCanvasElement\";\n    document.body.append(canvas);\n    _canvasContext = canvas.getContext(\"2d\", {\n      alpha: false\n    });\n  }\n  return _canvasContext;\n}\nfunction cleanupTextLayer() {\n  _canvasContext?.canvas.remove();\n  _canvasContext = null;\n}\nfunction getAscent(fontFamily) {\n  const cachedAscent = ascentCache.get(fontFamily);\n  if (cachedAscent) {\n    return cachedAscent;\n  }\n  const ctx = getCtx();\n  const savedFont = ctx.font;\n  ctx.canvas.width = ctx.canvas.height = DEFAULT_FONT_SIZE;\n  ctx.font = `${DEFAULT_FONT_SIZE}px ${fontFamily}`;\n  const metrics = ctx.measureText(\"\");\n  let ascent = metrics.fontBoundingBoxAscent;\n  let descent = Math.abs(metrics.fontBoundingBoxDescent);\n  if (ascent) {\n    const ratio = ascent / (ascent + descent);\n    ascentCache.set(fontFamily, ratio);\n    ctx.canvas.width = ctx.canvas.height = 0;\n    ctx.font = savedFont;\n    return ratio;\n  }\n  ctx.strokeStyle = \"red\";\n  ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n  ctx.strokeText(\"g\", 0, 0);\n  let pixels = ctx.getImageData(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE).data;\n  descent = 0;\n  for (let i = pixels.length - 1 - 3; i >= 0; i -= 4) {\n    if (pixels[i] > 0) {\n      descent = Math.ceil(i / 4 / DEFAULT_FONT_SIZE);\n      break;\n    }\n  }\n  ctx.clearRect(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE);\n  ctx.strokeText(\"A\", 0, DEFAULT_FONT_SIZE);\n  pixels = ctx.getImageData(0, 0, DEFAULT_FONT_SIZE, DEFAULT_FONT_SIZE).data;\n  ascent = 0;\n  for (let i = 0, ii = pixels.length; i < ii; i += 4) {\n    if (pixels[i] > 0) {\n      ascent = DEFAULT_FONT_SIZE - Math.floor(i / 4 / DEFAULT_FONT_SIZE);\n      break;\n    }\n  }\n  ctx.canvas.width = ctx.canvas.height = 0;\n  ctx.font = savedFont;\n  if (ascent) {\n    const ratio = ascent / (ascent + descent);\n    ascentCache.set(fontFamily, ratio);\n    return ratio;\n  }\n  ascentCache.set(fontFamily, DEFAULT_FONT_ASCENT);\n  return DEFAULT_FONT_ASCENT;\n}\nfunction appendText(task, geom, styles) {\n  const textDiv = document.createElement(\"span\");\n  const textDivProperties = {\n    angle: 0,\n    canvasWidth: 0,\n    hasText: geom.str !== \"\",\n    hasEOL: geom.hasEOL,\n    fontSize: 0\n  };\n  task._textDivs.push(textDiv);\n  const tx = _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.Util.transform(task._transform, geom.transform);\n  let angle = Math.atan2(tx[1], tx[0]);\n  const style = styles[geom.fontName];\n  if (style.vertical) {\n    angle += Math.PI / 2;\n  }\n  const fontFamily = task._fontInspectorEnabled && style.fontSubstitution || style.fontFamily;\n  const fontHeight = Math.hypot(tx[2], tx[3]);\n  const fontAscent = fontHeight * getAscent(fontFamily);\n  let left, top;\n  if (angle === 0) {\n    left = tx[4];\n    top = tx[5] - fontAscent;\n  } else {\n    left = tx[4] + fontAscent * Math.sin(angle);\n    top = tx[5] - fontAscent * Math.cos(angle);\n  }\n  const scaleFactorStr = \"calc(var(--scale-factor)*\";\n  const divStyle = textDiv.style;\n  if (task._container === task._rootContainer) {\n    divStyle.left = `${(100 * left / task._pageWidth).toFixed(2)}%`;\n    divStyle.top = `${(100 * top / task._pageHeight).toFixed(2)}%`;\n  } else {\n    divStyle.left = `${scaleFactorStr}${left.toFixed(2)}px)`;\n    divStyle.top = `${scaleFactorStr}${top.toFixed(2)}px)`;\n  }\n  divStyle.fontSize = `${scaleFactorStr}${fontHeight.toFixed(2)}px)`;\n  divStyle.fontFamily = fontFamily;\n  textDivProperties.fontSize = fontHeight;\n  textDiv.setAttribute(\"role\", \"presentation\");\n  textDiv.textContent = geom.str;\n  textDiv.dir = geom.dir;\n  if (task._fontInspectorEnabled) {\n    textDiv.dataset.fontName = style.fontSubstitutionLoadedName || geom.fontName;\n  }\n  if (angle !== 0) {\n    textDivProperties.angle = angle * (180 / Math.PI);\n  }\n  let shouldScaleText = false;\n  if (geom.str.length > 1) {\n    shouldScaleText = true;\n  } else if (geom.str !== \" \" && geom.transform[0] !== geom.transform[3]) {\n    const absScaleX = Math.abs(geom.transform[0]),\n      absScaleY = Math.abs(geom.transform[3]);\n    if (absScaleX !== absScaleY && Math.max(absScaleX, absScaleY) / Math.min(absScaleX, absScaleY) > 1.5) {\n      shouldScaleText = true;\n    }\n  }\n  if (shouldScaleText) {\n    textDivProperties.canvasWidth = style.vertical ? geom.height : geom.width;\n  }\n  task._textDivProperties.set(textDiv, textDivProperties);\n  if (task._isReadableStream) {\n    task._layoutText(textDiv);\n  }\n}\nfunction layout(params) {\n  const {\n    div,\n    scale,\n    properties,\n    ctx,\n    prevFontSize,\n    prevFontFamily\n  } = params;\n  const {\n    style\n  } = div;\n  let transform = \"\";\n  if (properties.canvasWidth !== 0 && properties.hasText) {\n    const {\n      fontFamily\n    } = style;\n    const {\n      canvasWidth,\n      fontSize\n    } = properties;\n    if (prevFontSize !== fontSize || prevFontFamily !== fontFamily) {\n      ctx.font = `${fontSize * scale}px ${fontFamily}`;\n      params.prevFontSize = fontSize;\n      params.prevFontFamily = fontFamily;\n    }\n    const {\n      width\n    } = ctx.measureText(div.textContent);\n    if (width > 0) {\n      transform = `scaleX(${canvasWidth * scale / width})`;\n    }\n  }\n  if (properties.angle !== 0) {\n    transform = `rotate(${properties.angle}deg) ${transform}`;\n  }\n  if (transform.length > 0) {\n    style.transform = transform;\n  }\n}\nfunction render(task) {\n  if (task._canceled) {\n    return;\n  }\n  const textDivs = task._textDivs;\n  const capability = task._capability;\n  const textDivsLength = textDivs.length;\n  if (textDivsLength > MAX_TEXT_DIVS_TO_RENDER) {\n    capability.resolve();\n    return;\n  }\n  if (!task._isReadableStream) {\n    for (const textDiv of textDivs) {\n      task._layoutText(textDiv);\n    }\n  }\n  capability.resolve();\n}\nclass TextLayerRenderTask {\n  constructor({\n    textContentSource,\n    container,\n    viewport,\n    textDivs,\n    textDivProperties,\n    textContentItemsStr\n  }) {\n    this._textContentSource = textContentSource;\n    this._isReadableStream = textContentSource instanceof ReadableStream;\n    this._container = this._rootContainer = container;\n    this._textDivs = textDivs || [];\n    this._textContentItemsStr = textContentItemsStr || [];\n    this._fontInspectorEnabled = !!globalThis.FontInspector?.enabled;\n    this._reader = null;\n    this._textDivProperties = textDivProperties || new WeakMap();\n    this._canceled = false;\n    this._capability = Promise.withResolvers();\n    this._layoutTextParams = {\n      prevFontSize: null,\n      prevFontFamily: null,\n      div: null,\n      scale: viewport.scale * (globalThis.devicePixelRatio || 1),\n      properties: null,\n      ctx: getCtx()\n    };\n    const {\n      pageWidth,\n      pageHeight,\n      pageX,\n      pageY\n    } = viewport.rawDims;\n    this._transform = [1, 0, 0, -1, -pageX, pageY + pageHeight];\n    this._pageWidth = pageWidth;\n    this._pageHeight = pageHeight;\n    (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_1__.setLayerDimensions)(container, viewport);\n    this._capability.promise.finally(() => {\n      this._layoutTextParams = null;\n    }).catch(() => {});\n  }\n  get promise() {\n    return this._capability.promise;\n  }\n  cancel() {\n    this._canceled = true;\n    if (this._reader) {\n      this._reader.cancel(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(\"TextLayer task cancelled.\")).catch(() => {});\n      this._reader = null;\n    }\n    this._capability.reject(new _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(\"TextLayer task cancelled.\"));\n  }\n  _processItems(items, styleCache) {\n    for (const item of items) {\n      if (item.str === undefined) {\n        if (item.type === \"beginMarkedContentProps\" || item.type === \"beginMarkedContent\") {\n          const parent = this._container;\n          this._container = document.createElement(\"span\");\n          this._container.classList.add(\"markedContent\");\n          if (item.id !== null) {\n            this._container.setAttribute(\"id\", `${item.id}`);\n          }\n          parent.append(this._container);\n        } else if (item.type === \"endMarkedContent\") {\n          this._container = this._container.parentNode;\n        }\n        continue;\n      }\n      this._textContentItemsStr.push(item.str);\n      appendText(this, item, styleCache);\n    }\n  }\n  _layoutText(textDiv) {\n    const textDivProperties = this._layoutTextParams.properties = this._textDivProperties.get(textDiv);\n    this._layoutTextParams.div = textDiv;\n    layout(this._layoutTextParams);\n    if (textDivProperties.hasText) {\n      this._container.append(textDiv);\n    }\n    if (textDivProperties.hasEOL) {\n      const br = document.createElement(\"br\");\n      br.setAttribute(\"role\", \"presentation\");\n      this._container.append(br);\n    }\n  }\n  _render() {\n    const {\n      promise,\n      resolve,\n      reject\n    } = Promise.withResolvers();\n    let styleCache = Object.create(null);\n    if (this._isReadableStream) {\n      const pump = () => {\n        this._reader.read().then(({\n          value,\n          done\n        }) => {\n          if (done) {\n            resolve();\n            return;\n          }\n          Object.assign(styleCache, value.styles);\n          this._processItems(value.items, styleCache);\n          pump();\n        }, reject);\n      };\n      this._reader = this._textContentSource.getReader();\n      pump();\n    } else if (this._textContentSource) {\n      const {\n        items,\n        styles\n      } = this._textContentSource;\n      this._processItems(items, styles);\n      resolve();\n    } else {\n      throw new Error('No \"textContentSource\" parameter specified.');\n    }\n    promise.then(() => {\n      styleCache = null;\n      render(this);\n    }, this._capability.reject);\n  }\n}\nfunction renderTextLayer(params) {\n  const task = new TextLayerRenderTask(params);\n  task._render();\n  return task;\n}\nfunction updateTextLayer({\n  container,\n  viewport,\n  textDivs,\n  textDivProperties,\n  mustRotate = true,\n  mustRescale = true\n}) {\n  if (mustRotate) {\n    (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_1__.setLayerDimensions)(container, {\n      rotation: viewport.rotation\n    });\n  }\n  if (mustRescale) {\n    const ctx = getCtx();\n    const scale = viewport.scale * (globalThis.devicePixelRatio || 1);\n    const params = {\n      prevFontSize: null,\n      prevFontFamily: null,\n      div: null,\n      scale,\n      properties: null,\n      ctx\n    };\n    for (const div of textDivs) {\n      params.properties = textDivProperties.get(div);\n      params.div = div;\n      layout(params);\n    }\n  }\n}\n\n\n/***/ }),\n\n/***/ 585:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PDFDataTransportStream: () => (/* binding */ PDFDataTransportStream)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _display_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(419);\n\n\nclass PDFDataTransportStream {\n  constructor(pdfDataRangeTransport, {\n    disableRange = false,\n    disableStream = false\n  }) {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(pdfDataRangeTransport, 'PDFDataTransportStream - missing required \"pdfDataRangeTransport\" argument.');\n    const {\n      length,\n      initialData,\n      progressiveDone,\n      contentDispositionFilename\n    } = pdfDataRangeTransport;\n    this._queuedChunks = [];\n    this._progressiveDone = progressiveDone;\n    this._contentDispositionFilename = contentDispositionFilename;\n    if (initialData?.length > 0) {\n      const buffer = initialData instanceof Uint8Array && initialData.byteLength === initialData.buffer.byteLength ? initialData.buffer : new Uint8Array(initialData).buffer;\n      this._queuedChunks.push(buffer);\n    }\n    this._pdfDataRangeTransport = pdfDataRangeTransport;\n    this._isStreamingSupported = !disableStream;\n    this._isRangeSupported = !disableRange;\n    this._contentLength = length;\n    this._fullRequestReader = null;\n    this._rangeReaders = [];\n    pdfDataRangeTransport.addRangeListener((begin, chunk) => {\n      this._onReceiveData({\n        begin,\n        chunk\n      });\n    });\n    pdfDataRangeTransport.addProgressListener((loaded, total) => {\n      this._onProgress({\n        loaded,\n        total\n      });\n    });\n    pdfDataRangeTransport.addProgressiveReadListener(chunk => {\n      this._onReceiveData({\n        chunk\n      });\n    });\n    pdfDataRangeTransport.addProgressiveDoneListener(() => {\n      this._onProgressiveDone();\n    });\n    pdfDataRangeTransport.transportReady();\n  }\n  _onReceiveData({\n    begin,\n    chunk\n  }) {\n    const buffer = chunk instanceof Uint8Array && chunk.byteLength === chunk.buffer.byteLength ? chunk.buffer : new Uint8Array(chunk).buffer;\n    if (begin === undefined) {\n      if (this._fullRequestReader) {\n        this._fullRequestReader._enqueue(buffer);\n      } else {\n        this._queuedChunks.push(buffer);\n      }\n    } else {\n      const found = this._rangeReaders.some(function (rangeReader) {\n        if (rangeReader._begin !== begin) {\n          return false;\n        }\n        rangeReader._enqueue(buffer);\n        return true;\n      });\n      (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(found, \"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.\");\n    }\n  }\n  get _progressiveDataLength() {\n    return this._fullRequestReader?._loaded ?? 0;\n  }\n  _onProgress(evt) {\n    if (evt.total === undefined) {\n      this._rangeReaders[0]?.onProgress?.({\n        loaded: evt.loaded\n      });\n    } else {\n      this._fullRequestReader?.onProgress?.({\n        loaded: evt.loaded,\n        total: evt.total\n      });\n    }\n  }\n  _onProgressiveDone() {\n    this._fullRequestReader?.progressiveDone();\n    this._progressiveDone = true;\n  }\n  _removeRangeReader(reader) {\n    const i = this._rangeReaders.indexOf(reader);\n    if (i >= 0) {\n      this._rangeReaders.splice(i, 1);\n    }\n  }\n  getFullReader() {\n    (0,_shared_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(!this._fullRequestReader, \"PDFDataTransportStream.getFullReader can only be called once.\");\n    const queuedChunks = this._queuedChunks;\n    this._queuedChunks = null;\n    return new PDFDataTransportStreamReader(this, queuedChunks, this._progressiveDone, this._contentDispositionFilename);\n  }\n  getRangeReader(begin, end) {\n    if (end <= this._progressiveDataLength) {\n      return null;\n    }\n    const reader = new PDFDataTransportStreamRangeReader(this, begin, end);\n    this._pdfDataRangeTransport.requestDataRange(begin, end);\n    this._rangeReaders.push(reader);\n    return reader;\n  }\n  cancelAllRequests(reason) {\n    this._fullRequestReader?.cancel(reason);\n    for (const reader of this._rangeReaders.slice(0)) {\n      reader.cancel(reason);\n    }\n    this._pdfDataRangeTransport.abort();\n  }\n}\nclass PDFDataTransportStreamReader {\n  constructor(stream, queuedChunks, progressiveDone = false, contentDispositionFilename = null) {\n    this._stream = stream;\n    this._done = progressiveDone || false;\n    this._filename = (0,_display_utils_js__WEBPACK_IMPORTED_MODULE_1__.isPdfFile)(contentDispositionFilename) ? contentDispositionFilename : null;\n    this._queuedChunks = queuedChunks || [];\n    this._loaded = 0;\n    for (const chunk of this._queuedChunks) {\n      this._loaded += chunk.byteLength;\n    }\n    this._requests = [];\n    this._headersReady = Promise.resolve();\n    stream._fullRequestReader = this;\n    this.onProgress = null;\n  }\n  _enqueue(chunk) {\n    if (this._done) {\n      return;\n    }\n    if (this._requests.length > 0) {\n      const requestCapability = this._requests.shift();\n      requestCapability.resolve({\n        value: chunk,\n        done: false\n      });\n    } else {\n      this._queuedChunks.push(chunk);\n    }\n    this._loaded += chunk.byteLength;\n  }\n  get headersReady() {\n    return this._headersReady;\n  }\n  get filename() {\n    return this._filename;\n  }\n  get isRangeSupported() {\n    return this._stream._isRangeSupported;\n  }\n  get isStreamingSupported() {\n    return this._stream._isStreamingSupported;\n  }\n  get contentLength() {\n    return this._stream._contentLength;\n  }\n  async read() {\n    if (this._queuedChunks.length > 0) {\n      const chunk = this._queuedChunks.shift();\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n  }\n  progressiveDone() {\n    if (this._done) {\n      return;\n    }\n    this._done = true;\n  }\n}\nclass PDFDataTransportStreamRangeReader {\n  constructor(stream, begin, end) {\n    this._stream = stream;\n    this._begin = begin;\n    this._end = end;\n    this._queuedChunk = null;\n    this._requests = [];\n    this._done = false;\n    this.onProgress = null;\n  }\n  _enqueue(chunk) {\n    if (this._done) {\n      return;\n    }\n    if (this._requests.length === 0) {\n      this._queuedChunk = chunk;\n    } else {\n      const requestsCapability = this._requests.shift();\n      requestsCapability.resolve({\n        value: chunk,\n        done: false\n      });\n      for (const requestCapability of this._requests) {\n        requestCapability.resolve({\n          value: undefined,\n          done: true\n        });\n      }\n      this._requests.length = 0;\n    }\n    this._done = true;\n    this._stream._removeRangeReader(this);\n  }\n  get isStreamingSupported() {\n    return false;\n  }\n  async read() {\n    if (this._queuedChunk) {\n      const chunk = this._queuedChunk;\n      this._queuedChunk = null;\n      return {\n        value: chunk,\n        done: false\n      };\n    }\n    if (this._done) {\n      return {\n        value: undefined,\n        done: true\n      };\n    }\n    const requestCapability = Promise.withResolvers();\n    this._requests.push(requestCapability);\n    return requestCapability.promise;\n  }\n  cancel(reason) {\n    this._done = true;\n    for (const requestCapability of this._requests) {\n      requestCapability.resolve({\n        value: undefined,\n        done: true\n      });\n    }\n    this._requests.length = 0;\n    this._stream._removeRangeReader(this);\n  }\n}\n\n\n/***/ }),\n\n/***/ 164:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GlobalWorkerOptions: () => (/* binding */ GlobalWorkerOptions)\n/* harmony export */ });\nclass GlobalWorkerOptions {\n  static #port = null;\n  static #src = \"\";\n  static get workerPort() {\n    return this.#port;\n  }\n  static set workerPort(val) {\n    if (!(typeof Worker !== \"undefined\" && val instanceof Worker) && val !== null) {\n      throw new Error(\"Invalid `workerPort` type.\");\n    }\n    this.#port = val;\n  }\n  static get workerSrc() {\n    return this.#src;\n  }\n  static set workerSrc(val) {\n    if (typeof val !== \"string\") {\n      throw new Error(\"Invalid `workerSrc` type.\");\n    }\n    this.#src = val;\n  }\n}\n\n\n/***/ }),\n\n/***/ 284:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   XfaLayer: () => (/* binding */ XfaLayer)\n/* harmony export */ });\n/* harmony import */ var _xfa_text_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(50);\n\nclass XfaLayer {\n  static setupStorage(html, id, element, storage, intent) {\n    const storedData = storage.getValue(id, {\n      value: null\n    });\n    switch (element.name) {\n      case \"textarea\":\n        if (storedData.value !== null) {\n          html.textContent = storedData.value;\n        }\n        if (intent === \"print\") {\n          break;\n        }\n        html.addEventListener(\"input\", event => {\n          storage.setValue(id, {\n            value: event.target.value\n          });\n        });\n        break;\n      case \"input\":\n        if (element.attributes.type === \"radio\" || element.attributes.type === \"checkbox\") {\n          if (storedData.value === element.attributes.xfaOn) {\n            html.setAttribute(\"checked\", true);\n          } else if (storedData.value === element.attributes.xfaOff) {\n            html.removeAttribute(\"checked\");\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"change\", event => {\n            storage.setValue(id, {\n              value: event.target.checked ? event.target.getAttribute(\"xfaOn\") : event.target.getAttribute(\"xfaOff\")\n            });\n          });\n        } else {\n          if (storedData.value !== null) {\n            html.setAttribute(\"value\", storedData.value);\n          }\n          if (intent === \"print\") {\n            break;\n          }\n          html.addEventListener(\"input\", event => {\n            storage.setValue(id, {\n              value: event.target.value\n            });\n          });\n        }\n        break;\n      case \"select\":\n        if (storedData.value !== null) {\n          html.setAttribute(\"value\", storedData.value);\n          for (const option of element.children) {\n            if (option.attributes.value === storedData.value) {\n              option.attributes.selected = true;\n            } else if (option.attributes.hasOwnProperty(\"selected\")) {\n              delete option.attributes.selected;\n            }\n          }\n        }\n        html.addEventListener(\"input\", event => {\n          const options = event.target.options;\n          const value = options.selectedIndex === -1 ? \"\" : options[options.selectedIndex].value;\n          storage.setValue(id, {\n            value\n          });\n        });\n        break;\n    }\n  }\n  static setAttributes({\n    html,\n    element,\n    storage = null,\n    intent,\n    linkService\n  }) {\n    const {\n      attributes\n    } = element;\n    const isHTMLAnchorElement = html instanceof HTMLAnchorElement;\n    if (attributes.type === \"radio\") {\n      attributes.name = `${attributes.name}-${intent}`;\n    }\n    for (const [key, value] of Object.entries(attributes)) {\n      if (value === null || value === undefined) {\n        continue;\n      }\n      switch (key) {\n        case \"class\":\n          if (value.length) {\n            html.setAttribute(key, value.join(\" \"));\n          }\n          break;\n        case \"dataId\":\n          break;\n        case \"id\":\n          html.setAttribute(\"data-element-id\", value);\n          break;\n        case \"style\":\n          Object.assign(html.style, value);\n          break;\n        case \"textContent\":\n          html.textContent = value;\n          break;\n        default:\n          if (!isHTMLAnchorElement || key !== \"href\" && key !== \"newWindow\") {\n            html.setAttribute(key, value);\n          }\n      }\n    }\n    if (isHTMLAnchorElement) {\n      linkService.addLinkAttributes(html, attributes.href, attributes.newWindow);\n    }\n    if (storage && attributes.dataId) {\n      this.setupStorage(html, attributes.dataId, element, storage);\n    }\n  }\n  static render(parameters) {\n    const storage = parameters.annotationStorage;\n    const linkService = parameters.linkService;\n    const root = parameters.xfaHtml;\n    const intent = parameters.intent || \"display\";\n    const rootHtml = document.createElement(root.name);\n    if (root.attributes) {\n      this.setAttributes({\n        html: rootHtml,\n        element: root,\n        intent,\n        linkService\n      });\n    }\n    const isNotForRichText = intent !== \"richText\";\n    const rootDiv = parameters.div;\n    rootDiv.append(rootHtml);\n    if (parameters.viewport) {\n      const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n      rootDiv.style.transform = transform;\n    }\n    if (isNotForRichText) {\n      rootDiv.setAttribute(\"class\", \"xfaLayer xfaFont\");\n    }\n    const textDivs = [];\n    if (root.children.length === 0) {\n      if (root.value) {\n        const node = document.createTextNode(root.value);\n        rootHtml.append(node);\n        if (isNotForRichText && _xfa_text_js__WEBPACK_IMPORTED_MODULE_0__.XfaText.shouldBuildText(root.name)) {\n          textDivs.push(node);\n        }\n      }\n      return {\n        textDivs\n      };\n    }\n    const stack = [[root, -1, rootHtml]];\n    while (stack.length > 0) {\n      const [parent, i, html] = stack.at(-1);\n      if (i + 1 === parent.children.length) {\n        stack.pop();\n        continue;\n      }\n      const child = parent.children[++stack.at(-1)[1]];\n      if (child === null) {\n        continue;\n      }\n      const {\n        name\n      } = child;\n      if (name === \"#text\") {\n        const node = document.createTextNode(child.value);\n        textDivs.push(node);\n        html.append(node);\n        continue;\n      }\n      const childHtml = child?.attributes?.xmlns ? document.createElementNS(child.attributes.xmlns, name) : document.createElement(name);\n      html.append(childHtml);\n      if (child.attributes) {\n        this.setAttributes({\n          html: childHtml,\n          element: child,\n          storage,\n          intent,\n          linkService\n        });\n      }\n      if (child.children?.length > 0) {\n        stack.push([child, -1, childHtml]);\n      } else if (child.value) {\n        const node = document.createTextNode(child.value);\n        if (isNotForRichText && _xfa_text_js__WEBPACK_IMPORTED_MODULE_0__.XfaText.shouldBuildText(name)) {\n          textDivs.push(node);\n        }\n        childHtml.append(node);\n      }\n    }\n    for (const el of rootDiv.querySelectorAll(\".xfaNonInteractive input, .xfaNonInteractive textarea\")) {\n      el.setAttribute(\"readOnly\", true);\n    }\n    return {\n      textDivs\n    };\n  }\n  static update(parameters) {\n    const transform = `matrix(${parameters.viewport.transform.join(\",\")})`;\n    parameters.div.style.transform = transform;\n    parameters.div.hidden = false;\n  }\n}\n\n\n/***/ }),\n\n/***/ 50:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   XfaText: () => (/* binding */ XfaText)\n/* harmony export */ });\nclass XfaText {\n  static textContent(xfa) {\n    const items = [];\n    const output = {\n      items,\n      styles: Object.create(null)\n    };\n    function walk(node) {\n      if (!node) {\n        return;\n      }\n      let str = null;\n      const name = node.name;\n      if (name === \"#text\") {\n        str = node.value;\n      } else if (!XfaText.shouldBuildText(name)) {\n        return;\n      } else if (node?.attributes?.textContent) {\n        str = node.attributes.textContent;\n      } else if (node.value) {\n        str = node.value;\n      }\n      if (str !== null) {\n        items.push({\n          str\n        });\n      }\n      if (!node.children) {\n        return;\n      }\n      for (const child of node.children) {\n        walk(child);\n      }\n    }\n    walk(xfa);\n    return output;\n  }\n  static shouldBuildText(name) {\n    return !(name === \"textarea\" || name === \"input\" || name === \"option\" || name === \"select\");\n  }\n}\n\n\n/***/ }),\n\n/***/ 228:\n/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbortException: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException),\n/* harmony export */   AnnotationEditorLayer: () => (/* reexport safe */ _display_editor_annotation_editor_layer_js__WEBPACK_IMPORTED_MODULE_4__.AnnotationEditorLayer),\n/* harmony export */   AnnotationEditorParamsType: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorParamsType),\n/* harmony export */   AnnotationEditorType: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationEditorType),\n/* harmony export */   AnnotationEditorUIManager: () => (/* reexport safe */ _display_editor_tools_js__WEBPACK_IMPORTED_MODULE_5__.AnnotationEditorUIManager),\n/* harmony export */   AnnotationLayer: () => (/* reexport safe */ _display_annotation_layer_js__WEBPACK_IMPORTED_MODULE_6__.AnnotationLayer),\n/* harmony export */   AnnotationMode: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.AnnotationMode),\n/* harmony export */   CMapCompressionType: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.CMapCompressionType),\n/* harmony export */   ColorPicker: () => (/* reexport safe */ _display_editor_color_picker_js__WEBPACK_IMPORTED_MODULE_7__.ColorPicker),\n/* harmony export */   DOMSVGFactory: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.DOMSVGFactory),\n/* harmony export */   DrawLayer: () => (/* reexport safe */ _display_draw_layer_js__WEBPACK_IMPORTED_MODULE_8__.DrawLayer),\n/* harmony export */   FeatureTest: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.FeatureTest),\n/* harmony export */   GlobalWorkerOptions: () => (/* reexport safe */ _display_worker_options_js__WEBPACK_IMPORTED_MODULE_10__.GlobalWorkerOptions),\n/* harmony export */   ImageKind: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.ImageKind),\n/* harmony export */   InvalidPDFException: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.InvalidPDFException),\n/* harmony export */   MissingPDFException: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException),\n/* harmony export */   OPS: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.OPS),\n/* harmony export */   Outliner: () => (/* reexport safe */ _display_editor_outliner_js__WEBPACK_IMPORTED_MODULE_9__.Outliner),\n/* harmony export */   PDFDataRangeTransport: () => (/* reexport safe */ _display_api_js__WEBPACK_IMPORTED_MODULE_1__.PDFDataRangeTransport),\n/* harmony export */   PDFDateString: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.PDFDateString),\n/* harmony export */   PDFWorker: () => (/* reexport safe */ _display_api_js__WEBPACK_IMPORTED_MODULE_1__.PDFWorker),\n/* harmony export */   PasswordResponses: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PasswordResponses),\n/* harmony export */   PermissionFlag: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.PermissionFlag),\n/* harmony export */   PixelsPerInch: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.PixelsPerInch),\n/* harmony export */   RenderingCancelledException: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.RenderingCancelledException),\n/* harmony export */   UnexpectedResponseException: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.UnexpectedResponseException),\n/* harmony export */   Util: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.Util),\n/* harmony export */   VerbosityLevel: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.VerbosityLevel),\n/* harmony export */   XfaLayer: () => (/* reexport safe */ _display_xfa_layer_js__WEBPACK_IMPORTED_MODULE_11__.XfaLayer),\n/* harmony export */   build: () => (/* reexport safe */ _display_api_js__WEBPACK_IMPORTED_MODULE_1__.build),\n/* harmony export */   createValidAbsoluteUrl: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.createValidAbsoluteUrl),\n/* harmony export */   fetchData: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.fetchData),\n/* harmony export */   getDocument: () => (/* reexport safe */ _display_api_js__WEBPACK_IMPORTED_MODULE_1__.getDocument),\n/* harmony export */   getFilenameFromUrl: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.getFilenameFromUrl),\n/* harmony export */   getPdfFilenameFromUrl: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.getPdfFilenameFromUrl),\n/* harmony export */   getXfaPageViewport: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.getXfaPageViewport),\n/* harmony export */   isDataScheme: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isDataScheme),\n/* harmony export */   isPdfFile: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.isPdfFile),\n/* harmony export */   noContextMenu: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.noContextMenu),\n/* harmony export */   normalizeUnicode: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.normalizeUnicode),\n/* harmony export */   renderTextLayer: () => (/* reexport safe */ _display_text_layer_js__WEBPACK_IMPORTED_MODULE_3__.renderTextLayer),\n/* harmony export */   setLayerDimensions: () => (/* reexport safe */ _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__.setLayerDimensions),\n/* harmony export */   shadow: () => (/* reexport safe */ _shared_util_js__WEBPACK_IMPORTED_MODULE_0__.shadow),\n/* harmony export */   updateTextLayer: () => (/* reexport safe */ _display_text_layer_js__WEBPACK_IMPORTED_MODULE_3__.updateTextLayer),\n/* harmony export */   version: () => (/* reexport safe */ _display_api_js__WEBPACK_IMPORTED_MODULE_1__.version)\n/* harmony export */ });\n/* harmony import */ var _shared_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n/* harmony import */ var _display_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(831);\n/* harmony import */ var _display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(419);\n/* harmony import */ var _display_text_layer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(814);\n/* harmony import */ var _display_editor_annotation_editor_layer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(731);\n/* harmony import */ var _display_editor_tools_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(830);\n/* harmony import */ var _display_annotation_layer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(976);\n/* harmony import */ var _display_editor_color_picker_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(259);\n/* harmony import */ var _display_draw_layer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(47);\n/* harmony import */ var _display_worker_options_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(164);\n/* harmony import */ var _display_editor_outliner_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(61);\n/* harmony import */ var _display_xfa_layer_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(284);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_display_api_js__WEBPACK_IMPORTED_MODULE_1__]);\n_display_api_js__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n\n\n\n\n\n\n\nconst pdfjsVersion = \"4.2.67\";\nconst pdfjsBuild = \"49b388101\";\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });\n\n/***/ }),\n\n/***/ 178:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MessageHandler: () => (/* binding */ MessageHandler)\n/* harmony export */ });\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(292);\n\nconst CallbackKind = {\n  UNKNOWN: 0,\n  DATA: 1,\n  ERROR: 2\n};\nconst StreamKind = {\n  UNKNOWN: 0,\n  CANCEL: 1,\n  CANCEL_COMPLETE: 2,\n  CLOSE: 3,\n  ENQUEUE: 4,\n  ERROR: 5,\n  PULL: 6,\n  PULL_COMPLETE: 7,\n  START_COMPLETE: 8\n};\nfunction wrapReason(reason) {\n  if (!(reason instanceof Error || typeof reason === \"object\" && reason !== null)) {\n    (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.unreachable)('wrapReason: Expected \"reason\" to be a (possibly cloned) Error.');\n  }\n  switch (reason.name) {\n    case \"AbortException\":\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.AbortException(reason.message);\n    case \"MissingPDFException\":\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.MissingPDFException(reason.message);\n    case \"PasswordException\":\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.PasswordException(reason.message, reason.code);\n    case \"UnexpectedResponseException\":\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.UnexpectedResponseException(reason.message, reason.status);\n    case \"UnknownErrorException\":\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.UnknownErrorException(reason.message, reason.details);\n    default:\n      return new _util_js__WEBPACK_IMPORTED_MODULE_0__.UnknownErrorException(reason.message, reason.toString());\n  }\n}\nclass MessageHandler {\n  constructor(sourceName, targetName, comObj) {\n    this.sourceName = sourceName;\n    this.targetName = targetName;\n    this.comObj = comObj;\n    this.callbackId = 1;\n    this.streamId = 1;\n    this.streamSinks = Object.create(null);\n    this.streamControllers = Object.create(null);\n    this.callbackCapabilities = Object.create(null);\n    this.actionHandler = Object.create(null);\n    this._onComObjOnMessage = event => {\n      const data = event.data;\n      if (data.targetName !== this.sourceName) {\n        return;\n      }\n      if (data.stream) {\n        this.#processStreamMessage(data);\n        return;\n      }\n      if (data.callback) {\n        const callbackId = data.callbackId;\n        const capability = this.callbackCapabilities[callbackId];\n        if (!capability) {\n          throw new Error(`Cannot resolve callback ${callbackId}`);\n        }\n        delete this.callbackCapabilities[callbackId];\n        if (data.callback === CallbackKind.DATA) {\n          capability.resolve(data.data);\n        } else if (data.callback === CallbackKind.ERROR) {\n          capability.reject(wrapReason(data.reason));\n        } else {\n          throw new Error(\"Unexpected callback case\");\n        }\n        return;\n      }\n      const action = this.actionHandler[data.action];\n      if (!action) {\n        throw new Error(`Unknown action from worker: ${data.action}`);\n      }\n      if (data.callbackId) {\n        const cbSourceName = this.sourceName;\n        const cbTargetName = data.sourceName;\n        new Promise(function (resolve) {\n          resolve(action(data.data));\n        }).then(function (result) {\n          comObj.postMessage({\n            sourceName: cbSourceName,\n            targetName: cbTargetName,\n            callback: CallbackKind.DATA,\n            callbackId: data.callbackId,\n            data: result\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName: cbSourceName,\n            targetName: cbTargetName,\n            callback: CallbackKind.ERROR,\n            callbackId: data.callbackId,\n            reason: wrapReason(reason)\n          });\n        });\n        return;\n      }\n      if (data.streamId) {\n        this.#createStreamSink(data);\n        return;\n      }\n      action(data.data);\n    };\n    comObj.addEventListener(\"message\", this._onComObjOnMessage);\n  }\n  on(actionName, handler) {\n    const ah = this.actionHandler;\n    if (ah[actionName]) {\n      throw new Error(`There is already an actionName called \"${actionName}\"`);\n    }\n    ah[actionName] = handler;\n  }\n  send(actionName, data, transfers) {\n    this.comObj.postMessage({\n      sourceName: this.sourceName,\n      targetName: this.targetName,\n      action: actionName,\n      data\n    }, transfers);\n  }\n  sendWithPromise(actionName, data, transfers) {\n    const callbackId = this.callbackId++;\n    const capability = Promise.withResolvers();\n    this.callbackCapabilities[callbackId] = capability;\n    try {\n      this.comObj.postMessage({\n        sourceName: this.sourceName,\n        targetName: this.targetName,\n        action: actionName,\n        callbackId,\n        data\n      }, transfers);\n    } catch (ex) {\n      capability.reject(ex);\n    }\n    return capability.promise;\n  }\n  sendWithStream(actionName, data, queueingStrategy, transfers) {\n    const streamId = this.streamId++,\n      sourceName = this.sourceName,\n      targetName = this.targetName,\n      comObj = this.comObj;\n    return new ReadableStream({\n      start: controller => {\n        const startCapability = Promise.withResolvers();\n        this.streamControllers[streamId] = {\n          controller,\n          startCall: startCapability,\n          pullCall: null,\n          cancelCall: null,\n          isClosed: false\n        };\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          action: actionName,\n          streamId,\n          data,\n          desiredSize: controller.desiredSize\n        }, transfers);\n        return startCapability.promise;\n      },\n      pull: controller => {\n        const pullCapability = Promise.withResolvers();\n        this.streamControllers[streamId].pullCall = pullCapability;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.PULL,\n          streamId,\n          desiredSize: controller.desiredSize\n        });\n        return pullCapability.promise;\n      },\n      cancel: reason => {\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(reason instanceof Error, \"cancel must have a valid reason\");\n        const cancelCapability = Promise.withResolvers();\n        this.streamControllers[streamId].cancelCall = cancelCapability;\n        this.streamControllers[streamId].isClosed = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CANCEL,\n          streamId,\n          reason: wrapReason(reason)\n        });\n        return cancelCapability.promise;\n      }\n    }, queueingStrategy);\n  }\n  #createStreamSink(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const self = this,\n      action = this.actionHandler[data.action];\n    const streamSink = {\n      enqueue(chunk, size = 1, transfers) {\n        if (this.isCancelled) {\n          return;\n        }\n        const lastDesiredSize = this.desiredSize;\n        this.desiredSize -= size;\n        if (lastDesiredSize > 0 && this.desiredSize <= 0) {\n          this.sinkCapability = Promise.withResolvers();\n          this.ready = this.sinkCapability.promise;\n        }\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ENQUEUE,\n          streamId,\n          chunk\n        }, transfers);\n      },\n      close() {\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.CLOSE,\n          streamId\n        });\n        delete self.streamSinks[streamId];\n      },\n      error(reason) {\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(reason instanceof Error, \"error must have a valid reason\");\n        if (this.isCancelled) {\n          return;\n        }\n        this.isCancelled = true;\n        comObj.postMessage({\n          sourceName,\n          targetName,\n          stream: StreamKind.ERROR,\n          streamId,\n          reason: wrapReason(reason)\n        });\n      },\n      sinkCapability: Promise.withResolvers(),\n      onPull: null,\n      onCancel: null,\n      isCancelled: false,\n      desiredSize: data.desiredSize,\n      ready: null\n    };\n    streamSink.sinkCapability.resolve();\n    streamSink.ready = streamSink.sinkCapability.promise;\n    this.streamSinks[streamId] = streamSink;\n    new Promise(function (resolve) {\n      resolve(action(data.data, streamSink));\n    }).then(function () {\n      comObj.postMessage({\n        sourceName,\n        targetName,\n        stream: StreamKind.START_COMPLETE,\n        streamId,\n        success: true\n      });\n    }, function (reason) {\n      comObj.postMessage({\n        sourceName,\n        targetName,\n        stream: StreamKind.START_COMPLETE,\n        streamId,\n        reason: wrapReason(reason)\n      });\n    });\n  }\n  #processStreamMessage(data) {\n    const streamId = data.streamId,\n      sourceName = this.sourceName,\n      targetName = data.sourceName,\n      comObj = this.comObj;\n    const streamController = this.streamControllers[streamId],\n      streamSink = this.streamSinks[streamId];\n    switch (data.stream) {\n      case StreamKind.START_COMPLETE:\n        if (data.success) {\n          streamController.startCall.resolve();\n        } else {\n          streamController.startCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL_COMPLETE:\n        if (data.success) {\n          streamController.pullCall.resolve();\n        } else {\n          streamController.pullCall.reject(wrapReason(data.reason));\n        }\n        break;\n      case StreamKind.PULL:\n        if (!streamSink) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true\n          });\n          break;\n        }\n        if (streamSink.desiredSize <= 0 && data.desiredSize > 0) {\n          streamSink.sinkCapability.resolve();\n        }\n        streamSink.desiredSize = data.desiredSize;\n        new Promise(function (resolve) {\n          resolve(streamSink.onPull?.());\n        }).then(function () {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            success: true\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.PULL_COMPLETE,\n            streamId,\n            reason: wrapReason(reason)\n          });\n        });\n        break;\n      case StreamKind.ENQUEUE:\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(streamController, \"enqueue should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.controller.enqueue(data.chunk);\n        break;\n      case StreamKind.CLOSE:\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(streamController, \"close should have stream controller\");\n        if (streamController.isClosed) {\n          break;\n        }\n        streamController.isClosed = true;\n        streamController.controller.close();\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.ERROR:\n        (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.assert)(streamController, \"error should have stream controller\");\n        streamController.controller.error(wrapReason(data.reason));\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL_COMPLETE:\n        if (data.success) {\n          streamController.cancelCall.resolve();\n        } else {\n          streamController.cancelCall.reject(wrapReason(data.reason));\n        }\n        this.#deleteStreamController(streamController, streamId);\n        break;\n      case StreamKind.CANCEL:\n        if (!streamSink) {\n          break;\n        }\n        new Promise(function (resolve) {\n          resolve(streamSink.onCancel?.(wrapReason(data.reason)));\n        }).then(function () {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL_COMPLETE,\n            streamId,\n            success: true\n          });\n        }, function (reason) {\n          comObj.postMessage({\n            sourceName,\n            targetName,\n            stream: StreamKind.CANCEL_COMPLETE,\n            streamId,\n            reason: wrapReason(reason)\n          });\n        });\n        streamSink.sinkCapability.reject(wrapReason(data.reason));\n        streamSink.isCancelled = true;\n        delete this.streamSinks[streamId];\n        break;\n      default:\n        throw new Error(\"Unexpected stream case\");\n    }\n  }\n  async #deleteStreamController(streamController, streamId) {\n    await Promise.allSettled([streamController.startCall?.promise, streamController.pullCall?.promise, streamController.cancelCall?.promise]);\n    delete this.streamControllers[streamId];\n  }\n  destroy() {\n    this.comObj.removeEventListener(\"message\", this._onComObjOnMessage);\n  }\n}\n\n\n/***/ }),\n\n/***/ 651:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MurmurHash3_64: () => (/* binding */ MurmurHash3_64)\n/* harmony export */ });\nconst SEED = 0xc3d2e1f0;\nconst MASK_HIGH = 0xffff0000;\nconst MASK_LOW = 0xffff;\nclass MurmurHash3_64 {\n  constructor(seed) {\n    this.h1 = seed ? seed & 0xffffffff : SEED;\n    this.h2 = seed ? seed & 0xffffffff : SEED;\n  }\n  update(input) {\n    let data, length;\n    if (typeof input === \"string\") {\n      data = new Uint8Array(input.length * 2);\n      length = 0;\n      for (let i = 0, ii = input.length; i < ii; i++) {\n        const code = input.charCodeAt(i);\n        if (code <= 0xff) {\n          data[length++] = code;\n        } else {\n          data[length++] = code >>> 8;\n          data[length++] = code & 0xff;\n        }\n      }\n    } else if (ArrayBuffer.isView(input)) {\n      data = input.slice();\n      length = data.byteLength;\n    } else {\n      throw new Error(\"Invalid data format, must be a string or TypedArray.\");\n    }\n    const blockCounts = length >> 2;\n    const tailLength = length - blockCounts * 4;\n    const dataUint32 = new Uint32Array(data.buffer, 0, blockCounts);\n    let k1 = 0,\n      k2 = 0;\n    let h1 = this.h1,\n      h2 = this.h2;\n    const C1 = 0xcc9e2d51,\n      C2 = 0x1b873593;\n    const C1_LOW = C1 & MASK_LOW,\n      C2_LOW = C2 & MASK_LOW;\n    for (let i = 0; i < blockCounts; i++) {\n      if (i & 1) {\n        k1 = dataUint32[i];\n        k1 = k1 * C1 & MASK_HIGH | k1 * C1_LOW & MASK_LOW;\n        k1 = k1 << 15 | k1 >>> 17;\n        k1 = k1 * C2 & MASK_HIGH | k1 * C2_LOW & MASK_LOW;\n        h1 ^= k1;\n        h1 = h1 << 13 | h1 >>> 19;\n        h1 = h1 * 5 + 0xe6546b64;\n      } else {\n        k2 = dataUint32[i];\n        k2 = k2 * C1 & MASK_HIGH | k2 * C1_LOW & MASK_LOW;\n        k2 = k2 << 15 | k2 >>> 17;\n        k2 = k2 * C2 & MASK_HIGH | k2 * C2_LOW & MASK_LOW;\n        h2 ^= k2;\n        h2 = h2 << 13 | h2 >>> 19;\n        h2 = h2 * 5 + 0xe6546b64;\n      }\n    }\n    k1 = 0;\n    switch (tailLength) {\n      case 3:\n        k1 ^= data[blockCounts * 4 + 2] << 16;\n      case 2:\n        k1 ^= data[blockCounts * 4 + 1] << 8;\n      case 1:\n        k1 ^= data[blockCounts * 4];\n        k1 = k1 * C1 & MASK_HIGH | k1 * C1_LOW & MASK_LOW;\n        k1 = k1 << 15 | k1 >>> 17;\n        k1 = k1 * C2 & MASK_HIGH | k1 * C2_LOW & MASK_LOW;\n        if (blockCounts & 1) {\n          h1 ^= k1;\n        } else {\n          h2 ^= k1;\n        }\n    }\n    this.h1 = h1;\n    this.h2 = h2;\n  }\n  hexdigest() {\n    let h1 = this.h1,\n      h2 = this.h2;\n    h1 ^= h2 >>> 1;\n    h1 = h1 * 0xed558ccd & MASK_HIGH | h1 * 0x8ccd & MASK_LOW;\n    h2 = h2 * 0xff51afd7 & MASK_HIGH | ((h2 << 16 | h1 >>> 16) * 0xafd7ed55 & MASK_HIGH) >>> 16;\n    h1 ^= h2 >>> 1;\n    h1 = h1 * 0x1a85ec53 & MASK_HIGH | h1 * 0xec53 & MASK_LOW;\n    h2 = h2 * 0xc4ceb9fe & MASK_HIGH | ((h2 << 16 | h1 >>> 16) * 0xb9fe1a85 & MASK_HIGH) >>> 16;\n    h1 ^= h2 >>> 1;\n    return (h1 >>> 0).toString(16).padStart(8, \"0\") + (h2 >>> 0).toString(16).padStart(8, \"0\");\n  }\n}\n\n\n/***/ }),\n\n/***/ 292:\n/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {\n\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbortException: () => (/* binding */ AbortException),\n/* harmony export */   AnnotationBorderStyleType: () => (/* binding */ AnnotationBorderStyleType),\n/* harmony export */   AnnotationEditorParamsType: () => (/* binding */ AnnotationEditorParamsType),\n/* harmony export */   AnnotationEditorPrefix: () => (/* binding */ AnnotationEditorPrefix),\n/* harmony export */   AnnotationEditorType: () => (/* binding */ AnnotationEditorType),\n/* harmony export */   AnnotationMode: () => (/* binding */ AnnotationMode),\n/* harmony export */   AnnotationPrefix: () => (/* binding */ AnnotationPrefix),\n/* harmony export */   AnnotationType: () => (/* binding */ AnnotationType),\n/* harmony export */   BaseException: () => (/* binding */ BaseException),\n/* harmony export */   CMapCompressionType: () => (/* binding */ CMapCompressionType),\n/* harmony export */   FONT_IDENTITY_MATRIX: () => (/* binding */ FONT_IDENTITY_MATRIX),\n/* harmony export */   FeatureTest: () => (/* binding */ FeatureTest),\n/* harmony export */   FontRenderOps: () => (/* binding */ FontRenderOps),\n/* harmony export */   FormatError: () => (/* binding */ FormatError),\n/* harmony export */   IDENTITY_MATRIX: () => (/* binding */ IDENTITY_MATRIX),\n/* harmony export */   ImageKind: () => (/* binding */ ImageKind),\n/* harmony export */   InvalidPDFException: () => (/* binding */ InvalidPDFException),\n/* harmony export */   LINE_FACTOR: () => (/* binding */ LINE_FACTOR),\n/* harmony export */   MAX_IMAGE_SIZE_TO_CACHE: () => (/* binding */ MAX_IMAGE_SIZE_TO_CACHE),\n/* harmony export */   MissingPDFException: () => (/* binding */ MissingPDFException),\n/* harmony export */   OPS: () => (/* binding */ OPS),\n/* harmony export */   PasswordException: () => (/* binding */ PasswordException),\n/* harmony export */   PasswordResponses: () => (/* binding */ PasswordResponses),\n/* harmony export */   PermissionFlag: () => (/* binding */ PermissionFlag),\n/* harmony export */   RenderingIntentFlag: () => (/* binding */ RenderingIntentFlag),\n/* harmony export */   TextRenderingMode: () => (/* binding */ TextRenderingMode),\n/* harmony export */   UnexpectedResponseException: () => (/* binding */ UnexpectedResponseException),\n/* harmony export */   UnknownErrorException: () => (/* binding */ UnknownErrorException),\n/* harmony export */   Util: () => (/* binding */ Util),\n/* harmony export */   VerbosityLevel: () => (/* binding */ VerbosityLevel),\n/* harmony export */   assert: () => (/* binding */ assert),\n/* harmony export */   bytesToString: () => (/* binding */ bytesToString),\n/* harmony export */   createValidAbsoluteUrl: () => (/* binding */ createValidAbsoluteUrl),\n/* harmony export */   getUuid: () => (/* binding */ getUuid),\n/* harmony export */   getVerbosityLevel: () => (/* binding */ getVerbosityLevel),\n/* harmony export */   info: () => (/* binding */ info),\n/* harmony export */   isNodeJS: () => (/* binding */ isNodeJS),\n/* harmony export */   normalizeUnicode: () => (/* binding */ normalizeUnicode),\n/* harmony export */   objectFromMap: () => (/* binding */ objectFromMap),\n/* harmony export */   setVerbosityLevel: () => (/* binding */ setVerbosityLevel),\n/* harmony export */   shadow: () => (/* binding */ shadow),\n/* harmony export */   string32: () => (/* binding */ string32),\n/* harmony export */   stringToBytes: () => (/* binding */ stringToBytes),\n/* harmony export */   unreachable: () => (/* binding */ unreachable),\n/* harmony export */   warn: () => (/* binding */ warn)\n/* harmony export */ });\n/* unused harmony exports AnnotationActionEventType, AnnotationFieldFlag, AnnotationFlag, AnnotationReplyType, BASELINE_FACTOR, DocumentActionEventType, getModificationDate, isArrayEqual, LINE_DESCENT_FACTOR, objectSize, PageActionEventType, stringToPDFString, stringToUTF8String, utf8StringToString */\nconst isNodeJS = typeof process === \"object\" && process + \"\" === \"[object process]\" && !process.versions.nw && !(process.versions.electron && process.type && process.type !== \"browser\");\nconst IDENTITY_MATRIX = [1, 0, 0, 1, 0, 0];\nconst FONT_IDENTITY_MATRIX = [0.001, 0, 0, 0.001, 0, 0];\nconst MAX_IMAGE_SIZE_TO_CACHE = 10e6;\nconst LINE_FACTOR = 1.35;\nconst LINE_DESCENT_FACTOR = 0.35;\nconst BASELINE_FACTOR = LINE_DESCENT_FACTOR / LINE_FACTOR;\nconst RenderingIntentFlag = {\n  ANY: 0x01,\n  DISPLAY: 0x02,\n  PRINT: 0x04,\n  SAVE: 0x08,\n  ANNOTATIONS_FORMS: 0x10,\n  ANNOTATIONS_STORAGE: 0x20,\n  ANNOTATIONS_DISABLE: 0x40,\n  OPLIST: 0x100\n};\nconst AnnotationMode = {\n  DISABLE: 0,\n  ENABLE: 1,\n  ENABLE_FORMS: 2,\n  ENABLE_STORAGE: 3\n};\nconst AnnotationEditorPrefix = \"pdfjs_internal_editor_\";\nconst AnnotationEditorType = {\n  DISABLE: -1,\n  NONE: 0,\n  FREETEXT: 3,\n  HIGHLIGHT: 9,\n  STAMP: 13,\n  INK: 15\n};\nconst AnnotationEditorParamsType = {\n  RESIZE: 1,\n  CREATE: 2,\n  FREETEXT_SIZE: 11,\n  FREETEXT_COLOR: 12,\n  FREETEXT_OPACITY: 13,\n  INK_COLOR: 21,\n  INK_THICKNESS: 22,\n  INK_OPACITY: 23,\n  HIGHLIGHT_COLOR: 31,\n  HIGHLIGHT_DEFAULT_COLOR: 32,\n  HIGHLIGHT_THICKNESS: 33,\n  HIGHLIGHT_FREE: 34,\n  HIGHLIGHT_SHOW_ALL: 35\n};\nconst PermissionFlag = {\n  PRINT: 0x04,\n  MODIFY_CONTENTS: 0x08,\n  COPY: 0x10,\n  MODIFY_ANNOTATIONS: 0x20,\n  FILL_INTERACTIVE_FORMS: 0x100,\n  COPY_FOR_ACCESSIBILITY: 0x200,\n  ASSEMBLE: 0x400,\n  PRINT_HIGH_QUALITY: 0x800\n};\nconst TextRenderingMode = {\n  FILL: 0,\n  STROKE: 1,\n  FILL_STROKE: 2,\n  INVISIBLE: 3,\n  FILL_ADD_TO_PATH: 4,\n  STROKE_ADD_TO_PATH: 5,\n  FILL_STROKE_ADD_TO_PATH: 6,\n  ADD_TO_PATH: 7,\n  FILL_STROKE_MASK: 3,\n  ADD_TO_PATH_FLAG: 4\n};\nconst ImageKind = {\n  GRAYSCALE_1BPP: 1,\n  RGB_24BPP: 2,\n  RGBA_32BPP: 3\n};\nconst AnnotationType = {\n  TEXT: 1,\n  LINK: 2,\n  FREETEXT: 3,\n  LINE: 4,\n  SQUARE: 5,\n  CIRCLE: 6,\n  POLYGON: 7,\n  POLYLINE: 8,\n  HIGHLIGHT: 9,\n  UNDERLINE: 10,\n  SQUIGGLY: 11,\n  STRIKEOUT: 12,\n  STAMP: 13,\n  CARET: 14,\n  INK: 15,\n  POPUP: 16,\n  FILEATTACHMENT: 17,\n  SOUND: 18,\n  MOVIE: 19,\n  WIDGET: 20,\n  SCREEN: 21,\n  PRINTERMARK: 22,\n  TRAPNET: 23,\n  WATERMARK: 24,\n  THREED: 25,\n  REDACT: 26\n};\nconst AnnotationReplyType = {\n  GROUP: \"Group\",\n  REPLY: \"R\"\n};\nconst AnnotationFlag = {\n  INVISIBLE: 0x01,\n  HIDDEN: 0x02,\n  PRINT: 0x04,\n  NOZOOM: 0x08,\n  NOROTATE: 0x10,\n  NOVIEW: 0x20,\n  READONLY: 0x40,\n  LOCKED: 0x80,\n  TOGGLENOVIEW: 0x100,\n  LOCKEDCONTENTS: 0x200\n};\nconst AnnotationFieldFlag = {\n  READONLY: 0x0000001,\n  REQUIRED: 0x0000002,\n  NOEXPORT: 0x0000004,\n  MULTILINE: 0x0001000,\n  PASSWORD: 0x0002000,\n  NOTOGGLETOOFF: 0x0004000,\n  RADIO: 0x0008000,\n  PUSHBUTTON: 0x0010000,\n  COMBO: 0x0020000,\n  EDIT: 0x0040000,\n  SORT: 0x0080000,\n  FILESELECT: 0x0100000,\n  MULTISELECT: 0x0200000,\n  DONOTSPELLCHECK: 0x0400000,\n  DONOTSCROLL: 0x0800000,\n  COMB: 0x1000000,\n  RICHTEXT: 0x2000000,\n  RADIOSINUNISON: 0x2000000,\n  COMMITONSELCHANGE: 0x4000000\n};\nconst AnnotationBorderStyleType = {\n  SOLID: 1,\n  DASHED: 2,\n  BEVELED: 3,\n  INSET: 4,\n  UNDERLINE: 5\n};\nconst AnnotationActionEventType = {\n  E: \"Mouse Enter\",\n  X: \"Mouse Exit\",\n  D: \"Mouse Down\",\n  U: \"Mouse Up\",\n  Fo: \"Focus\",\n  Bl: \"Blur\",\n  PO: \"PageOpen\",\n  PC: \"PageClose\",\n  PV: \"PageVisible\",\n  PI: \"PageInvisible\",\n  K: \"Keystroke\",\n  F: \"Format\",\n  V: \"Validate\",\n  C: \"Calculate\"\n};\nconst DocumentActionEventType = {\n  WC: \"WillClose\",\n  WS: \"WillSave\",\n  DS: \"DidSave\",\n  WP: \"WillPrint\",\n  DP: \"DidPrint\"\n};\nconst PageActionEventType = {\n  O: \"PageOpen\",\n  C: \"PageClose\"\n};\nconst VerbosityLevel = {\n  ERRORS: 0,\n  WARNINGS: 1,\n  INFOS: 5\n};\nconst CMapCompressionType = {\n  NONE: 0,\n  BINARY: 1\n};\nconst OPS = {\n  dependency: 1,\n  setLineWidth: 2,\n  setLineCap: 3,\n  setLineJoin: 4,\n  setMiterLimit: 5,\n  setDash: 6,\n  setRenderingIntent: 7,\n  setFlatness: 8,\n  setGState: 9,\n  save: 10,\n  restore: 11,\n  transform: 12,\n  moveTo: 13,\n  lineTo: 14,\n  curveTo: 15,\n  curveTo2: 16,\n  curveTo3: 17,\n  closePath: 18,\n  rectangle: 19,\n  stroke: 20,\n  closeStroke: 21,\n  fill: 22,\n  eoFill: 23,\n  fillStroke: 24,\n  eoFillStroke: 25,\n  closeFillStroke: 26,\n  closeEOFillStroke: 27,\n  endPath: 28,\n  clip: 29,\n  eoClip: 30,\n  beginText: 31,\n  endText: 32,\n  setCharSpacing: 33,\n  setWordSpacing: 34,\n  setHScale: 35,\n  setLeading: 36,\n  setFont: 37,\n  setTextRenderingMode: 38,\n  setTextRise: 39,\n  moveText: 40,\n  setLeadingMoveText: 41,\n  setTextMatrix: 42,\n  nextLine: 43,\n  showText: 44,\n  showSpacedText: 45,\n  nextLineShowText: 46,\n  nextLineSetSpacingShowText: 47,\n  setCharWidth: 48,\n  setCharWidthAndBounds: 49,\n  setStrokeColorSpace: 50,\n  setFillColorSpace: 51,\n  setStrokeColor: 52,\n  setStrokeColorN: 53,\n  setFillColor: 54,\n  setFillColorN: 55,\n  setStrokeGray: 56,\n  setFillGray: 57,\n  setStrokeRGBColor: 58,\n  setFillRGBColor: 59,\n  setStrokeCMYKColor: 60,\n  setFillCMYKColor: 61,\n  shadingFill: 62,\n  beginInlineImage: 63,\n  beginImageData: 64,\n  endInlineImage: 65,\n  paintXObject: 66,\n  markPoint: 67,\n  markPointProps: 68,\n  beginMarkedContent: 69,\n  beginMarkedContentProps: 70,\n  endMarkedContent: 71,\n  beginCompat: 72,\n  endCompat: 73,\n  paintFormXObjectBegin: 74,\n  paintFormXObjectEnd: 75,\n  beginGroup: 76,\n  endGroup: 77,\n  beginAnnotation: 80,\n  endAnnotation: 81,\n  paintImageMaskXObject: 83,\n  paintImageMaskXObjectGroup: 84,\n  paintImageXObject: 85,\n  paintInlineImageXObject: 86,\n  paintInlineImageXObjectGroup: 87,\n  paintImageXObjectRepeat: 88,\n  paintImageMaskXObjectRepeat: 89,\n  paintSolidColorImageMask: 90,\n  constructPath: 91\n};\nconst PasswordResponses = {\n  NEED_PASSWORD: 1,\n  INCORRECT_PASSWORD: 2\n};\nlet verbosity = VerbosityLevel.WARNINGS;\nfunction setVerbosityLevel(level) {\n  if (Number.isInteger(level)) {\n    verbosity = level;\n  }\n}\nfunction getVerbosityLevel() {\n  return verbosity;\n}\nfunction info(msg) {\n  if (verbosity >= VerbosityLevel.INFOS) {\n    console.log(`Info: ${msg}`);\n  }\n}\nfunction warn(msg) {\n  if (verbosity >= VerbosityLevel.WARNINGS) {\n    console.log(`Warning: ${msg}`);\n  }\n}\nfunction unreachable(msg) {\n  throw new Error(msg);\n}\nfunction assert(cond, msg) {\n  if (!cond) {\n    unreachable(msg);\n  }\n}\nfunction _isValidProtocol(url) {\n  switch (url?.protocol) {\n    case \"http:\":\n    case \"https:\":\n    case \"ftp:\":\n    case \"mailto:\":\n    case \"tel:\":\n      return true;\n    default:\n      return false;\n  }\n}\nfunction createValidAbsoluteUrl(url, baseUrl = null, options = null) {\n  if (!url) {\n    return null;\n  }\n  try {\n    if (options && typeof url === \"string\") {\n      if (options.addDefaultProtocol && url.startsWith(\"www.\")) {\n        const dots = url.match(/\\./g);\n        if (dots?.length >= 2) {\n          url = `http://${url}`;\n        }\n      }\n      if (options.tryConvertEncoding) {\n        try {\n          url = stringToUTF8String(url);\n        } catch {}\n      }\n    }\n    const absoluteUrl = baseUrl ? new URL(url, baseUrl) : new URL(url);\n    if (_isValidProtocol(absoluteUrl)) {\n      return absoluteUrl;\n    }\n  } catch {}\n  return null;\n}\nfunction shadow(obj, prop, value, nonSerializable = false) {\n  Object.defineProperty(obj, prop, {\n    value,\n    enumerable: !nonSerializable,\n    configurable: true,\n    writable: false\n  });\n  return value;\n}\nconst BaseException = function BaseExceptionClosure() {\n  function BaseException(message, name) {\n    if (this.constructor === BaseException) {\n      unreachable(\"Cannot initialize BaseException.\");\n    }\n    this.message = message;\n    this.name = name;\n  }\n  BaseException.prototype = new Error();\n  BaseException.constructor = BaseException;\n  return BaseException;\n}();\nclass PasswordException extends BaseException {\n  constructor(msg, code) {\n    super(msg, \"PasswordException\");\n    this.code = code;\n  }\n}\nclass UnknownErrorException extends BaseException {\n  constructor(msg, details) {\n    super(msg, \"UnknownErrorException\");\n    this.details = details;\n  }\n}\nclass InvalidPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"InvalidPDFException\");\n  }\n}\nclass MissingPDFException extends BaseException {\n  constructor(msg) {\n    super(msg, \"MissingPDFException\");\n  }\n}\nclass UnexpectedResponseException extends BaseException {\n  constructor(msg, status) {\n    super(msg, \"UnexpectedResponseException\");\n    this.status = status;\n  }\n}\nclass FormatError extends BaseException {\n  constructor(msg) {\n    super(msg, \"FormatError\");\n  }\n}\nclass AbortException extends BaseException {\n  constructor(msg) {\n    super(msg, \"AbortException\");\n  }\n}\nfunction bytesToString(bytes) {\n  if (typeof bytes !== \"object\" || bytes?.length === undefined) {\n    unreachable(\"Invalid argument for bytesToString\");\n  }\n  const length = bytes.length;\n  const MAX_ARGUMENT_COUNT = 8192;\n  if (length < MAX_ARGUMENT_COUNT) {\n    return String.fromCharCode.apply(null, bytes);\n  }\n  const strBuf = [];\n  for (let i = 0; i < length; i += MAX_ARGUMENT_COUNT) {\n    const chunkEnd = Math.min(i + MAX_ARGUMENT_COUNT, length);\n    const chunk = bytes.subarray(i, chunkEnd);\n    strBuf.push(String.fromCharCode.apply(null, chunk));\n  }\n  return strBuf.join(\"\");\n}\nfunction stringToBytes(str) {\n  if (typeof str !== \"string\") {\n    unreachable(\"Invalid argument for stringToBytes\");\n  }\n  const length = str.length;\n  const bytes = new Uint8Array(length);\n  for (let i = 0; i < length; ++i) {\n    bytes[i] = str.charCodeAt(i) & 0xff;\n  }\n  return bytes;\n}\nfunction string32(value) {\n  return String.fromCharCode(value >> 24 & 0xff, value >> 16 & 0xff, value >> 8 & 0xff, value & 0xff);\n}\nfunction objectSize(obj) {\n  return Object.keys(obj).length;\n}\nfunction objectFromMap(map) {\n  const obj = Object.create(null);\n  for (const [key, value] of map) {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction isLittleEndian() {\n  const buffer8 = new Uint8Array(4);\n  buffer8[0] = 1;\n  const view32 = new Uint32Array(buffer8.buffer, 0, 1);\n  return view32[0] === 1;\n}\nfunction isEvalSupported() {\n  try {\n    new Function(\"\");\n    return true;\n  } catch {\n    return false;\n  }\n}\nclass FeatureTest {\n  static get isLittleEndian() {\n    return shadow(this, \"isLittleEndian\", isLittleEndian());\n  }\n  static get isEvalSupported() {\n    return shadow(this, \"isEvalSupported\", isEvalSupported());\n  }\n  static get isOffscreenCanvasSupported() {\n    return shadow(this, \"isOffscreenCanvasSupported\", typeof OffscreenCanvas !== \"undefined\");\n  }\n  static get platform() {\n    if (typeof navigator !== \"undefined\" && typeof navigator?.platform === \"string\") {\n      return shadow(this, \"platform\", {\n        isMac: navigator.platform.includes(\"Mac\")\n      });\n    }\n    return shadow(this, \"platform\", {\n      isMac: false\n    });\n  }\n  static get isCSSRoundSupported() {\n    return shadow(this, \"isCSSRoundSupported\", globalThis.CSS?.supports?.(\"width: round(1.5px, 1px)\"));\n  }\n}\nconst hexNumbers = Array.from(Array(256).keys(), n => n.toString(16).padStart(2, \"0\"));\nclass Util {\n  static makeHexColor(r, g, b) {\n    return `#${hexNumbers[r]}${hexNumbers[g]}${hexNumbers[b]}`;\n  }\n  static scaleMinMax(transform, minMax) {\n    let temp;\n    if (transform[0]) {\n      if (transform[0] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[2];\n        minMax[2] = temp;\n      }\n      minMax[0] *= transform[0];\n      minMax[2] *= transform[0];\n      if (transform[3] < 0) {\n        temp = minMax[1];\n        minMax[1] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[1] *= transform[3];\n      minMax[3] *= transform[3];\n    } else {\n      temp = minMax[0];\n      minMax[0] = minMax[1];\n      minMax[1] = temp;\n      temp = minMax[2];\n      minMax[2] = minMax[3];\n      minMax[3] = temp;\n      if (transform[1] < 0) {\n        temp = minMax[1];\n        minMax[1] = minMax[3];\n        minMax[3] = temp;\n      }\n      minMax[1] *= transform[1];\n      minMax[3] *= transform[1];\n      if (transform[2] < 0) {\n        temp = minMax[0];\n        minMax[0] = minMax[2];\n        minMax[2] = temp;\n      }\n      minMax[0] *= transform[2];\n      minMax[2] *= transform[2];\n    }\n    minMax[0] += transform[4];\n    minMax[1] += transform[5];\n    minMax[2] += transform[4];\n    minMax[3] += transform[5];\n  }\n  static transform(m1, m2) {\n    return [m1[0] * m2[0] + m1[2] * m2[1], m1[1] * m2[0] + m1[3] * m2[1], m1[0] * m2[2] + m1[2] * m2[3], m1[1] * m2[2] + m1[3] * m2[3], m1[0] * m2[4] + m1[2] * m2[5] + m1[4], m1[1] * m2[4] + m1[3] * m2[5] + m1[5]];\n  }\n  static applyTransform(p, m) {\n    const xt = p[0] * m[0] + p[1] * m[2] + m[4];\n    const yt = p[0] * m[1] + p[1] * m[3] + m[5];\n    return [xt, yt];\n  }\n  static applyInverseTransform(p, m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    const xt = (p[0] * m[3] - p[1] * m[2] + m[2] * m[5] - m[4] * m[3]) / d;\n    const yt = (-p[0] * m[1] + p[1] * m[0] + m[4] * m[1] - m[5] * m[0]) / d;\n    return [xt, yt];\n  }\n  static getAxialAlignedBoundingBox(r, m) {\n    const p1 = this.applyTransform(r, m);\n    const p2 = this.applyTransform(r.slice(2, 4), m);\n    const p3 = this.applyTransform([r[0], r[3]], m);\n    const p4 = this.applyTransform([r[2], r[1]], m);\n    return [Math.min(p1[0], p2[0], p3[0], p4[0]), Math.min(p1[1], p2[1], p3[1], p4[1]), Math.max(p1[0], p2[0], p3[0], p4[0]), Math.max(p1[1], p2[1], p3[1], p4[1])];\n  }\n  static inverseTransform(m) {\n    const d = m[0] * m[3] - m[1] * m[2];\n    return [m[3] / d, -m[1] / d, -m[2] / d, m[0] / d, (m[2] * m[5] - m[4] * m[3]) / d, (m[4] * m[1] - m[5] * m[0]) / d];\n  }\n  static singularValueDecompose2dScale(m) {\n    const transpose = [m[0], m[2], m[1], m[3]];\n    const a = m[0] * transpose[0] + m[1] * transpose[2];\n    const b = m[0] * transpose[1] + m[1] * transpose[3];\n    const c = m[2] * transpose[0] + m[3] * transpose[2];\n    const d = m[2] * transpose[1] + m[3] * transpose[3];\n    const first = (a + d) / 2;\n    const second = Math.sqrt((a + d) ** 2 - 4 * (a * d - c * b)) / 2;\n    const sx = first + second || 1;\n    const sy = first - second || 1;\n    return [Math.sqrt(sx), Math.sqrt(sy)];\n  }\n  static normalizeRect(rect) {\n    const r = rect.slice(0);\n    if (rect[0] > rect[2]) {\n      r[0] = rect[2];\n      r[2] = rect[0];\n    }\n    if (rect[1] > rect[3]) {\n      r[1] = rect[3];\n      r[3] = rect[1];\n    }\n    return r;\n  }\n  static intersect(rect1, rect2) {\n    const xLow = Math.max(Math.min(rect1[0], rect1[2]), Math.min(rect2[0], rect2[2]));\n    const xHigh = Math.min(Math.max(rect1[0], rect1[2]), Math.max(rect2[0], rect2[2]));\n    if (xLow > xHigh) {\n      return null;\n    }\n    const yLow = Math.max(Math.min(rect1[1], rect1[3]), Math.min(rect2[1], rect2[3]));\n    const yHigh = Math.min(Math.max(rect1[1], rect1[3]), Math.max(rect2[1], rect2[3]));\n    if (yLow > yHigh) {\n      return null;\n    }\n    return [xLow, yLow, xHigh, yHigh];\n  }\n  static #getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, t, minMax) {\n    if (t <= 0 || t >= 1) {\n      return;\n    }\n    const mt = 1 - t;\n    const tt = t * t;\n    const ttt = tt * t;\n    const x = mt * (mt * (mt * x0 + 3 * t * x1) + 3 * tt * x2) + ttt * x3;\n    const y = mt * (mt * (mt * y0 + 3 * t * y1) + 3 * tt * y2) + ttt * y3;\n    minMax[0] = Math.min(minMax[0], x);\n    minMax[1] = Math.min(minMax[1], y);\n    minMax[2] = Math.max(minMax[2], x);\n    minMax[3] = Math.max(minMax[3], y);\n  }\n  static #getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, a, b, c, minMax) {\n    if (Math.abs(a) < 1e-12) {\n      if (Math.abs(b) >= 1e-12) {\n        this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, -c / b, minMax);\n      }\n      return;\n    }\n    const delta = b ** 2 - 4 * c * a;\n    if (delta < 0) {\n      return;\n    }\n    const sqrtDelta = Math.sqrt(delta);\n    const a2 = 2 * a;\n    this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, (-b + sqrtDelta) / a2, minMax);\n    this.#getExtremumOnCurve(x0, x1, x2, x3, y0, y1, y2, y3, (-b - sqrtDelta) / a2, minMax);\n  }\n  static bezierBoundingBox(x0, y0, x1, y1, x2, y2, x3, y3, minMax) {\n    if (minMax) {\n      minMax[0] = Math.min(minMax[0], x0, x3);\n      minMax[1] = Math.min(minMax[1], y0, y3);\n      minMax[2] = Math.max(minMax[2], x0, x3);\n      minMax[3] = Math.max(minMax[3], y0, y3);\n    } else {\n      minMax = [Math.min(x0, x3), Math.min(y0, y3), Math.max(x0, x3), Math.max(y0, y3)];\n    }\n    this.#getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, 3 * (-x0 + 3 * (x1 - x2) + x3), 6 * (x0 - 2 * x1 + x2), 3 * (x1 - x0), minMax);\n    this.#getExtremum(x0, x1, x2, x3, y0, y1, y2, y3, 3 * (-y0 + 3 * (y1 - y2) + y3), 6 * (y0 - 2 * y1 + y2), 3 * (y1 - y0), minMax);\n    return minMax;\n  }\n}\nconst PDFStringTranslateTable = (/* unused pure expression or super */ null && ([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2d8, 0x2c7, 0x2c6, 0x2d9, 0x2dd, 0x2db, 0x2da, 0x2dc, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x2022, 0x2020, 0x2021, 0x2026, 0x2014, 0x2013, 0x192, 0x2044, 0x2039, 0x203a, 0x2212, 0x2030, 0x201e, 0x201c, 0x201d, 0x2018, 0x2019, 0x201a, 0x2122, 0xfb01, 0xfb02, 0x141, 0x152, 0x160, 0x178, 0x17d, 0x131, 0x142, 0x153, 0x161, 0x17e, 0, 0x20ac]));\nfunction stringToPDFString(str) {\n  if (str[0] >= \"\\xEF\") {\n    let encoding;\n    if (str[0] === \"\\xFE\" && str[1] === \"\\xFF\") {\n      encoding = \"utf-16be\";\n      if (str.length % 2 === 1) {\n        str = str.slice(0, -1);\n      }\n    } else if (str[0] === \"\\xFF\" && str[1] === \"\\xFE\") {\n      encoding = \"utf-16le\";\n      if (str.length % 2 === 1) {\n        str = str.slice(0, -1);\n      }\n    } else if (str[0] === \"\\xEF\" && str[1] === \"\\xBB\" && str[2] === \"\\xBF\") {\n      encoding = \"utf-8\";\n    }\n    if (encoding) {\n      try {\n        const decoder = new TextDecoder(encoding, {\n          fatal: true\n        });\n        const buffer = stringToBytes(str);\n        const decoded = decoder.decode(buffer);\n        if (!decoded.includes(\"\\x1b\")) {\n          return decoded;\n        }\n        return decoded.replaceAll(/\\x1b[^\\x1b]*(?:\\x1b|$)/g, \"\");\n      } catch (ex) {\n        warn(`stringToPDFString: \"${ex}\".`);\n      }\n    }\n  }\n  const strBuf = [];\n  for (let i = 0, ii = str.length; i < ii; i++) {\n    const charCode = str.charCodeAt(i);\n    if (charCode === 0x1b) {\n      while (++i < ii && str.charCodeAt(i) !== 0x1b) {}\n      continue;\n    }\n    const code = PDFStringTranslateTable[charCode];\n    strBuf.push(code ? String.fromCharCode(code) : str.charAt(i));\n  }\n  return strBuf.join(\"\");\n}\nfunction stringToUTF8String(str) {\n  return decodeURIComponent(escape(str));\n}\nfunction utf8StringToString(str) {\n  return unescape(encodeURIComponent(str));\n}\nfunction isArrayEqual(arr1, arr2) {\n  if (arr1.length !== arr2.length) {\n    return false;\n  }\n  for (let i = 0, ii = arr1.length; i < ii; i++) {\n    if (arr1[i] !== arr2[i]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction getModificationDate(date = new Date()) {\n  const buffer = [date.getUTCFullYear().toString(), (date.getUTCMonth() + 1).toString().padStart(2, \"0\"), date.getUTCDate().toString().padStart(2, \"0\"), date.getUTCHours().toString().padStart(2, \"0\"), date.getUTCMinutes().toString().padStart(2, \"0\"), date.getUTCSeconds().toString().padStart(2, \"0\")];\n  return buffer.join(\"\");\n}\nlet NormalizeRegex = null;\nlet NormalizationMap = null;\nfunction normalizeUnicode(str) {\n  if (!NormalizeRegex) {\n    NormalizeRegex = /([\\u00a0\\u00b5\\u037e\\u0eb3\\u2000-\\u200a\\u202f\\u2126\\ufb00-\\ufb04\\ufb06\\ufb20-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40-\\ufb41\\ufb43-\\ufb44\\ufb46-\\ufba1\\ufba4-\\ufba9\\ufbae-\\ufbb1\\ufbd3-\\ufbdc\\ufbde-\\ufbe7\\ufbea-\\ufbf8\\ufbfc-\\ufbfd\\ufc00-\\ufc5d\\ufc64-\\ufcf1\\ufcf5-\\ufd3d\\ufd88\\ufdf4\\ufdfa-\\ufdfb\\ufe71\\ufe77\\ufe79\\ufe7b\\ufe7d]+)|(\\ufb05+)/gu;\n    NormalizationMap = new Map([[\"\", \"t\"]]);\n  }\n  return str.replaceAll(NormalizeRegex, (_, p1, p2) => p1 ? p1.normalize(\"NFKC\") : NormalizationMap.get(p2));\n}\nfunction getUuid() {\n  if (typeof crypto !== \"undefined\" && typeof crypto?.randomUUID === \"function\") {\n    return crypto.randomUUID();\n  }\n  const buf = new Uint8Array(32);\n  if (typeof crypto !== \"undefined\" && typeof crypto?.getRandomValues === \"function\") {\n    crypto.getRandomValues(buf);\n  } else {\n    for (let i = 0; i < 32; i++) {\n      buf[i] = Math.floor(Math.random() * 255);\n    }\n  }\n  return bytesToString(buf);\n}\nconst AnnotationPrefix = \"pdfjs_internal_id_\";\nconst FontRenderOps = {\n  BEZIER_CURVE_TO: 0,\n  MOVE_TO: 1,\n  LINE_TO: 2,\n  QUADRATIC_CURVE_TO: 3,\n  RESTORE: 4,\n  SAVE: 5,\n  SCALE: 6,\n  TRANSFORM: 7,\n  TRANSLATE: 8\n};\n\n\n/***/ })\n\n/******/ });\n/************************************************************************/\n/******/ // The module cache\n/******/ var __webpack_module_cache__ = {};\n/******/ \n/******/ // The require function\n/******/ function __webpack_require__(moduleId) {\n/******/ \t// Check if module is in cache\n/******/ \tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \tif (cachedModule !== undefined) {\n/******/ \t\treturn cachedModule.exports;\n/******/ \t}\n/******/ \t// Create a new module (and put it into the cache)\n/******/ \tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t// no module.id needed\n/******/ \t\t// no module.loaded needed\n/******/ \t\texports: {}\n/******/ \t};\n/******/ \n/******/ \t// Execute the module function\n/******/ \t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \n/******/ \t// Return the exports of the module\n/******/ \treturn module.exports;\n/******/ }\n/******/ \n/************************************************************************/\n/******/ /* webpack/runtime/async module */\n/******/ (() => {\n/******/ \tvar webpackQueues = typeof Symbol === \"function\" ? Symbol(\"webpack queues\") : \"__webpack_queues__\";\n/******/ \tvar webpackExports = typeof Symbol === \"function\" ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\n/******/ \tvar webpackError = typeof Symbol === \"function\" ? Symbol(\"webpack error\") : \"__webpack_error__\";\n/******/ \tvar resolveQueue = (queue) => {\n/******/ \t\tif(queue && queue.d < 1) {\n/******/ \t\t\tqueue.d = 1;\n/******/ \t\t\tqueue.forEach((fn) => (fn.r--));\n/******/ \t\t\tqueue.forEach((fn) => (fn.r-- ? fn.r++ : fn()));\n/******/ \t\t}\n/******/ \t}\n/******/ \tvar wrapDeps = (deps) => (deps.map((dep) => {\n/******/ \t\tif(dep !== null && typeof dep === \"object\") {\n/******/ \t\t\tif(dep[webpackQueues]) return dep;\n/******/ \t\t\tif(dep.then) {\n/******/ \t\t\t\tvar queue = [];\n/******/ \t\t\t\tqueue.d = 0;\n/******/ \t\t\t\tdep.then((r) => {\n/******/ \t\t\t\t\tobj[webpackExports] = r;\n/******/ \t\t\t\t\tresolveQueue(queue);\n/******/ \t\t\t\t}, (e) => {\n/******/ \t\t\t\t\tobj[webpackError] = e;\n/******/ \t\t\t\t\tresolveQueue(queue);\n/******/ \t\t\t\t});\n/******/ \t\t\t\tvar obj = {};\n/******/ \t\t\t\tobj[webpackQueues] = (fn) => (fn(queue));\n/******/ \t\t\t\treturn obj;\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t\tvar ret = {};\n/******/ \t\tret[webpackQueues] = x => {};\n/******/ \t\tret[webpackExports] = dep;\n/******/ \t\treturn ret;\n/******/ \t}));\n/******/ \t__webpack_require__.a = (module, body, hasAwait) => {\n/******/ \t\tvar queue;\n/******/ \t\thasAwait && ((queue = []).d = -1);\n/******/ \t\tvar depQueues = new Set();\n/******/ \t\tvar exports = module.exports;\n/******/ \t\tvar currentDeps;\n/******/ \t\tvar outerResolve;\n/******/ \t\tvar reject;\n/******/ \t\tvar promise = new Promise((resolve, rej) => {\n/******/ \t\t\treject = rej;\n/******/ \t\t\touterResolve = resolve;\n/******/ \t\t});\n/******/ \t\tpromise[webpackExports] = exports;\n/******/ \t\tpromise[webpackQueues] = (fn) => (queue && fn(queue), depQueues.forEach(fn), promise[\"catch\"](x => {}));\n/******/ \t\tmodule.exports = promise;\n/******/ \t\tbody((deps) => {\n/******/ \t\t\tcurrentDeps = wrapDeps(deps);\n/******/ \t\t\tvar fn;\n/******/ \t\t\tvar getResult = () => (currentDeps.map((d) => {\n/******/ \t\t\t\tif(d[webpackError]) throw d[webpackError];\n/******/ \t\t\t\treturn d[webpackExports];\n/******/ \t\t\t}))\n/******/ \t\t\tvar promise = new Promise((resolve) => {\n/******/ \t\t\t\tfn = () => (resolve(getResult));\n/******/ \t\t\t\tfn.r = 0;\n/******/ \t\t\t\tvar fnQueue = (q) => (q !== queue && !depQueues.has(q) && (depQueues.add(q), q && !q.d && (fn.r++, q.push(fn))));\n/******/ \t\t\t\tcurrentDeps.map((dep) => (dep[webpackQueues](fnQueue)));\n/******/ \t\t\t});\n/******/ \t\t\treturn fn.r ? promise : getResult();\n/******/ \t\t}, (err) => ((err ? reject(promise[webpackError] = err) : outerResolve(exports)), resolveQueue(queue)));\n/******/ \t\tqueue && queue.d < 0 && (queue.d = 0);\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/define property getters */\n/******/ (() => {\n/******/ \t// define getter functions for harmony exports\n/******/ \t__webpack_require__.d = (exports, definition) => {\n/******/ \t\tfor(var key in definition) {\n/******/ \t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t}\n/******/ \t\t}\n/******/ \t};\n/******/ })();\n/******/ \n/******/ /* webpack/runtime/hasOwnProperty shorthand */\n/******/ (() => {\n/******/ \t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ })();\n/******/ \n/************************************************************************/\n/******/ \n/******/ // startup\n/******/ // Load entry module and return exports\n/******/ // This entry module used 'module' so it can't be inlined\n/******/ var __webpack_exports__ = __webpack_require__(228);\n/******/ __webpack_exports__ = globalThis.pdfjsLib = await (globalThis.pdfjsLibPromise = __webpack_exports__);\n/******/ var __webpack_exports__AbortException = __webpack_exports__.AbortException;\n/******/ var __webpack_exports__AnnotationEditorLayer = __webpack_exports__.AnnotationEditorLayer;\n/******/ var __webpack_exports__AnnotationEditorParamsType = __webpack_exports__.AnnotationEditorParamsType;\n/******/ var __webpack_exports__AnnotationEditorType = __webpack_exports__.AnnotationEditorType;\n/******/ var __webpack_exports__AnnotationEditorUIManager = __webpack_exports__.AnnotationEditorUIManager;\n/******/ var __webpack_exports__AnnotationLayer = __webpack_exports__.AnnotationLayer;\n/******/ var __webpack_exports__AnnotationMode = __webpack_exports__.AnnotationMode;\n/******/ var __webpack_exports__CMapCompressionType = __webpack_exports__.CMapCompressionType;\n/******/ var __webpack_exports__ColorPicker = __webpack_exports__.ColorPicker;\n/******/ var __webpack_exports__DOMSVGFactory = __webpack_exports__.DOMSVGFactory;\n/******/ var __webpack_exports__DrawLayer = __webpack_exports__.DrawLayer;\n/******/ var __webpack_exports__FeatureTest = __webpack_exports__.FeatureTest;\n/******/ var __webpack_exports__GlobalWorkerOptions = __webpack_exports__.GlobalWorkerOptions;\n/******/ var __webpack_exports__ImageKind = __webpack_exports__.ImageKind;\n/******/ var __webpack_exports__InvalidPDFException = __webpack_exports__.InvalidPDFException;\n/******/ var __webpack_exports__MissingPDFException = __webpack_exports__.MissingPDFException;\n/******/ var __webpack_exports__OPS = __webpack_exports__.OPS;\n/******/ var __webpack_exports__Outliner = __webpack_exports__.Outliner;\n/******/ var __webpack_exports__PDFDataRangeTransport = __webpack_exports__.PDFDataRangeTransport;\n/******/ var __webpack_exports__PDFDateString = __webpack_exports__.PDFDateString;\n/******/ var __webpack_exports__PDFWorker = __webpack_exports__.PDFWorker;\n/******/ var __webpack_exports__PasswordResponses = __webpack_exports__.PasswordResponses;\n/******/ var __webpack_exports__PermissionFlag = __webpack_exports__.PermissionFlag;\n/******/ var __webpack_exports__PixelsPerInch = __webpack_exports__.PixelsPerInch;\n/******/ var __webpack_exports__RenderingCancelledException = __webpack_exports__.RenderingCancelledException;\n/******/ var __webpack_exports__UnexpectedResponseException = __webpack_exports__.UnexpectedResponseException;\n/******/ var __webpack_exports__Util = __webpack_exports__.Util;\n/******/ var __webpack_exports__VerbosityLevel = __webpack_exports__.VerbosityLevel;\n/******/ var __webpack_exports__XfaLayer = __webpack_exports__.XfaLayer;\n/******/ var __webpack_exports__build = __webpack_exports__.build;\n/******/ var __webpack_exports__createValidAbsoluteUrl = __webpack_exports__.createValidAbsoluteUrl;\n/******/ var __webpack_exports__fetchData = __webpack_exports__.fetchData;\n/******/ var __webpack_exports__getDocument = __webpack_exports__.getDocument;\n/******/ var __webpack_exports__getFilenameFromUrl = __webpack_exports__.getFilenameFromUrl;\n/******/ var __webpack_exports__getPdfFilenameFromUrl = __webpack_exports__.getPdfFilenameFromUrl;\n/******/ var __webpack_exports__getXfaPageViewport = __webpack_exports__.getXfaPageViewport;\n/******/ var __webpack_exports__isDataScheme = __webpack_exports__.isDataScheme;\n/******/ var __webpack_exports__isPdfFile = __webpack_exports__.isPdfFile;\n/******/ var __webpack_exports__noContextMenu = __webpack_exports__.noContextMenu;\n/******/ var __webpack_exports__normalizeUnicode = __webpack_exports__.normalizeUnicode;\n/******/ var __webpack_exports__renderTextLayer = __webpack_exports__.renderTextLayer;\n/******/ var __webpack_exports__setLayerDimensions = __webpack_exports__.setLayerDimensions;\n/******/ var __webpack_exports__shadow = __webpack_exports__.shadow;\n/******/ var __webpack_exports__updateTextLayer = __webpack_exports__.updateTextLayer;\n/******/ var __webpack_exports__version = __webpack_exports__.version;\n/******/ export { __webpack_exports__AbortException as AbortException, __webpack_exports__AnnotationEditorLayer as AnnotationEditorLayer, __webpack_exports__AnnotationEditorParamsType as AnnotationEditorParamsType, __webpack_exports__AnnotationEditorType as AnnotationEditorType, __webpack_exports__AnnotationEditorUIManager as AnnotationEditorUIManager, __webpack_exports__AnnotationLayer as AnnotationLayer, __webpack_exports__AnnotationMode as AnnotationMode, __webpack_exports__CMapCompressionType as CMapCompressionType, __webpack_exports__ColorPicker as ColorPicker, __webpack_exports__DOMSVGFactory as DOMSVGFactory, __webpack_exports__DrawLayer as DrawLayer, __webpack_exports__FeatureTest as FeatureTest, __webpack_exports__GlobalWorkerOptions as GlobalWorkerOptions, __webpack_exports__ImageKind as ImageKind, __webpack_exports__InvalidPDFException as InvalidPDFException, __webpack_exports__MissingPDFException as MissingPDFException, __webpack_exports__OPS as OPS, __webpack_exports__Outliner as Outliner, __webpack_exports__PDFDataRangeTransport as PDFDataRangeTransport, __webpack_exports__PDFDateString as PDFDateString, __webpack_exports__PDFWorker as PDFWorker, __webpack_exports__PasswordResponses as PasswordResponses, __webpack_exports__PermissionFlag as PermissionFlag, __webpack_exports__PixelsPerInch as PixelsPerInch, __webpack_exports__RenderingCancelledException as RenderingCancelledException, __webpack_exports__UnexpectedResponseException as UnexpectedResponseException, __webpack_exports__Util as Util, __webpack_exports__VerbosityLevel as VerbosityLevel, __webpack_exports__XfaLayer as XfaLayer, __webpack_exports__build as build, __webpack_exports__createValidAbsoluteUrl as createValidAbsoluteUrl, __webpack_exports__fetchData as fetchData, __webpack_exports__getDocument as getDocument, __webpack_exports__getFilenameFromUrl as getFilenameFromUrl, __webpack_exports__getPdfFilenameFromUrl as getPdfFilenameFromUrl, __webpack_exports__getXfaPageViewport as getXfaPageViewport, __webpack_exports__isDataScheme as isDataScheme, __webpack_exports__isPdfFile as isPdfFile, __webpack_exports__noContextMenu as noContextMenu, __webpack_exports__normalizeUnicode as normalizeUnicode, __webpack_exports__renderTextLayer as renderTextLayer, __webpack_exports__setLayerDimensions as setLayerDimensions, __webpack_exports__shadow as shadow, __webpack_exports__updateTextLayer as updateTextLayer, __webpack_exports__version as version };\n/******/ \n\n//# sourceMappingURL=pdf.mjs.map"],"names":["__webpack_modules__","__unused_webpack___webpack_module__","__webpack_exports__","__webpack_require__","AnnotationLayer","FreeTextAnnotationElement","InkAnnotationElement","StampAnnotationElement","util","display_utils","annotation_storage","makeColorComp","n","scaleAndClamp","x","ColorConverters","c","y","m","k","g","G","r","b","color","components","rgb","xfa_layer","DEFAULT_TAB_INDEX","DEFAULT_FONT_SIZE","GetElementsByNameSet","getRectDims","rect","AnnotationElementFactory","parameters","LinkAnnotationElement","TextAnnotationElement","TextWidgetAnnotationElement","RadioButtonWidgetAnnotationElement","CheckboxWidgetAnnotationElement","PushButtonWidgetAnnotationElement","ChoiceWidgetAnnotationElement","SignatureWidgetAnnotationElement","WidgetAnnotationElement","PopupAnnotationElement","LineAnnotationElement","SquareAnnotationElement","CircleAnnotationElement","PolylineAnnotationElement","CaretAnnotationElement","PolygonAnnotationElement","HighlightAnnotationElement","UnderlineAnnotationElement","SquigglyAnnotationElement","StrikeOutAnnotationElement","FileAttachmentAnnotationElement","AnnotationElement","#updates","#hasBorder","isRenderable","ignoreBorder","createQuadrilaterals","titleObj","contentsObj","richText","params","#setRectEdited","style","currentRect","rotation","pageWidth","pageHeight","pageX","pageY","width","height","data","page","viewport","container","horizontalRadius","verticalRadius","radius","borderColor","angle","elementWidth","elementHeight","setColor","jsName","styleName","event","colorType","colorArray","display","hidden","actions","jsEvent","commonActions","name","element","storedData","actionName","detail","action","eventProxy","quadPoints","rectBlX","rectBlY","rectTrX","rectTrY","trX","trY","blX","blY","svgBuffer","borderWidth","svgFactory","svg","defs","clipPath","id","rectWidth","rectHeight","popup","skipId","fields","fieldObj","exportValues","exportValue","domElement","triggers","mode","editId","options","linkService","link","isBound","#bindAttachment","#bindSetOCGState","#setInternalLink","destination","attachment","dest","map","resetForm","otherClickAction","resetFormFields","resetFormRefs","include","allFields","fieldIds","fieldName","field","storage","allIds","value","image","elementData","baseName","eventName","valueGetter","names","getter","TEXT_ALIGNMENT","fontColor","fontSize","computedFontSize","BORDER_SIZE","roundToOneDecimal","numberOfLines","lineHeight","isRequired","base","key","keyInStorage","textContent","maxLen","fieldFormattedValues","defaultValue","blurListener","formattedValue","target","charLimit","commitKey","_blurListener","selectionStart","selectionEnd","selStart","selEnd","match","combWidth","checked","checkbox","curChecked","radio","pdfButtonValue","linkElement","selectElement","addAnEmptyEntry","option","optionElement","removeEmptyEntry","noneOptionElement","getValue","isExport","multiple","selectedValues","getItems","values","index","displayValue","selectChild","items","item","indices","change","elements","PopupElement","elementIds","#boundKeyDown","#keyDown","#boundHide","#hide","#boundShow","#show","#boundToggle","#toggle","#color","#container","#contentsObj","#dateObj","#elements","#parent","#parentRect","#pinned","#popup","#rect","#richText","#titleObj","#wasVisible","modificationDate","parent","parentRect","open","e","view","baseColor","header","title","contents","useParentRect","normalizedRect","parentWidth","popupLeft","popupTop","str","dir","p","lines","i","ii","line","content","lineSpan","#line","#square","square","#circle","circle","#polyline","points","coordinate","polyline","#polylines","inkList","#trigger","filename","trigger","#download","isMac","evt","#accessibilityManager","#annotationCanvasMap","#editableAnnotations","div","accessibilityManager","annotationCanvasMap","annotationEditorUIManager","#appendElement","contentElement","annotations","layer","popupToElements","elementParams","isPopupAnnotation","rendered","#setAnnotationCanvasMap","canvas","firstChild","AnnotationStorage","PrintAnnotationStorage","SerializableEmpty","_shared_util_js__WEBPACK_IMPORTED_MODULE_0__","_editor_editor_js__WEBPACK_IMPORTED_MODULE_1__","_shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_2__","#modified","#storage","obj","modified","entry","val","#setModified","hash","transfer","context","hasBitmap","serialized","stats","typeToEditor","editorStats","type","counters","count","editor","#serializable","clone","__webpack_module__","__webpack_handle_async_dependencies__","__webpack_async_result__","getDocument","src","task","PDFDocumentLoadingTask","docId","url","getUrlProp","getDataProp","httpHeaders","withCredentials","password","rangeTransport","PDFDataRangeTransport","rangeChunkSize","DEFAULT_RANGE_CHUNK_SIZE","worker","PDFWorker","verbosity","docBaseUrl","_display_utils_js__WEBPACK_IMPORTED_MODULE_2__","cMapUrl","cMapPacked","CMapReaderFactory","DefaultCMapReaderFactory","standardFontDataUrl","StandardFontDataFactory","DefaultStandardFontDataFactory","ignoreErrors","maxImageSize","isEvalSupported","isOffscreenCanvasSupported","canvasMaxAreaInBytes","disableFontFace","fontExtraProperties","enableXfa","ownerDocument","disableRange","disableStream","disableAutoFetch","pdfBug","length","useSystemFonts","useWorkerFetch","canvasFactory","DefaultCanvasFactory","filterFactory","DefaultFilterFactory","styleElement","transportFactory","workerParams","_worker_options_js__WEBPACK_IMPORTED_MODULE_14__","fetchDocParams","transportParams","workerIdPromise","_fetchDocument","networkStreamPromise","resolve","networkStream","_transport_stream_js__WEBPACK_IMPORTED_MODULE_10__","display_fetch_stream__WEBPACK_IMPORTED_MODULE_11__","display_node_stream__WEBPACK_IMPORTED_MODULE_13__","display_network__WEBPACK_IMPORTED_MODULE_12__","workerId","messageHandler","_shared_message_handler_js__WEBPACK_IMPORTED_MODULE_7__","transport","WorkerTransport","isRefProxy","ref","build","version","_annotation_storage_js__WEBPACK_IMPORTED_MODULE_1__","_font_loader_js__WEBPACK_IMPORTED_MODULE_3__","display_node_utils__WEBPACK_IMPORTED_MODULE_4__","_canvas_js__WEBPACK_IMPORTED_MODULE_5__","_text_layer_js__WEBPACK_IMPORTED_MODULE_6__","_metadata_js__WEBPACK_IMPORTED_MODULE_8__","_optional_content_config_js__WEBPACK_IMPORTED_MODULE_9__","_xfa_text_js__WEBPACK_IMPORTED_MODULE_15__","__webpack_async_dependencies__","RENDERING_CANCELLED_TIMEOUT","DELAYED_CLEANUP_TIMEOUT","source","#docId","ex","initialData","progressiveDone","contentDispositionFilename","listener","begin","chunk","loaded","total","end","PDFDocumentProxy","pdfInfo","pageNumber","intent","renderingIntent","keepLoadedFonts","PDFPageProxy","#delayedCleanupTimeout","#pendingCleanup","pageIndex","pageInfo","PDFObjects","scale","offsetX","offsetY","dontFlip","canvasContext","annotationMode","transform","background","optionalContentConfigPromise","pageColors","printAnnotationStorage","intentArgs","cacheKey","#abortDelayedCleanup","intentState","intentPrint","complete","error","internalRenderTask","#tryCleanup","InternalRenderTask","renderTask","transparency","optionalContentConfig","operatorListChanged","opListTask","includeMarkedContent","disableNormalization","xfa","readableStream","reject","pump","reader","done","waitOn","resetStats","success","delayed","renderTasks","operatorList","operatorListChunk","annotationStorageSerializable","reason","force","delay","curCacheKey","curIntentState","LoopbackPort","#listeners","#deferred","PDFWorkerUtil","baseUrl","otherUrl","other","wrapper","#workerPorts","port","#mainThreadWorkerMessageHandler","workerSrc","terminateEarly","onWorkerError","sendTest","testObj","WorkerMessageHandler","workerHandler","cachedPort","loader","#methodPromises","#pageCache","#pagePromises","#pageRefCache","#passwordCapability","loadingTask","factory","#cacheSimpleMethod","cachedPromise","promise","isOpList","terminated","sink","readyReason","headersCapability","fullReader","rangeReader","exception","updatePassword","exportedData","exportedError","inspectFont","font","imageRef","pageProxy","imageData","results","refStr","INITIAL_DATA","#objs","#ensureObj","objId","callback","RenderTask","#internalRenderTask","extraDelay","separateAnnots","#canvasInUse","objs","commonObjs","useRequestAnimationFrame","BaseCMapReaderFactory","BaseCanvasFactory","BaseFilterFactory","BaseSVGFactory","BaseStandardFontDataFactory","maps","fgColor","bgColor","filterName","newFgColor","newBgColor","keepHCM","canvasAndContext","isCompressed","compressionType","skipDimensions","CanvasGraphics","PathType","applyBoundingBox","ctx","bbox","region","BaseShadingPattern","RadialAxialShadingPattern","IR","grad","colorStop","owner","inverse","pathType","pattern","ownerBBox","tmpCanvas","tmpCtx","domMatrix","drawTriangle","p1","p2","p3","c1","c2","c3","coords","colors","bytes","rowSize","tmp","x1","y1","x2","y2","x3","y3","c1r","c1g","c1b","c2r","c2g","c2b","c3r","c3g","c3b","minY","maxY","xa","car","cag","cab","xb","cbr","cbg","cbb","x1_","x2_","j","drawFigure","figure","ps","cs","verticesPerRow","rows","cols","q","MeshShadingPattern","combinedScale","backgroundColor","cachedCanvases","boundsWidth","boundsHeight","scaleX","scaleY","paddedWidth","paddedHeight","matrixScale","temporaryPatternCanvas","DummyShadingPattern","getShadingPattern","PaintType","TilingPattern","canvasGraphicsFactory","baseTransform","xstep","ystep","paintType","tilingType","x0","y0","curMatrixScale","dimx","dimy","graphics","adjustedX0","adjustedY0","adjustedX1","adjustedY1","step","realOutputSize","maxSize","size","bboxWidth","bboxHeight","current","cssColor","matrix","convertBlackAndWhiteToRGBA","srcPos","nonBlackColor","inverseDecode","black","zeroMapping","oneMapping","widthInSource","widthRemainder","srcLength","destPos","max","elem","MIN_FONT_SIZE","MAX_FONT_SIZE","MAX_GROUP_SIZE","EXECUTION_TIME","EXECUTION_STEPS","MAX_SIZE_TO_COMPILE","FULL_CHUNK_HEIGHT","mirrorContextOperations","destCtx","a","f","rule","cp1x","cp1y","cp2x","cp2y","CachedCanvases","canvasEntry","drawImageAtIntegerCoords","srcImg","srcX","srcY","srcW","srcH","destX","destY","destW","destH","d","tx","ty","tlX","rTlX","tlY","rTlY","brX","rWidth","brY","rHeight","compileType3Glyph","imgData","POINT_TO_PROCESS_LIMIT","POINT_TYPES","width1","j0","lineSize","pos","mask","sum","steps","path","p0","pp","CanvasExtraState","p4","minMax","box","xStrokePad","yStrokePad","intersect","putBinaryImageData","partialChunkHeight","fullChunks","totalChunks","chunkImgData","thisChunkHeight","elemsInThisChunk","dest32","dest32DataLength","fullSrcDiff","white","srcDiff","kEnd","kEndUnrolled","srcByte","putBinaryImageMask","copyCtxState","sourceCtx","properties","property","resetCtxToDefault","filter","composeSMaskBackdrop","r0","g0","b0","alpha","alpha_","composeSMaskAlpha","maskData","layerData","transferMap","composeSMaskLuminosity","genericComposeSMask","maskCtx","layerCtx","subtype","backdrop","layerOffsetX","layerOffsetY","maskOffsetX","maskOffsetY","hasBackdrop","composeFn","chunkSize","row","chunkHeight","composeSMask","smask","layerBox","layerWidth","layerHeight","getImageSmoothingEnabled","interpolate","actualScale","LINE_CAP_STYLES","LINE_JOIN_STYLES","NORMAL_CLIP","EO_CLIP","canvasCtx","markedContentStack","fallback","savedFillStyle","transparentCanvas","executionStartIdx","continueCallback","stepper","argsArray","fnArray","argsArrayLen","chunkOperations","endTime","fnId","depObjId","objsPool","#restoreInitialState","cache","#drawFilter","hcmFilterId","savedFilter","img","inverseTransform","widthScale","heightScale","paintWidth","paintHeight","tmpCanvasId","newWidth","newHeight","fillColor","isPatternFill","currentTransform","scaled","maskCanvas","mainKey","cachedImage","maskToCanvas","minX","maxX","drawnWidth","drawnHeight","fillCanvas","fillCtx","limit","dashArray","dashPhase","flatness","states","inSMaskMode","cacheId","scratchCanvas","dirtyBox","suspendedCtx","old","ops","args","startX","startY","isScalingMatrix","minMaxForBezier","xw","yh","consumePath","strokeColor","needRestore","paths","spacing","leading","fontRefName","fontObj","typeface","bold","italic","browserFontSize","rise","character","patternTransform","textRenderingMode","fillStrokeMode","isAddToPathSet","patternFill","addToPath","enabled","glyphs","fontSizeScale","charSpacing","wordSpacing","fontDirection","textHScale","glyphsLength","vertical","spacingDir","defaultVMetrics","widthAdvanceScale","simpleFillText","lineWidth","chars","glyph","restoreNeeded","accent","scaledX","scaledY","vmetric","vx","vy","measuredWidth","characterScaleX","scaledAccentX","scaledAccentY","charWidth","fontMatrix","isTextInvisible","spacingLength","xWidth","yWidth","llx","lly","urx","ury","inv","group","currentCtx","bounds","canvasBounds","groupCtx","currentMtx","hasOwnCanvas","viewportScale","canvasWidth","canvasHeight","skewX","skewY","positions","trans","images","bitmap","imgToPaint","w","h","tag","clipBox","isEmpty","absDet","normX","normY","scaledLineWidth","scaledXLineWidth","scaledYLineWidth","baseArea","saveRestore","dashes","op","DOMCMapReaderFactory","DOMCanvasFactory","DOMFilterFactory","DOMSVGFactory","DOMStandardFontDataFactory","PDFDateString","PageViewport","PixelsPerInch","RenderingCancelledException","StatTimer","fetchData","getColorValues","getCurrentTransform","getCurrentTransformInverse","getFilenameFromUrl","getPdfFilenameFromUrl","getRGB","getXfaPageViewport","isDataScheme","isPdfFile","isValidFetchUrl","noContextMenu","setLayerDimensions","_base_factory_js__WEBPACK_IMPORTED_MODULE_0__","_shared_util_js__WEBPACK_IMPORTED_MODULE_1__","SVG_NS","#_cache","#_defs","#document","#_hcmCache","#id","#cache","#hcmCache","#defs","tableR","tableG","tableB","mapR","buffer","mapG","mapB","bufferR","bufferG","bufferB","#createFilter","#addTransferMapConversion","info","fgRGB","#getRGB","bgRGB","table","#addGrayConversion","getSteps","start","arr","fgGray","bgGray","newFgRGB","newBgRGB","fg","bg","newStart","newStep","prev","feColorMatrix","#appendFeFunc","feComponentTransfer","func","feFunc","rTable","gTable","bTable","response","request","viewBox","centerX","centerY","rotateA","rotateB","rotateC","rotateD","offsetCanvasX","offsetCanvasY","topLeft","bottomRight","msg","onlyStripPath","defaultFilename","reURI","reFilename","splitURI","suggestedFilename","outBuf","longest","protocol","pdfDateStringRegex","input","matches","year","month","day","hour","minute","second","universalTimeRelation","offsetHour","offsetMinute","xfaPage","colorRGB","span","computedColor","mustFlip","mustRotate","useRound","widthStr","heightStr","DrawLayer","_display_utils_js__WEBPACK_IMPORTED_MODULE_0__","#mapping","#toUpdate","root","#setBox","#createSVG","#createClipPath","pathId","clipPathId","clipPathUse","outlines","opacity","isPathUpdatable","use","maskId","use1","use2","visible","className","AnnotationEditorLayer","editor_editor","tools","annotation_layer","EOL_PATTERN","FreeTextEditor","#boundEditorDivBlur","#boundEditorDivFocus","#boundEditorDivInput","#boundEditorDivKeydown","#boundEditorDivPaste","#content","#editorDivId","#fontSize","#initialData","proto","arrowChecker","self","small","big","l10n","uiManager","#updateFontSize","#updateColor","setFontsize","#setEditorDimensions","savedFontsize","col","savedColor","#extractText","child","#getNodeContent","parentHeight","currentLayer","savedDisplay","savedVisibility","savedText","newText","setText","text","#setContent","baseX","baseY","position","posX","posY","node","clipboardData","types","paste","#deserializeContent","selection","range","startContainer","startOffset","bufferBefore","bufferAfter","newRange","beforeLength","acc","#serializeContent","textPosition","isForCopying","padding","#hasElementChanged","annotation","editor_outliner","color_picker","HighlightEditor","#anchorNode","#anchorOffset","#boxes","#clipPathId","#colorPicker","#focusOutlines","#focusNode","#focusOffset","#highlightDiv","#highlightOutlines","#isFreeHighlight","#boundKeydown","#keydown","#lastPoint","#opacity","#outlineId","#text","#thickness","#methodOfCreation","#createFreeOutlines","#addToDrawLayer","#createOutlines","outliner","outlinerForOutline","lastPoint","highlightOutlines","highlightId","extraThickness","#rotateBbox","#updateThickness","thickness","savedThickness","setThickness","th","#changeThickness","toolbar","#getRotation","#cleanDrawLayer","mustBeSelected","drawLayer","highlightDiv","direction","#setCaret","#serializeBoxes","boxes","sx","sy","#serializeOutlines","isLTR","textLayer","layerX","layerY","pointerMove","#highlightMove","pointerDownOptions","pointerDown","pointerUpCallback","#endHighlight","InkEditor","#baseHeight","#baseWidth","#boundCanvasPointermove","#boundCanvasPointerleave","#boundCanvasPointerup","#boundCanvasPointerdown","#canvasContextMenuTimeoutId","#currentPath2D","#disableEditing","#hasSomethingToDraw","#isCanvasInitialized","#observer","#realWidth","#realHeight","#requestFrameCallback","#updateOpacity","#fitToContent","#redraw","setOpacity","savedOpacity","#createCanvas","#createObserver","#setCanvasDims","#getInitialBBox","parentRotation","#setStroke","parentScale","scaleFactor","#startDrawing","#drawPoints","#draw","lastX","lastY","currentPath","path2D","#makeBezierCurve","#endPath","#stopDrawing","bezier","#generateBezierPoints","xy","cmd","undo","lastPoints","prevX","prevY","bezierPoints","control1","control2","#updateTransform","#endDrawing","entries","roundedWidth","roundedHeight","#setScaleFactor","#getPadding","scaleFactorW","scaleFactorH","#buildPath2D","first","#toPDFCoordinates","#fromPDFCoordinates","#serializePaths","s","shiftX","shiftY","jj","p10","p11","p20","p21","p30","p31","p40","p41","#getBbox","xMin","xMax","yMin","yMax","firstTime","prevTranslationX","prevTranslationY","unscaledPadding","StampEditor","#bitmap","#bitmapId","#bitmapPromise","#bitmapUrl","#bitmapFile","#bitmapFileName","#canvas","#resizeTimeoutId","#isSvg","#hasBeenAddedInUndoStack","mime","#getBitmapFetched","fromId","#getBitmapDone","#getBitmap","file","MAX_RATIO","factor","#drawBitmap","#setDimensions","TIME_TO_WAIT","#scaleBitmap","bitmapWidth","bitmapHeight","prevWidth","prevHeight","offscreen","blob","fileReader","altText","#serializeBitmap","toUrl","bitmapUrl","bitmapId","isSvg","accessibilityData","decorative","area","prevData","#allowClick","#annotationLayer","#boundPointerup","#boundPointerdown","#boundTextLayerPointerDown","#editorFocusTimeoutId","#editors","#hadPointerDown","#isCleaningUp","#isDisabling","#textLayer","#uiManager","#editorTypes","annotationLayer","editorTypes","editorType","#cleanup","classList","isCommitting","isEditing","annotationElementIds","editables","editable","changedAnnotations","resetAnnotations","#textLayerPointerDown","annotationElementId","activeElement","#currentEditorType","#createNewEditor","#getCenterPoint","isCentered","oldRotation","ColorPicker","_tools_js__WEBPACK_IMPORTED_MODULE_1__","#boundPointerDown","#pointerDown","#button","#buttonSwatch","#defaultColor","#dropdown","#dropdownWasFromKeyboard","#isMainColorPicker","#editor","#eventBus","#type","button","#openDropdown","swatch","dropdown","#getDropdownRoot","#colorSelect","#isDropdownVisible","AnnotationEditor","AltText","#altText","#altTextDecorative","#altTextButton","#altTextTooltip","#altTextTooltipTimeout","#altTextWasFromKeyBoard","l10nPromise","onClick","#setState","tooltip","DELAY_TO_SHOW_TOOLTIP","#allResizerDivs","#disabled","#keepAspectRatio","#resizersDiv","#savedDimensions","#boundFocusin","#boundFocusout","#editToolbar","#focusedResizerName","#hasBeenClicked","#initialPosition","#isEditing","#isInEditMode","#isResizerEnabledForKeyboard","#moveInDOMTimeout","#prevDragX","#prevDragY","#telemetryTimeouts","#isDraggable","#zIndex","resize","fakeEditor","FakeEditor","_uiManager","_type","_value","#stopResizing","#translate","bx","by","_borderLineWidth","#rotatePoint","#getRotationMatrix","scaledWidth","scaledHeight","widthPercent","heightPercent","#createResizers","classes","#resizerPointerdown","boundResizerPointermove","#resizerPointermove","savedDraggable","pointerMoveOptions","savedX","savedY","savedWidth","savedHeight","savedParentCursor","savedCursor","#addResizeToUndoStack","newX","newY","minWidth","minHeight","round","rotationMatrix","transf","invRotationMatrix","invTransf","getPoint","getOpposite","isDiagonal","isHorizontal","point","oppositePoint","transfOppositePoint","oppositeX","oppositeY","ratioX","ratioY","deltaX","deltaY","oldDiag","#setUpDragSession","#selectOnPointerEvent","isSelected","pointerMoveCallback","_angle","timeout","children","boundResizerKeydown","#resizerKeydown","boundResizerBlur","#resizerBlur","#resizerFocus","firstPosition","nextFirstPosition","#setResizerTabIndex","aspectRatio","mustWait","FreeOutliner","Outliner","#box","#verticalEdges","#intervals","innerMargin","EPSILON","left","right","shiftedMinX","shiftedMinY","lastEdge","edge","outlineVerticalEdges","#breakEdge","#insert","#remove","#getOutlines","edges","allEdges","edge1","edge2","outline","lastPointX","lastPointY","HighlightOutline","#binarySearch","array","middle","y4","Outline","_bbox","_rotation","FreeHighlightOutline","#outlines","polygon","#bottom","#innerMargin","#isLTR","#top","#last","#lastX","#lastY","#min","#min_dist","#scaleFactor","#points","#MIN_DIST","#MIN_DIFF","#MIN","#getLastCoords","lastTop","lastBottom","diffX","diffY","diffD","K","nX","nY","thX","thY","top","bottom","lastTopX","lastTopY","lastBottomX","lastBottomY","last","N","#bbox","#outline","#computeMinMax","#rescale","#rescaleAndSwap","ltrCallback","EditorToolbar","HighlightToolbar","#toolbar","#buttons","editToolbar","buttons","#addDeleteButton","#focusIn","#focusOut","#addListenersToElement","#divider","divider","colorPicker","#render","#addHighlightButton","#getLastPoint","AnnotationEditorUIManager","ColorManager","KeyboardManager","bindEvents","opacityToHex","_display_utils_js__WEBPACK_IMPORTED_MODULE_1__","_toolbar_js__WEBPACK_IMPORTED_MODULE_2__","IdManager","ImageManager","#baseId","#get","rawData","mustRemoveAspectRatioPromise","imageElement","imagePromise","lastModified","CommandManager","#commands","#locked","#maxSize","#position","post","mustExec","overwriteIfSameType","keepUndo","save","next","callbacks","keys","isMacKey","#serialize","bubbles","checker","RGB","#activeEditor","#allEditors","#allLayers","#altTextManager","#annotationStorage","#changedExistingAnnotations","#commandManager","#currentPageIndex","#deletedAnnotationsElementIds","#draggingEditors","#editorsToRescale","#enableHighlightFloatingButton","#filterFactory","#focusMainContainerTimeoutId","#highlightColors","#highlightWhenShiftUp","#highlightToolbar","#idManager","#isEnabled","#isWaiting","#lastActiveElement","#mainHighlightColorPicker","#mlManager","#mode","#selectedEditors","#selectedTextNode","#pageColors","#showAllStates","#boundBlur","#boundFocus","#boundCopy","#boundCut","#boundPaste","#boundKeyup","#boundOnEditingAction","#boundOnPageChanging","#boundOnScaleChanging","#boundSelectionChange","#selectionChange","#boundOnRotationChanging","#previousStates","#translation","#translationTimeoutId","#viewer","textInputChecker","_self","el","viewer","altTextManager","eventBus","pdfDocument","highlightColors","enableHighlightFloatingButton","mlManager","#addSelectionListener","#addKeyboardManager","#removeKeyboardManager","#removeFocusManager","#removeSelectionListener","pair","pagesRotation","#getAnchorElementForSelection","anchorNode","methodOfCreation","anchorOffset","focusNode","focusOffset","#displayHighlightToolbar","#dispatchUpdateStates","pointerup","#onSelectEnd","#addFocusManager","lastEditor","lastActiveElement","#addCopyPasteListeners","#removeCopyPasteListeners","editors","newEditors","deserializedEditor","#addEditorToLayer","#selectEditors","details","#dispatchUpdateUI","#isEmpty","isFromKeyboard","#disableAll","#enableAll","updateButton","#lastSelectedEditor","ed","noCommit","totalX","totalY","mustBeAddedInUndoStack","move","newPageIndex","savedPageIndex","rotator","editorId","PDFFetchStream","_network_utils_js__WEBPACK_IMPORTED_MODULE_1__","createFetchOptions","headers","abortController","createHeaders","getArrayBuffer","PDFFetchStreamReader","PDFFetchStreamRangeReader","stream","getResponseHeader","allowRangeRequests","suggestedLength","FontFaceObject","FontLoader","#systemFonts","nativeFontFace","styleSheet","_inspectFont","loadedName","fontFace","hasFonts","supported","completeRequest","loadingRequests","otherRequest","testFont","int32","offset","spliceString","remove","insert","chunk1","chunk2","called","isFontReady","loadTestFontId","CFF_CHECKSUM_OFFSET","XXXX_VALUE","checksum","translatedData","css","cmds","commands","Metadata","#metadataMap","#data","parsedData","PDFNetworkStream","OK_RESPONSE","PARTIAL_CONTENT_RESPONSE","xhr","NetworkManager","listeners","prop","xhrId","pendingRequest","xhrStatus","rangeHeader","PDFNetworkStreamFullRequestReader","PDFNetworkStreamRangeRequestReader","manager","fullRequestXhrId","fullRequestXhr","requestCapability","status","createResponseStatusError","extractFilenameFromHeader","validateRangeRequestCapabilities","validateResponseStatus","getFilenameFromContentDispositionHeader","contentDisposition","needsEncodingFixup","toParamRegExp","rfc2616unquote","rfc5987decode","rfc2047decode","fixupEncoding","rfc2231getparam","attributePattern","flags","textdecode","encoding","decoder","contentDispositionStr","iter","quot","part","parts","quotindex","extvalue","encodingend","charset","hex","isHttp","returnValues","parseUrl","sourceUrl","parsedUrl","createRequestOptions","PDFNodeStream","fs","http","https","fileUriRegex","PDFNodeStreamFsFullReader","PDFNodeStreamFullReader","PDFNodeStreamFsRangeReader","PDFNodeStreamRangeReader","BaseFullReader","BaseRangeReader","handleResponse","stat","NodeCMapReaderFactory","NodeCanvasFactory","NodeFilterFactory","NodeStandardFontDataFactory","path2d","OptionalContentConfig","_shared_murmurhash3_js__WEBPACK_IMPORTED_MODULE_1__","INTERNAL","OptionalContentGroup","#isDisplay","#isPrint","#userSet","#visible","usage","print","internal","userSet","#cachedGetHash","#groups","#initialHash","#order","on","off","#evaluateVisibilityExpression","operator","state","preserveRB","cleanupTextLayer","renderTextLayer","updateTextLayer","MAX_TEXT_DIVS_TO_RENDER","DEFAULT_FONT_ASCENT","ascentCache","_canvasContext","getCtx","getAscent","fontFamily","cachedAscent","savedFont","metrics","ascent","descent","ratio","pixels","appendText","geom","styles","textDiv","textDivProperties","fontHeight","fontAscent","scaleFactorStr","divStyle","shouldScaleText","absScaleX","absScaleY","layout","prevFontSize","prevFontFamily","render","textDivs","capability","TextLayerRenderTask","textContentSource","textContentItemsStr","styleCache","br","mustRescale","PDFDataTransportStream","pdfDataRangeTransport","found","queuedChunks","PDFDataTransportStreamReader","PDFDataTransportStreamRangeReader","GlobalWorkerOptions","#port","#src","XfaLayer","_xfa_text_js__WEBPACK_IMPORTED_MODULE_0__","html","attributes","isHTMLAnchorElement","rootHtml","isNotForRichText","rootDiv","stack","childHtml","XfaText","output","walk","_display_editor_annotation_editor_layer_js__WEBPACK_IMPORTED_MODULE_4__","_display_editor_tools_js__WEBPACK_IMPORTED_MODULE_5__","_display_annotation_layer_js__WEBPACK_IMPORTED_MODULE_6__","_display_editor_color_picker_js__WEBPACK_IMPORTED_MODULE_7__","_display_display_utils_js__WEBPACK_IMPORTED_MODULE_2__","_display_draw_layer_js__WEBPACK_IMPORTED_MODULE_8__","_display_worker_options_js__WEBPACK_IMPORTED_MODULE_10__","_display_editor_outliner_js__WEBPACK_IMPORTED_MODULE_9__","_display_api_js__WEBPACK_IMPORTED_MODULE_1__","_display_xfa_layer_js__WEBPACK_IMPORTED_MODULE_11__","_display_text_layer_js__WEBPACK_IMPORTED_MODULE_3__","pdfjsVersion","pdfjsBuild","MessageHandler","_util_js__WEBPACK_IMPORTED_MODULE_0__","CallbackKind","StreamKind","wrapReason","sourceName","targetName","comObj","#processStreamMessage","callbackId","cbSourceName","cbTargetName","result","#createStreamSink","handler","ah","transfers","queueingStrategy","streamId","controller","startCapability","pullCapability","cancelCapability","streamSink","lastDesiredSize","streamController","#deleteStreamController","MurmurHash3_64","SEED","MASK_HIGH","MASK_LOW","seed","code","blockCounts","tailLength","dataUint32","k1","k2","h1","h2","C1","C2","C1_LOW","C2_LOW","AbortException","AnnotationBorderStyleType","AnnotationEditorParamsType","AnnotationEditorPrefix","AnnotationEditorType","AnnotationMode","AnnotationPrefix","AnnotationType","BaseException","CMapCompressionType","FONT_IDENTITY_MATRIX","FeatureTest","FontRenderOps","FormatError","IDENTITY_MATRIX","ImageKind","InvalidPDFException","LINE_FACTOR","MAX_IMAGE_SIZE_TO_CACHE","MissingPDFException","OPS","PasswordException","PasswordResponses","PermissionFlag","RenderingIntentFlag","TextRenderingMode","UnexpectedResponseException","UnknownErrorException","Util","VerbosityLevel","assert","bytesToString","createValidAbsoluteUrl","getUuid","getVerbosityLevel","isNodeJS","normalizeUnicode","objectFromMap","setVerbosityLevel","shadow","string32","stringToBytes","unreachable","warn","level","cond","_isValidProtocol","stringToUTF8String","absoluteUrl","nonSerializable","message","MAX_ARGUMENT_COUNT","strBuf","chunkEnd","isLittleEndian","buffer8","hexNumbers","temp","m1","m2","xt","yt","transpose","rect1","rect2","xLow","xHigh","yLow","yHigh","#getExtremumOnCurve","t","mt","tt","ttt","#getExtremum","delta","sqrtDelta","a2","NormalizeRegex","NormalizationMap","_","buf","__webpack_module_cache__","moduleId","cachedModule","module","webpackQueues","webpackExports","webpackError","resolveQueue","queue","fn","wrapDeps","deps","dep","ret","body","hasAwait","depQueues","exports","currentDeps","outerResolve","rej","getResult","fnQueue","err","definition","__webpack_exports__GlobalWorkerOptions","__webpack_exports__getDocument"],"mappings":"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","x_google_ignoreList":[0]}
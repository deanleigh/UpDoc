{"version":3,"file":"create-workflow-modal.element-uvH4Hc7Q.js","sources":["../src/create-workflow-modal.element.ts"],"sourcesContent":["import type { CreateWorkflowModalData, CreateWorkflowModalValue } from './create-workflow-modal.token.js';\r\nimport { html, customElement, css, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { UmbModalBaseElement } from '@umbraco-cms/backoffice/modal';\r\n\r\n@customElement('create-workflow-modal')\r\nexport class CreateWorkflowModalElement extends UmbModalBaseElement<\r\n\tCreateWorkflowModalData,\r\n\tCreateWorkflowModalValue\r\n> {\r\n\t@state() private _name = '';\r\n\t@state() private _documentTypeAlias = '';\r\n\t@state() private _blueprintId = '';\r\n\t@state() private _blueprintName = '';\r\n\r\n\t#toKebabCase(value: string): string {\r\n\t\treturn value\r\n\t\t\t.replace(/([a-z])([A-Z])/g, '$1-$2')\r\n\t\t\t.replace(/[\\s_]+/g, '-')\r\n\t\t\t.toLowerCase();\r\n\t}\r\n\r\n\t#handleDocTypeInput(e: InputEvent) {\r\n\t\tconst target = e.target as HTMLInputElement;\r\n\t\tthis._documentTypeAlias = target.value;\r\n\t\t// Auto-generate name from alias if name hasn't been manually edited\r\n\t\tif (!this._nameManuallyEdited) {\r\n\t\t\tthis._name = this.#toKebabCase(target.value);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate _nameManuallyEdited = false;\r\n\r\n\t#handleNameInput(e: InputEvent) {\r\n\t\tconst target = e.target as HTMLInputElement;\r\n\t\tthis._name = target.value;\r\n\t\tthis._nameManuallyEdited = true;\r\n\t}\r\n\r\n\t#handleBlueprintIdInput(e: InputEvent) {\r\n\t\tconst target = e.target as HTMLInputElement;\r\n\t\tthis._blueprintId = target.value;\r\n\t}\r\n\r\n\t#handleBlueprintNameInput(e: InputEvent) {\r\n\t\tconst target = e.target as HTMLInputElement;\r\n\t\tthis._blueprintName = target.value;\r\n\t}\r\n\r\n\tget #isValid(): boolean {\r\n\t\treturn this._name.trim().length > 0 && this._documentTypeAlias.trim().length > 0;\r\n\t}\r\n\r\n\t#handleSubmit() {\r\n\t\tif (!this.#isValid) return;\r\n\r\n\t\tthis.value = {\r\n\t\t\tname: this._name.trim(),\r\n\t\t\tdocumentTypeAlias: this._documentTypeAlias.trim(),\r\n\t\t\tblueprintId: this._blueprintId.trim() || undefined,\r\n\t\t\tblueprintName: this._blueprintName.trim() || undefined,\r\n\t\t};\r\n\t\tthis._submitModal();\r\n\t}\r\n\r\n\t#handleClose() {\r\n\t\tthis._rejectModal();\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<uui-dialog-layout headline=\"Create Workflow\">\r\n\t\t\t\t<div class=\"form\">\r\n\t\t\t\t\t<uui-label for=\"docTypeAlias\" required>Document Type Alias</uui-label>\r\n\t\t\t\t\t<uui-input\r\n\t\t\t\t\t\tid=\"docTypeAlias\"\r\n\t\t\t\t\t\tplaceholder=\"e.g. groupTour\"\r\n\t\t\t\t\t\t.value=${this._documentTypeAlias}\r\n\t\t\t\t\t\t@input=${this.#handleDocTypeInput}>\r\n\t\t\t\t\t</uui-input>\r\n\r\n\t\t\t\t\t<uui-label for=\"workflowName\" required>Workflow Name</uui-label>\r\n\t\t\t\t\t<uui-input\r\n\t\t\t\t\t\tid=\"workflowName\"\r\n\t\t\t\t\t\tplaceholder=\"e.g. group-tour\"\r\n\t\t\t\t\t\t.value=${this._name}\r\n\t\t\t\t\t\t@input=${this.#handleNameInput}>\r\n\t\t\t\t\t</uui-input>\r\n\t\t\t\t\t<small class=\"hint\">Used as the folder name. Auto-generated from document type alias.</small>\r\n\r\n\t\t\t\t\t<uui-label for=\"blueprintId\">Blueprint ID</uui-label>\r\n\t\t\t\t\t<uui-input\r\n\t\t\t\t\t\tid=\"blueprintId\"\r\n\t\t\t\t\t\tplaceholder=\"e.g. a6e0e5b8-a022-4534-ac7f-1929dbe9fb6c\"\r\n\t\t\t\t\t\t.value=${this._blueprintId}\r\n\t\t\t\t\t\t@input=${this.#handleBlueprintIdInput}>\r\n\t\t\t\t\t</uui-input>\r\n\r\n\t\t\t\t\t<uui-label for=\"blueprintName\">Blueprint Name</uui-label>\r\n\t\t\t\t\t<uui-input\r\n\t\t\t\t\t\tid=\"blueprintName\"\r\n\t\t\t\t\t\tplaceholder=\"e.g. Group Tour\"\r\n\t\t\t\t\t\t.value=${this._blueprintName}\r\n\t\t\t\t\t\t@input=${this.#handleBlueprintNameInput}>\r\n\t\t\t\t\t</uui-input>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<uui-button\r\n\t\t\t\t\tslot=\"actions\"\r\n\t\t\t\t\tlabel=\"Cancel\"\r\n\t\t\t\t\t@click=${this.#handleClose}></uui-button>\r\n\t\t\t\t<uui-button\r\n\t\t\t\t\tslot=\"actions\"\r\n\t\t\t\t\tlook=\"primary\"\r\n\t\t\t\t\tcolor=\"positive\"\r\n\t\t\t\t\tlabel=\"Create\"\r\n\t\t\t\t\t?disabled=${!this.#isValid}\r\n\t\t\t\t\t@click=${this.#handleSubmit}></uui-button>\r\n\t\t\t</uui-dialog-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t.form {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tgap: var(--uui-size-space-3);\r\n\t\t\t}\r\n\r\n\t\t\t.hint {\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tmargin-top: calc(var(--uui-size-space-1) * -1);\r\n\t\t\t}\r\n\r\n\t\t\tuui-input {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default CreateWorkflowModalElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'create-workflow-modal': CreateWorkflowModalElement;\r\n\t}\r\n}\r\n"],"names":["_CreateWorkflowModalElement_instances","toKebabCase_fn","handleDocTypeInput_fn","handleNameInput_fn","handleBlueprintIdInput_fn","handleBlueprintNameInput_fn","isValid_get","handleSubmit_fn","handleClose_fn","CreateWorkflowModalElement","UmbModalBaseElement","__privateAdd","html","__privateMethod","__privateGet","value","target","UmbTextStyles","css","__decorateClass","state","customElement","CreateWorkflowModalElement_default"],"mappings":"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"}
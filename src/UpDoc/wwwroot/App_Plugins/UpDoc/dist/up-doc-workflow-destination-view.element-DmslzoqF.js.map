{"version":3,"file":"up-doc-workflow-destination-view.element-DmslzoqF.js","sources":["../src/up-doc-workflow-destination-view.element.ts"],"sourcesContent":["import type { DocumentTypeConfig, DestinationField, DestinationBlock, DestinationBlockGrid, BlockProperty, SectionMapping } from './workflow.types.js';\r\nimport { fetchWorkflowByAlias, changeWorkflowDestination } from './workflow.service.js';\r\nimport { getDestinationTabs, getAllBlockContainers } from './destination-utils.js';\r\nimport { html, customElement, css, state, nothing } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { UMB_AUTH_CONTEXT } from '@umbraco-cms/backoffice/auth';\r\nimport { UMB_WORKSPACE_CONTEXT } from '@umbraco-cms/backoffice/workspace';\r\nimport { umbOpenModal } from '@umbraco-cms/backoffice/modal';\r\nimport { UMB_BLUEPRINT_PICKER_MODAL } from './blueprint-picker-modal.token.js';\r\nimport type { DocumentTypeOption } from './blueprint-picker-modal.token.js';\r\n\r\n@customElement('up-doc-workflow-destination-view')\r\nexport class UpDocWorkflowDestinationViewElement extends UmbLitElement {\r\n\t@state() private _config: DocumentTypeConfig | null = null;\r\n\t@state() private _loading = true;\r\n\t@state() private _error: string | null = null;\r\n\t@state() private _activeTab = '';\r\n\t@state() private _collapsedBlocks = new Set<string>();\r\n\t@state() private _collapsePopoverOpen = false;\r\n\t#workflowAlias: string | null = null;\r\n\r\n\toverride connectedCallback() {\r\n\t\tsuper.connectedCallback();\r\n\t\tthis.consumeContext(UMB_WORKSPACE_CONTEXT, (context) => {\r\n\t\t\tif (!context) return;\r\n\t\t\tthis.observe((context as any).unique, (unique: string | null) => {\r\n\t\t\t\tif (unique) {\r\n\t\t\t\t\tthis.#workflowAlias = decodeURIComponent(unique);\r\n\t\t\t\t\tthis.#loadConfig(this.#workflowAlias);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tasync #loadConfig(workflowAlias: string) {\r\n\t\tthis._loading = true;\r\n\t\tthis._error = null;\r\n\r\n\t\ttry {\r\n\t\t\tconst authContext = await this.getContext(UMB_AUTH_CONTEXT);\r\n\t\t\tconst token = await authContext.getLatestToken();\r\n\t\t\tthis._config = await fetchWorkflowByAlias(workflowAlias, token);\r\n\r\n\t\t\tif (!this._config) {\r\n\t\t\t\tthis._error = `Workflow \"${workflowAlias}\" not found`;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst tabs = this.#getTabs();\r\n\t\t\tif (tabs.length > 0) {\r\n\t\t\t\tthis._activeTab = tabs[0].id;\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tthis._error = err instanceof Error ? err.message : 'Failed to load workflow';\r\n\t\t\tconsole.error('Failed to load workflow config:', err);\r\n\t\t} finally {\r\n\t\t\tthis._loading = false;\r\n\t\t}\r\n\t}\r\n\r\n\t// =========================================================================\r\n\t// Change Document Type / Blueprint\r\n\t// =========================================================================\r\n\r\n\tasync #fetchDocumentTypeOptions(token: string): Promise<{\r\n\t\toptions: DocumentTypeOption[];\r\n\t\taliasMap: Map<string, string>;\r\n\t}> {\r\n\t\tconst docTypesResponse = await fetch('/umbraco/management/api/v1/updoc/document-types', {\r\n\t\t\theaders: { Authorization: `Bearer ${token}` },\r\n\t\t});\r\n\r\n\t\tif (!docTypesResponse.ok) return { options: [], aliasMap: new Map() };\r\n\r\n\t\tconst docTypes: Array<{ alias: string; name: string; icon: string; id: string }> =\r\n\t\t\tawait docTypesResponse.json();\r\n\r\n\t\tconst options: DocumentTypeOption[] = [];\r\n\t\tconst aliasMap = new Map<string, string>();\r\n\r\n\t\tfor (const dt of docTypes) {\r\n\t\t\taliasMap.set(dt.id, dt.alias);\r\n\r\n\t\t\tconst bpResponse = await fetch(\r\n\t\t\t\t`/umbraco/management/api/v1/updoc/document-types/${encodeURIComponent(dt.alias)}/blueprints`,\r\n\t\t\t\t{ headers: { Authorization: `Bearer ${token}` } },\r\n\t\t\t);\r\n\r\n\t\t\tif (!bpResponse.ok) continue;\r\n\r\n\t\t\tconst blueprints: Array<{ id: string; name: string }> = await bpResponse.json();\r\n\t\t\tif (blueprints.length > 0) {\r\n\t\t\t\toptions.push({\r\n\t\t\t\t\tdocumentTypeUnique: dt.id,\r\n\t\t\t\t\tdocumentTypeName: dt.name,\r\n\t\t\t\t\tdocumentTypeIcon: dt.icon ?? null,\r\n\t\t\t\t\tblueprints: blueprints.map((bp) => ({\r\n\t\t\t\t\t\tblueprintUnique: bp.id,\r\n\t\t\t\t\t\tblueprintName: bp.name,\r\n\t\t\t\t\t})),\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn { options, aliasMap };\r\n\t}\r\n\r\n\tasync #handleChangeDocumentType() {\r\n\t\tif (!this.#workflowAlias) return;\r\n\r\n\t\tconst authContext = await this.getContext(UMB_AUTH_CONTEXT);\r\n\t\tconst token = await authContext.getLatestToken();\r\n\r\n\t\tconst { options, aliasMap } = await this.#fetchDocumentTypeOptions(token);\r\n\t\tif (!options.length) return;\r\n\r\n\t\tlet selection;\r\n\t\ttry {\r\n\t\t\tselection = await umbOpenModal(this, UMB_BLUEPRINT_PICKER_MODAL, {\r\n\t\t\t\tdata: { documentTypes: options },\r\n\t\t\t});\r\n\t\t} catch {\r\n\t\t\treturn; // Cancelled\r\n\t\t}\r\n\r\n\t\tconst { blueprintUnique, documentTypeUnique } = selection;\r\n\t\tconst selectedDocType = options.find((dt) => dt.documentTypeUnique === documentTypeUnique);\r\n\t\tconst selectedBlueprint = selectedDocType?.blueprints.find((bp) => bp.blueprintUnique === blueprintUnique);\r\n\t\tconst docTypeAlias = aliasMap.get(documentTypeUnique) ?? '';\r\n\r\n\t\tconst result = await changeWorkflowDestination(\r\n\t\t\tthis.#workflowAlias,\r\n\t\t\tdocTypeAlias,\r\n\t\t\tselectedDocType?.documentTypeName ?? null,\r\n\t\t\tblueprintUnique,\r\n\t\t\tselectedBlueprint?.blueprintName ?? null,\r\n\t\t\ttoken,\r\n\t\t);\r\n\r\n\t\tif (result) {\r\n\t\t\tawait this.#loadConfig(this.#workflowAlias);\r\n\t\t}\r\n\t}\r\n\r\n\tasync #handleChangeBlueprint() {\r\n\t\tif (!this.#workflowAlias || !this._config) return;\r\n\r\n\t\tconst authContext = await this.getContext(UMB_AUTH_CONTEXT);\r\n\t\tconst token = await authContext.getLatestToken();\r\n\r\n\t\tconst dest = this._config.destination;\r\n\t\tconst currentDocTypeAlias = dest.documentTypeAlias;\r\n\r\n\t\t// Fetch doc types to find the current one (need its GUID for preSelectedDocTypeUnique)\r\n\t\tconst { options, aliasMap } = await this.#fetchDocumentTypeOptions(token);\r\n\t\t// Find by alias (aliasMap is GUID → alias, so reverse-lookup)\r\n\t\tconst currentDocTypeUnique = [...aliasMap.entries()].find(([, alias]) => alias === currentDocTypeAlias)?.[0];\r\n\t\tconst currentDocType = options.find((dt) => dt.documentTypeUnique === currentDocTypeUnique);\r\n\r\n\t\tif (!currentDocType) return;\r\n\r\n\t\tlet selection;\r\n\t\ttry {\r\n\t\t\tselection = await umbOpenModal(this, UMB_BLUEPRINT_PICKER_MODAL, {\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tdocumentTypes: [currentDocType],\r\n\t\t\t\t\tpreSelectedDocTypeUnique: currentDocType.documentTypeUnique,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} catch {\r\n\t\t\treturn; // Cancelled\r\n\t\t}\r\n\r\n\t\tconst selectedBlueprint = currentDocType.blueprints.find(\r\n\t\t\t(bp) => bp.blueprintUnique === selection.blueprintUnique,\r\n\t\t);\r\n\r\n\t\tconst result = await changeWorkflowDestination(\r\n\t\t\tthis.#workflowAlias,\r\n\t\t\tcurrentDocTypeAlias,\r\n\t\t\tdest.documentTypeName ?? null,\r\n\t\t\tselection.blueprintUnique,\r\n\t\t\tselectedBlueprint?.blueprintName ?? null,\r\n\t\t\ttoken,\r\n\t\t);\r\n\r\n\t\tif (result) {\r\n\t\t\tawait this.#loadConfig(this.#workflowAlias);\r\n\t\t}\r\n\t}\r\n\r\n\t// =========================================================================\r\n\t// Tabs\r\n\t// =========================================================================\r\n\r\n\t#getTabs() {\r\n\t\tif (!this._config) return [];\r\n\t\treturn getDestinationTabs(this._config.destination);\r\n\t}\r\n\r\n\t// =========================================================================\r\n\t// Mapping badge helpers (reverse-lookup: destination → source)\r\n\t// =========================================================================\r\n\r\n\t/**\r\n\t * Find all source mappings that target a specific destination field/property.\r\n\t * Returns array of { source, mapping } for badge rendering.\r\n\t */\r\n\t#getSourcesForTarget(targetAlias: string, blockKey?: string): Array<{ source: string; mapping: SectionMapping }> {\r\n\t\tif (!this._config?.map?.mappings) return [];\r\n\r\n\t\tconst results: Array<{ source: string; mapping: SectionMapping }> = [];\r\n\t\tfor (const mapping of this._config.map.mappings) {\r\n\t\t\tif (mapping.enabled === false) continue;\r\n\t\t\tfor (const dest of mapping.destinations) {\r\n\t\t\t\tif (dest.target === targetAlias && (blockKey ? dest.blockKey === blockKey : !dest.blockKey)) {\r\n\t\t\t\t\tresults.push({ source: mapping.source, mapping });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn results;\r\n\t}\r\n\r\n\t/**\r\n\t * Convert a source ID like \"tour-title.content\" to a human-readable label \"Tour Title\".\r\n\t * Strips the .content/.title/.heading/.description/.summary suffix, then title-cases.\r\n\t */\r\n\t#formatSourceLabel(sourceId: string): string {\r\n\t\t// Strip the part suffix\r\n\t\tconst parts = sourceId.split('.');\r\n\t\tconst sectionId = parts[0];\r\n\t\tconst partName = parts[1];\r\n\r\n\t\t// Convert kebab-case to Title Case\r\n\t\tconst label = sectionId.replace(/-/g, ' ').replace(/\\b\\w/g, (c) => c.toUpperCase());\r\n\r\n\t\t// If there's a meaningful part name that isn't just \"content\", append it\r\n\t\tif (partName && partName !== 'content') {\r\n\t\t\tconst partLabel = partName.replace(/\\b\\w/g, (c) => c.toUpperCase());\r\n\t\t\treturn `${label} (${partLabel})`;\r\n\t\t}\r\n\r\n\t\treturn label;\r\n\t}\r\n\r\n\t#renderMappingBadges(targetAlias: string, blockKey?: string) {\r\n\t\tconst sources = this.#getSourcesForTarget(targetAlias, blockKey);\r\n\t\tif (sources.length === 0) return nothing;\r\n\r\n\t\treturn sources.map(\r\n\t\t\t({ source }) => html`\r\n\t\t\t\t<uui-tag color=\"positive\" look=\"primary\" class=\"mapped-tag\" title=\"${source}\">\r\n\t\t\t\t\t${this.#formatSourceLabel(source)}\r\n\t\t\t\t\t<button class=\"unmap-x\" title=\"Remove mapping\" @click=${(e: Event) => { e.stopPropagation(); }}>&times;</button>\r\n\t\t\t\t</uui-tag>\r\n\t\t\t`,\r\n\t\t);\r\n\t}\r\n\r\n\t#hasAnyMapping(targetAlias: string, blockKey?: string): boolean {\r\n\t\treturn this.#getSourcesForTarget(targetAlias, blockKey).length > 0;\r\n\t}\r\n\r\n\t/**\r\n\t * Collect all mapping badges for all properties of a block (for collapsed header display).\r\n\t */\r\n\t#renderBlockHeaderBadges(block: DestinationBlock) {\r\n\t\tif (!block.properties?.length) return nothing;\r\n\t\tconst badges: ReturnType<typeof html>[] = [];\r\n\t\tfor (const prop of block.properties) {\r\n\t\t\tconst sources = this.#getSourcesForTarget(prop.alias, block.key);\r\n\t\t\tfor (const { source } of sources) {\r\n\t\t\t\tbadges.push(html`\r\n\t\t\t\t\t<uui-tag color=\"positive\" look=\"primary\" class=\"mapped-tag\" title=\"${source}\">\r\n\t\t\t\t\t\t${this.#formatSourceLabel(source)}\r\n\t\t\t\t\t\t<button class=\"unmap-x\" title=\"Remove mapping\" @click=${(e: Event) => { e.stopPropagation(); }}>&times;</button>\r\n\t\t\t\t\t</uui-tag>\r\n\t\t\t\t`);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn badges.length > 0 ? badges : nothing;\r\n\t}\r\n\r\n\t// =========================================================================\r\n\t// Collapse\r\n\t// =========================================================================\r\n\r\n\t#toggleBlockCollapse(blockKey: string) {\r\n\t\tconst updated = new Set(this._collapsedBlocks);\r\n\t\tif (updated.has(blockKey)) {\r\n\t\t\tupdated.delete(blockKey);\r\n\t\t} else {\r\n\t\t\tupdated.add(blockKey);\r\n\t\t}\r\n\t\tthis._collapsedBlocks = updated;\r\n\t}\r\n\r\n\t#isBlockCollapsed(blockKey: string): boolean {\r\n\t\treturn this._collapsedBlocks.has(blockKey);\r\n\t}\r\n\r\n\t#collapseAllBlocks() {\r\n\t\tif (!this._config) return;\r\n\t\tconst allKeys = new Set<string>();\r\n\t\tfor (const container of getAllBlockContainers(this._config.destination)) {\r\n\t\t\tconst cTab = container.tab ?? 'Page Content';\r\n\t\t\tif (cTab.toLowerCase().replace(/\\s+/g, '-') === this._activeTab) {\r\n\t\t\t\tfor (const block of container.blocks) {\r\n\t\t\t\t\tallKeys.add(block.key);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis._collapsedBlocks = allKeys;\r\n\t}\r\n\r\n\t#expandAllBlocks() {\r\n\t\tthis._collapsedBlocks = new Set<string>();\r\n\t}\r\n\r\n\t#onCollapsePopoverToggle(event: ToggleEvent) {\r\n\t\tthis._collapsePopoverOpen = event.newState === 'open';\r\n\t}\r\n\r\n\t#activeTabHasBlocks(): boolean {\r\n\t\tif (!this._config) return false;\r\n\t\treturn getAllBlockContainers(this._config.destination).some((c) => {\r\n\t\t\tconst cTab = c.tab ?? 'Page Content';\r\n\t\t\treturn cTab.toLowerCase().replace(/\\s+/g, '-') === this._activeTab;\r\n\t\t});\r\n\t}\r\n\r\n\t// =========================================================================\r\n\t// Field rendering (part-box pattern)\r\n\t// =========================================================================\r\n\r\n\t#renderFieldsForTab(tabName: string) {\r\n\t\tif (!this._config) return nothing;\r\n\r\n\t\tconst fields = this._config.destination.fields.filter((f) => f.tab === tabName);\r\n\t\tif (fields.length === 0) return html`<p class=\"empty-message\">No fields in this tab.</p>`;\r\n\r\n\t\treturn html`\r\n\t\t\t${fields.map((field) => this.#renderField(field))}\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderField(field: DestinationField) {\r\n\t\tconst isMapped = this.#hasAnyMapping(field.alias);\r\n\r\n\t\treturn html`\r\n\t\t\t<div class=\"part-box ${isMapped ? '' : 'unmapped'}\">\r\n\t\t\t\t<div class=\"part-box-row\">\r\n\t\t\t\t\t<div class=\"part-box-info\">\r\n\t\t\t\t\t\t<div class=\"part-box-field-name\">${field.label}</div>\r\n\t\t\t\t\t\t<div class=\"part-box-field-meta\">\r\n\t\t\t\t\t\t\t<span class=\"field-alias\">${field.alias}</span>\r\n\t\t\t\t\t\t\t<span class=\"field-type-badge\">${field.type}</span>\r\n\t\t\t\t\t\t\t${field.mandatory ? html`<uui-tag look=\"primary\" color=\"danger\" class=\"required-badge\">Required</uui-tag>` : nothing}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"part-box-actions\">\r\n\t\t\t\t\t\t${this.#renderMappingBadges(field.alias)}\r\n\t\t\t\t\t\t<uui-button class=\"md-map-btn\" look=\"outline\" compact label=\"Map\">Map</uui-button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t// =========================================================================\r\n\t// Block rendering (section-box + part-box pattern)\r\n\t// =========================================================================\r\n\r\n\t#renderBlockContainersForTab(tabId: string) {\r\n\t\tif (!this._config) return nothing;\r\n\r\n\t\tconst containers = getAllBlockContainers(this._config.destination).filter((c) => {\r\n\t\t\tconst cTab = c.tab ?? 'Page Content';\r\n\t\t\treturn cTab.toLowerCase().replace(/\\s+/g, '-') === tabId;\r\n\t\t});\r\n\r\n\t\tif (!containers.length) {\r\n\t\t\treturn html`<p class=\"empty-message\">No blocks configured.</p>`;\r\n\t\t}\r\n\r\n\t\treturn html`\r\n\t\t\t${containers.map((container) => this.#renderBlockContainer(container))}\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderBlockContainer(container: DestinationBlockGrid) {\r\n\t\tconst isGrid = (this._config?.destination.blockGrids ?? []).some((g) => g.key === container.key);\r\n\t\tconst icon = isGrid ? 'icon-grid' : 'icon-thumbnail-list';\r\n\r\n\t\treturn html`\r\n\t\t\t<div class=\"section-box container-box\">\r\n\t\t\t\t<div class=\"section-box-header container-header\">\r\n\t\t\t\t\t<uui-icon name=\"${icon}\" class=\"level-icon\"></uui-icon>\r\n\t\t\t\t\t<span class=\"section-box-label\">${container.label}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"section-box-content\">\r\n\t\t\t\t\t${container.blocks.map((block) => this.#renderBlock(block))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderBlock(block: DestinationBlock) {\r\n\t\tconst isCollapsed = this.#isBlockCollapsed(block.key);\r\n\r\n\t\treturn html`\r\n\t\t\t<div class=\"section-box\">\r\n\t\t\t\t<div class=\"section-box-header\" @click=${() => this.#toggleBlockCollapse(block.key)}>\r\n\t\t\t\t\t<uui-icon class=\"collapse-chevron\" name=\"${isCollapsed ? 'icon-navigation-right' : 'icon-navigation-down'}\"></uui-icon>\r\n\t\t\t\t\t<uui-icon name=\"icon-box\" class=\"level-icon\"></uui-icon>\r\n\t\t\t\t\t<span class=\"section-box-label\">${block.label}</span>\r\n\t\t\t\t\t${block.identifyBy\r\n\t\t\t\t\t\t? html`<span class=\"block-identify\">identified by: \"${block.identifyBy.value}\"</span>`\r\n\t\t\t\t\t\t: nothing}\r\n\t\t\t\t\t<span class=\"header-spacer\"></span>\r\n\t\t\t\t\t${isCollapsed ? this.#renderBlockHeaderBadges(block) : nothing}\r\n\t\t\t\t</div>\r\n\t\t\t\t${!isCollapsed && block.properties?.length\r\n\t\t\t\t\t? html`\r\n\t\t\t\t\t\t<div class=\"section-box-content\">\r\n\t\t\t\t\t\t\t${block.properties.map((prop) => this.#renderBlockProperty(prop, block.key))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t`\r\n\t\t\t\t\t: nothing}\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderBlockProperty(prop: BlockProperty, blockKey: string) {\r\n\t\tconst isMapped = this.#hasAnyMapping(prop.alias, blockKey);\r\n\r\n\t\treturn html`\r\n\t\t\t<div class=\"part-box ${isMapped ? '' : 'unmapped'}\">\r\n\t\t\t\t<div class=\"part-box-row\">\r\n\t\t\t\t\t<span class=\"part-box-label\">${prop.label || prop.alias}</span>\r\n\t\t\t\t\t<div class=\"part-box-info\">\r\n\t\t\t\t\t\t<div class=\"part-box-field-meta\">\r\n\t\t\t\t\t\t\t<span class=\"field-alias\">${prop.alias}</span>\r\n\t\t\t\t\t\t\t<span class=\"field-type-badge\">${prop.type}</span>\r\n\t\t\t\t\t\t\t${prop.acceptsFormats?.length\r\n\t\t\t\t\t\t\t\t? html`<span class=\"accepts-formats\">${prop.acceptsFormats.join(', ')}</span>`\r\n\t\t\t\t\t\t\t\t: nothing}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"part-box-actions\">\r\n\t\t\t\t\t\t${this.#renderMappingBadges(prop.alias, blockKey)}\r\n\t\t\t\t\t\t<uui-button class=\"md-map-btn\" look=\"outline\" compact label=\"Map\">Map</uui-button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t// =========================================================================\r\n\t// Info Boxes\r\n\t// =========================================================================\r\n\r\n\t#getFieldsCount(): number {\r\n\t\tif (!this._config) return 0;\r\n\t\treturn this._config.destination.fields.length;\r\n\t}\r\n\r\n\t#getBlocksCount(): number {\r\n\t\tif (!this._config) return 0;\r\n\t\treturn getAllBlockContainers(this._config.destination)\r\n\t\t\t.reduce((sum, container) => sum + container.blocks.length, 0);\r\n\t}\r\n\r\n\t#renderInfoBoxes() {\r\n\t\tif (!this._config) return nothing;\r\n\t\tconst dest = this._config.destination;\r\n\r\n\t\treturn html`\r\n\t\t\t<div class=\"info-boxes\">\r\n\t\t\t\t<uui-box headline=\"Document Type\" class=\"info-box-item\">\r\n\t\t\t\t\t<div class=\"box-content\">\r\n\t\t\t\t\t\t<uui-icon name=\"icon-document-dashed-line\" class=\"box-icon\"></uui-icon>\r\n\t\t\t\t\t\t<span class=\"box-stat box-filename\" title=\"${dest.documentTypeName ?? dest.documentTypeAlias}\">${dest.documentTypeName ?? dest.documentTypeAlias}</span>\r\n\t\t\t\t\t\t<span class=\"box-sub\">${dest.documentTypeAlias}</span>\r\n\t\t\t\t\t\t<div class=\"box-buttons\">\r\n\t\t\t\t\t\t\t<uui-button look=\"primary\" color=\"default\" label=\"Change\" @click=${this.#handleChangeDocumentType}>\r\n\t\t\t\t\t\t\t\t<uui-icon name=\"icon-document-dashed-line\"></uui-icon> Change\r\n\t\t\t\t\t\t\t</uui-button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</uui-box>\r\n\r\n\t\t\t\t<uui-box headline=\"Blueprint\" class=\"info-box-item\">\r\n\t\t\t\t\t<div class=\"box-content\">\r\n\t\t\t\t\t\t<uui-icon name=\"icon-blueprint\" class=\"box-icon\"></uui-icon>\r\n\t\t\t\t\t\t<span class=\"box-stat box-filename\" title=\"${dest.blueprintName ?? '—'}\">${dest.blueprintName ?? '—'}</span>\r\n\t\t\t\t\t\t<div class=\"box-buttons\">\r\n\t\t\t\t\t\t\t<uui-button look=\"primary\" color=\"default\" label=\"Change\" @click=${this.#handleChangeBlueprint}>\r\n\t\t\t\t\t\t\t\t<uui-icon name=\"icon-blueprint\"></uui-icon> Change\r\n\t\t\t\t\t\t\t</uui-button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</uui-box>\r\n\r\n\t\t\t\t<uui-box headline=\"Fields\" class=\"info-box-item\">\r\n\t\t\t\t\t<div class=\"box-content\">\r\n\t\t\t\t\t\t<uui-icon name=\"icon-layers\" class=\"box-icon\"></uui-icon>\r\n\t\t\t\t\t\t<span class=\"box-stat\">${this.#getFieldsCount()}</span>\r\n\t\t\t\t\t\t<span class=\"box-sub\">text-mappable</span>\r\n\t\t\t\t\t\t<div class=\"box-buttons\">\r\n\t\t\t\t\t\t\t<uui-button look=\"primary\" color=\"default\" label=\"Regenerate\" disabled title=\"Coming soon\">\r\n\t\t\t\t\t\t\t\t<uui-icon name=\"icon-layers\"></uui-icon> Regenerate\r\n\t\t\t\t\t\t\t</uui-button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</uui-box>\r\n\r\n\t\t\t\t<uui-box headline=\"Blocks\" class=\"info-box-item\">\r\n\t\t\t\t\t<div class=\"box-content\">\r\n\t\t\t\t\t\t<uui-icon name=\"icon-box\" class=\"box-icon\"></uui-icon>\r\n\t\t\t\t\t\t<span class=\"box-stat\">${this.#getBlocksCount()}</span>\r\n\t\t\t\t\t\t<span class=\"box-sub\">in blueprint</span>\r\n\t\t\t\t\t\t<div class=\"box-buttons\">\r\n\t\t\t\t\t\t\t<uui-button look=\"primary\" color=\"default\" label=\"Regenerate\" disabled title=\"Coming soon\">\r\n\t\t\t\t\t\t\t\t<uui-icon name=\"icon-box\"></uui-icon> Regenerate\r\n\t\t\t\t\t\t\t</uui-button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</uui-box>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t// =========================================================================\r\n\t// Tab content + collapse row\r\n\t// =========================================================================\r\n\r\n\t#renderCollapseRow() {\r\n\t\tif (!this.#activeTabHasBlocks()) return nothing;\r\n\t\treturn html`\r\n\t\t\t<div class=\"collapse-row\">\r\n\t\t\t\t<uui-button\r\n\t\t\t\t\tlook=\"outline\"\r\n\t\t\t\t\tcompact\r\n\t\t\t\t\tlabel=\"Collapse\"\r\n\t\t\t\t\tpopovertarget=\"dest-collapse-popover\">\r\n\t\t\t\t\tCollapse\r\n\t\t\t\t\t<uui-symbol-expand .open=${this._collapsePopoverOpen}></uui-symbol-expand>\r\n\t\t\t\t</uui-button>\r\n\t\t\t\t<uui-popover-container\r\n\t\t\t\t\tid=\"dest-collapse-popover\"\r\n\t\t\t\t\tplacement=\"bottom-start\"\r\n\t\t\t\t\t@toggle=${this.#onCollapsePopoverToggle}>\r\n\t\t\t\t\t<umb-popover-layout>\r\n\t\t\t\t\t\t<uui-menu-item\r\n\t\t\t\t\t\t\tlabel=\"Expand All\"\r\n\t\t\t\t\t\t\t@click=${() => this.#expandAllBlocks()}>\r\n\t\t\t\t\t\t\t<uui-icon slot=\"icon\" name=\"icon-navigation-down\"></uui-icon>\r\n\t\t\t\t\t\t</uui-menu-item>\r\n\t\t\t\t\t\t<uui-menu-item\r\n\t\t\t\t\t\t\tlabel=\"Collapse All\"\r\n\t\t\t\t\t\t\t@click=${() => this.#collapseAllBlocks()}>\r\n\t\t\t\t\t\t\t<uui-icon slot=\"icon\" name=\"icon-navigation-right\"></uui-icon>\r\n\t\t\t\t\t\t</uui-menu-item>\r\n\t\t\t\t\t</umb-popover-layout>\r\n\t\t\t\t</uui-popover-container>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderTabContent() {\r\n\t\tif (!this._config) return nothing;\r\n\r\n\t\tconst tabName = this._config.destination.fields.find(\r\n\t\t\t(f) => f.tab && f.tab.toLowerCase().replace(/\\s+/g, '-') === this._activeTab\r\n\t\t)?.tab;\r\n\r\n\t\tconst hasContainers = getAllBlockContainers(this._config.destination).some((c) => {\r\n\t\t\tconst cTab = c.tab ?? 'Page Content';\r\n\t\t\treturn cTab.toLowerCase().replace(/\\s+/g, '-') === this._activeTab;\r\n\t\t});\r\n\r\n\t\treturn html`\r\n\t\t\t${tabName ? this.#renderFieldsForTab(tabName) : nothing}\r\n\t\t\t${hasContainers ? this.#renderBlockContainersForTab(this._activeTab) : nothing}\r\n\t\t`;\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (this._loading) {\r\n\t\t\treturn html`<div class=\"loading\"><uui-loader-bar></uui-loader-bar></div>`;\r\n\t\t}\r\n\r\n\t\tif (this._error) {\r\n\t\t\treturn html`<p style=\"color: var(--uui-color-danger);\">${this._error}</p>`;\r\n\t\t}\r\n\r\n\t\tconst tabs = this.#getTabs();\r\n\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout header-fit-height>\r\n\t\t\t\t<uui-tab-group slot=\"header\" dropdown-content-direction=\"vertical\">\r\n\t\t\t\t\t${tabs.map(\r\n\t\t\t\t\t\t(tab) => html`\r\n\t\t\t\t\t\t\t<uui-tab\r\n\t\t\t\t\t\t\t\tlabel=${tab.label}\r\n\t\t\t\t\t\t\t\t?active=${this._activeTab === tab.id}\r\n\t\t\t\t\t\t\t\t@click=${() => { this._activeTab = tab.id; }}>\r\n\t\t\t\t\t\t\t\t${tab.label}\r\n\t\t\t\t\t\t\t</uui-tab>\r\n\t\t\t\t\t\t`\r\n\t\t\t\t\t)}\r\n\t\t\t\t</uui-tab-group>\r\n\t\t\t\t${this.#renderInfoBoxes()}\r\n\t\t\t\t${this.#renderCollapseRow()}\r\n\t\t\t\t<uui-box class=\"page-box\">\r\n\t\t\t\t\t${this.#renderTabContent()}\r\n\t\t\t\t</uui-box>\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\t--uui-tab-background: var(--uui-color-surface);\r\n\t\t\t}\r\n\r\n\t\t\t.loading {\r\n\t\t\t\tpadding: var(--uui-size-layout-1);\r\n\t\t\t}\r\n\r\n\t\t\t.empty-message {\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tfont-style: italic;\r\n\t\t\t\tpadding: var(--uui-size-space-4);\r\n\t\t\t}\r\n\r\n\t\t\t/* Page box (matching Source tab) */\r\n\t\t\t.page-box {\r\n\t\t\t\tmargin: var(--uui-size-space-4);\r\n\t\t\t}\r\n\r\n\t\t\t/* Collapse row */\r\n\t\t\t.collapse-row {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: flex-end;\r\n\t\t\t\tpadding: var(--uui-size-space-2) var(--uui-size-space-4);\r\n\t\t\t}\r\n\r\n\t\t\t/* Section box (collapsible block group — matches Source tab) */\r\n\t\t\t.section-box {\r\n\t\t\t\tborder: 1px solid var(--uui-color-border);\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t\tmargin: var(--uui-size-space-3) 0;\r\n\t\t\t}\r\n\r\n\t\t\t.section-box:first-child {\r\n\t\t\t\tmargin-top: 0;\r\n\t\t\t}\r\n\r\n\t\t\t/* Outermost container box (Block Grid / Block List wrapper) */\r\n\t\t\t.container-header {\r\n\t\t\t\tcursor: default;\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-border);\r\n\t\t\t}\r\n\r\n\t\t\t.container-header:hover {\r\n\t\t\t\tbackground: transparent;\r\n\t\t\t}\r\n\r\n\t\t\t.container-box > .section-box-content > .section-box:first-child {\r\n\t\t\t\tmargin-top: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.section-box-header {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t\tpadding: var(--uui-size-space-3) var(--uui-size-space-4);\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t}\r\n\r\n\t\t\t.section-box-header:hover {\r\n\t\t\t\tbackground: var(--uui-color-surface-emphasis);\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t}\r\n\r\n\t\t\t.section-box-header:hover .collapse-chevron {\r\n\t\t\t\tcolor: var(--uui-color-text);\r\n\t\t\t}\r\n\r\n\t\t\t.collapse-chevron {\r\n\t\t\t\tfont-size: 12px;\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t}\r\n\r\n\t\t\t.level-icon {\r\n\t\t\t\tfont-size: 14px;\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t}\r\n\r\n\t\t\t.section-box-label {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tcolor: var(--uui-color-text);\r\n\t\t\t\tflex-shrink: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.header-spacer {\r\n\t\t\t\tflex: 1;\r\n\t\t\t}\r\n\r\n\t\t\t.section-box-content {\r\n\t\t\t\tpadding: 0 var(--uui-size-space-4) var(--uui-size-space-4);\r\n\t\t\t}\r\n\r\n\t\t\t/* Part box (individual field/property row — matches Source tab) */\r\n\t\t\t.part-box {\r\n\t\t\t\tborder: 1px solid var(--uui-color-border);\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t\tmargin-bottom: var(--uui-size-space-3);\r\n\t\t\t}\r\n\r\n\t\t\t.part-box:last-child {\r\n\t\t\t\tmargin-bottom: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.part-box.unmapped {\r\n\t\t\t\tborder-style: dashed;\r\n\t\t\t}\r\n\r\n\t\t\t.part-box-row {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: flex-start;\r\n\t\t\t\tgap: var(--uui-size-space-3);\r\n\t\t\t\tpadding: var(--uui-size-space-3) var(--uui-size-space-4);\r\n\t\t\t}\r\n\r\n\t\t\t.part-box-label {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tmin-width: 80px;\r\n\t\t\t\tflex-shrink: 0;\r\n\t\t\t\tpadding-top: 2px;\r\n\t\t\t}\r\n\r\n\t\t\t.part-box-info {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tmin-width: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.part-box-field-name {\r\n\t\t\t\tfont-size: var(--uui-type-default-size);\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tcolor: var(--uui-color-text);\r\n\t\t\t}\r\n\r\n\t\t\t.part-box-field-meta {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tmargin-top: 3px;\r\n\t\t\t}\r\n\r\n\t\t\t.field-alias {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tfont-family: monospace;\r\n\t\t\t}\r\n\r\n\t\t\t.field-type-badge {\r\n\t\t\t\tfont-size: 11px;\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tbackground: var(--uui-color-surface-alt);\r\n\t\t\t\tpadding: 1px 6px;\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t}\r\n\r\n\t\t\t.required-badge {\r\n\t\t\t\tfont-size: 11px;\r\n\t\t\t}\r\n\r\n\t\t\t.part-box-actions {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t\tflex-shrink: 0;\r\n\t\t\t\tpadding-top: 2px;\r\n\t\t\t}\r\n\r\n\t\t\t.block-identify {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tfont-style: italic;\r\n\t\t\t}\r\n\r\n\t\t\t.accepts-formats {\r\n\t\t\t\tfont-size: 11px;\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t}\r\n\r\n\t\t\t/* Mapping badges (matches Source tab) */\r\n\t\t\t.mapped-tag {\r\n\t\t\t\tfont-size: 12px;\r\n\t\t\t}\r\n\r\n\t\t\t.unmap-x {\r\n\t\t\t\tall: unset;\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\tfont-size: 14px;\r\n\t\t\t\tline-height: 1;\r\n\t\t\t\tpadding: 0 2px;\r\n\t\t\t\tmargin-left: 4px;\r\n\t\t\t\topacity: 0.7;\r\n\t\t\t\tfont-weight: 700;\r\n\t\t\t}\r\n\r\n\t\t\t.unmap-x:hover {\r\n\t\t\t\topacity: 1;\r\n\t\t\t}\r\n\r\n\t\t\t/* Map button — visible on hover (matches Source tab) */\r\n\t\t\t.md-map-btn {\r\n\t\t\t\topacity: 0;\r\n\t\t\t\ttransition: opacity 0.15s;\r\n\t\t\t}\r\n\r\n\t\t\t.part-box:hover .md-map-btn {\r\n\t\t\t\topacity: 1;\r\n\t\t\t}\r\n\r\n\t\t\t/* Info boxes row (matching Source tab pattern) */\r\n\t\t\t.info-boxes {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tgap: var(--uui-size-space-4);\r\n\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\tpadding: var(--uui-size-space-4);\r\n\t\t\t}\r\n\r\n\t\t\t.info-box-item {\r\n\t\t\t\tflex: 1;\r\n\t\t\t}\r\n\r\n\t\t\t.box-content {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t\tmin-height: 180px;\r\n\t\t\t}\r\n\r\n\t\t\t.box-buttons {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t\tmargin-top: auto;\r\n\t\t\t\tpadding-top: var(--uui-size-space-2);\r\n\t\t\t}\r\n\r\n\t\t\t.box-icon {\r\n\t\t\t\tfont-size: 48px;\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tmargin-top: var(--uui-size-space-3);\r\n\t\t\t}\r\n\r\n\t\t\t.box-stat {\r\n\t\t\t\tfont-size: var(--uui-type-h4-size);\r\n\t\t\t\tfont-weight: 700;\r\n\t\t\t\tcolor: var(--uui-color-text);\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t}\r\n\r\n\t\t\t.box-filename {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tfont-size: var(--uui-type-default-size) !important;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\tmax-width: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t.box-sub {\r\n\t\t\t\tfont-size: 11px;\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UpDocWorkflowDestinationViewElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'up-doc-workflow-destination-view': UpDocWorkflowDestinationViewElement;\r\n\t}\r\n}\r\n"],"names":["_workflowAlias","_UpDocWorkflowDestinationViewElement_instances","loadConfig_fn","fetchDocumentTypeOptions_fn","handleChangeDocumentType_fn","handleChangeBlueprint_fn","getTabs_fn","getSourcesForTarget_fn","formatSourceLabel_fn","renderMappingBadges_fn","hasAnyMapping_fn","renderBlockHeaderBadges_fn","toggleBlockCollapse_fn","isBlockCollapsed_fn","collapseAllBlocks_fn","expandAllBlocks_fn","onCollapsePopoverToggle_fn","activeTabHasBlocks_fn","renderFieldsForTab_fn","renderField_fn","renderBlockContainersForTab_fn","renderBlockContainer_fn","renderBlock_fn","renderBlockProperty_fn","getFieldsCount_fn","getBlocksCount_fn","renderInfoBoxes_fn","renderCollapseRow_fn","renderTabContent_fn","UpDocWorkflowDestinationViewElement","UmbLitElement","__privateAdd","UMB_WORKSPACE_CONTEXT","context","unique","__privateSet","__privateMethod","__privateGet","html","tabs","tab","workflowAlias","token","UMB_AUTH_CONTEXT","fetchWorkflowByAlias","err","docTypesResponse","docTypes","options","aliasMap","dt","bpResponse","blueprints","bp","selection","umbOpenModal","UMB_BLUEPRINT_PICKER_MODAL","blueprintUnique","documentTypeUnique","selectedDocType","selectedBlueprint","docTypeAlias","changeWorkflowDestination","dest","currentDocTypeAlias","currentDocTypeUnique","alias","currentDocType","getDestinationTabs","targetAlias","blockKey","results","mapping","sourceId","parts","sectionId","partName","label","c","partLabel","sources","nothing","source","e","block","badges","prop","updated","allKeys","container","getAllBlockContainers","event","tabName","fields","f","field","isMapped","tabId","containers","icon","g","isCollapsed","sum","hasContainers","UmbTextStyles","css","__decorateClass","state","customElement","UpDocWorkflowDestinationViewElement_default"],"mappings":"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"}
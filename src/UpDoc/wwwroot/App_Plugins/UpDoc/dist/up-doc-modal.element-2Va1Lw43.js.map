{"version":3,"file":"up-doc-modal.element-2Va1Lw43.js","sources":["../src/up-doc-modal.element.ts"],"sourcesContent":["import type { UmbUpDocModalData, UmbUpDocModalValue, SourceType } from './up-doc-modal.token.js';\r\nimport { allTransformSections, type DocumentTypeConfig } from './workflow.types.js';\r\nimport { fetchConfig, transformAdhoc } from './workflow.service.js';\r\nimport { getDestinationTabs, resolveDestinationTab, resolveBlockLabel } from './destination-utils.js';\r\nimport { stripMarkdown } from './transforms.js';\r\nimport { html, customElement, css, state, nothing } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { UmbModalBaseElement } from '@umbraco-cms/backoffice/modal';\r\nimport type { UUIInputEvent } from '@umbraco-cms/backoffice/external/uui';\r\nimport type { UmbInputMediaElement } from '@umbraco-cms/backoffice/media';\r\nimport { UMB_AUTH_CONTEXT } from '@umbraco-cms/backoffice/auth';\r\n\r\n// Human-readable labels for source type keys\r\nconst SOURCE_TYPE_LABELS: Record<string, string> = {\r\n\tpdf: 'PDF Document',\r\n\tmarkdown: 'Markdown',\r\n\tweb: 'Web Page',\r\n\tdoc: 'Word Document',\r\n};\r\n\r\ntype TabType = 'source' | 'content' | 'destination';\r\n\r\n@customElement('up-doc-modal')\r\nexport class UpDocModalElement extends UmbModalBaseElement<\r\n\tUmbUpDocModalData,\r\n\tUmbUpDocModalValue\r\n> {\r\n\t@state()\r\n\tprivate _activeTab: TabType = 'source';\r\n\r\n\t@state()\r\n\tprivate _documentName = '';\r\n\r\n\t@state()\r\n\tprivate _sourceType: SourceType | '' = '';\r\n\r\n\t@state()\r\n\tprivate _sourceUrl = '';\r\n\r\n\t@state()\r\n\tprivate _selectedMediaUnique: string | null = null;\r\n\r\n\t@state()\r\n\tprivate _sectionLookup: Record<string, string> = {};\r\n\r\n\t@state()\r\n\tprivate _config: DocumentTypeConfig | null = null;\r\n\r\n\t@state()\r\n\tprivate _isExtracting = false;\r\n\r\n\t@state()\r\n\tprivate _extractionError: string | null = null;\r\n\r\n\t@state()\r\n\tprivate _contentActiveTab = '';\r\n\r\n\t@state()\r\n\tprivate _availableSourceTypes: string[] = [];\r\n\r\n\t@state()\r\n\tprivate _loadingSourceTypes = true;\r\n\r\n\toverride firstUpdated() {\r\n\t\tthis._documentName = '';\r\n\t\tthis._sourceType = '';\r\n\t\tthis._sourceUrl = '';\r\n\t\tthis._selectedMediaUnique = null;\r\n\t\tthis._sectionLookup = {};\r\n\t\tthis._config = null;\r\n\t\tthis._contentActiveTab = '';\r\n\t\tthis.#loadAvailableSourceTypes();\r\n\t}\r\n\r\n\tasync #loadAvailableSourceTypes() {\r\n\t\tthis._loadingSourceTypes = true;\r\n\t\ttry {\r\n\t\t\tconst blueprintId = this.data?.blueprintId;\r\n\t\t\tif (!blueprintId) return;\r\n\r\n\t\t\tconst authContext = await this.getContext(UMB_AUTH_CONTEXT);\r\n\t\t\tconst token = await authContext.getLatestToken();\r\n\t\t\tconst config = await fetchConfig(blueprintId, token);\r\n\r\n\t\t\tif (config) {\r\n\t\t\t\tthis._config = config;\r\n\r\n\t\t\t\tif (config.sources) {\r\n\t\t\t\t\tthis._availableSourceTypes = Object.keys(config.sources);\r\n\r\n\t\t\t\t\t// Auto-select if only one source type is available\r\n\t\t\t\t\tif (this._availableSourceTypes.length === 1) {\r\n\t\t\t\t\t\tthis._sourceType = this._availableSourceTypes[0] as SourceType;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Failed to load available source types:', err);\r\n\t\t} finally {\r\n\t\t\tthis._loadingSourceTypes = false;\r\n\t\t}\r\n\t}\r\n\r\n\t#handleSourceTypeChange(e: Event) {\r\n\t\tconst target = e.target as Element & { value: string };\r\n\t\tconst newSourceType = target.value as SourceType | '';\r\n\r\n\t\tif (newSourceType !== this._sourceType) {\r\n\t\t\tthis._selectedMediaUnique = null;\r\n\t\t\tthis._sourceUrl = '';\r\n\t\t\tthis._sectionLookup = {};\r\n\t\t\tthis._extractionError = null;\r\n\t\t\tthis._contentActiveTab = '';\r\n\t\t}\r\n\r\n\t\tthis._sourceType = newSourceType;\r\n\t}\r\n\r\n\tasync #handleMediaChange(e: CustomEvent) {\r\n\t\tconst target = e.target as UmbInputMediaElement;\r\n\t\tconst selection = target.selection;\r\n\t\tthis._selectedMediaUnique = selection.length > 0 ? selection[0] : null;\r\n\r\n\t\tif (this._selectedMediaUnique) {\r\n\t\t\tawait this.#extractFromSource(this._selectedMediaUnique);\r\n\t\t} else {\r\n\t\t\tthis._sectionLookup = {};\r\n\t\t\tthis._documentName = '';\r\n\t\t\tthis._extractionError = null;\r\n\t\t}\r\n\t}\r\n\r\n\tasync #extractFromSource(mediaUnique: string) {\r\n\t\tthis._isExtracting = true;\r\n\t\tthis._extractionError = null;\r\n\r\n\t\ttry {\r\n\t\t\tconst authContext = await this.getContext(UMB_AUTH_CONTEXT);\r\n\t\t\tconst token = await authContext.getLatestToken();\r\n\r\n\t\t\tif (!this._config?.folderPath) {\r\n\t\t\t\tthis._extractionError = 'No workflow configured for this blueprint';\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst workflowName = this._config.folderPath.replace(/\\\\/g, '/').split('/').pop() ?? '';\r\n\t\t\tif (!workflowName) {\r\n\t\t\t\tthis._extractionError = 'Could not determine workflow name';\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Run area-aware transform — produces section IDs matching map.json\r\n\t\t\tconst transformResult = await transformAdhoc(workflowName, mediaUnique, token);\r\n\r\n\t\t\tconst allSections = allTransformSections(transformResult);\r\n\t\t\tif (!allSections.length) {\r\n\t\t\t\tthis._extractionError = 'Failed to extract content from source';\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Build section ID → text lookup (e.g., \"features.heading\", \"features.content\")\r\n\t\t\tconst sectionLookup: Record<string, string> = {};\r\n\t\t\tfor (const section of allSections) {\r\n\t\t\t\tif (!section.included) continue;\r\n\t\t\t\tif (section.heading) {\r\n\t\t\t\t\t// For role sections, heading is just a label (e.g., \"Tour Title\"), not document text.\r\n\t\t\t\t\t// Map .heading to the content so existing mappings resolve to actual text.\r\n\t\t\t\t\tsectionLookup[`${section.id}.heading`] =\r\n\t\t\t\t\t\tsection.pattern === 'role' ? section.content : section.heading;\r\n\t\t\t\t\t// .title is the new canonical key for heading text (backward compat: .heading still works)\r\n\t\t\t\t\tsectionLookup[`${section.id}.title`] =\r\n\t\t\t\t\t\tsection.pattern === 'role' ? section.content : section.heading;\r\n\t\t\t\t}\r\n\t\t\t\tsectionLookup[`${section.id}.content`] = section.content;\r\n\t\t\t\t// Add description and summary parts if present\r\n\t\t\t\tif (section.description) {\r\n\t\t\t\t\tsectionLookup[`${section.id}.description`] = section.description;\r\n\t\t\t\t}\r\n\t\t\t\tif (section.summary) {\r\n\t\t\t\t\tsectionLookup[`${section.id}.summary`] = section.summary;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis._sectionLookup = sectionLookup;\r\n\r\n\t\t\t// Pre-fill document name from mapped title sections\r\n\t\t\tif (!this._documentName && this._config) {\r\n\t\t\t\tthis.#prefillDocumentName(sectionLookup);\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tthis._extractionError = 'Failed to connect to extraction service';\r\n\t\t\tconsole.error('Extraction error:', error);\r\n\t\t} finally {\r\n\t\t\tthis._isExtracting = false;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Pre-fills the document name by finding elements mapped to a top-level field\r\n\t * (no blockKey — i.e., a document property like pageTitle, not a block property).\r\n\t * Concatenates multiple elements with a space (e.g., title split across two lines).\r\n\t * Falls back to the first section heading if mapping-based resolution fails\r\n\t * (e.g., section IDs differ across source documents).\r\n\t */\r\n\t#prefillDocumentName(elementLookup: Record<string, string>) {\r\n\t\t// Try mapping-based name resolution first\r\n\t\tif (this._config?.map?.mappings?.length) {\r\n\t\t\t// Find the first mapping that targets a top-level field (no blockKey)\r\n\t\t\tlet titleTarget: string | null = null;\r\n\t\t\tfor (const mapping of this._config.map.mappings) {\r\n\t\t\t\tif (mapping.enabled === false) continue;\r\n\t\t\t\tconst topLevelDest = mapping.destinations.find((d) => !d.blockKey);\r\n\t\t\t\tif (topLevelDest) {\r\n\t\t\t\t\ttitleTarget = topLevelDest.target;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (titleTarget) {\r\n\t\t\t\t// Collect text from all elements mapped to this top-level target\r\n\t\t\t\tconst parts: string[] = [];\r\n\t\t\t\tfor (const mapping of this._config.map.mappings) {\r\n\t\t\t\t\tif (mapping.enabled === false) continue;\r\n\t\t\t\t\tconst mapsToTarget = mapping.destinations.some(\r\n\t\t\t\t\t\t(d) => d.target === titleTarget && !d.blockKey,\r\n\t\t\t\t\t);\r\n\t\t\t\t\tif (mapsToTarget && elementLookup[mapping.source]) {\r\n\t\t\t\t\t\tparts.push(elementLookup[mapping.source]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (parts.length > 0) {\r\n\t\t\t\t\tthis._documentName = stripMarkdown(parts.join(' '));\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Fallback: use the first .heading value from the section lookup\r\n\t\tfor (const [key, value] of Object.entries(elementLookup)) {\r\n\t\t\tif (key.endsWith('.heading') && value) {\r\n\t\t\t\tthis._documentName = stripMarkdown(value);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t#handleSave() {\r\n\t\tthis.value = {\r\n\t\t\tname: this._documentName,\r\n\t\t\tsourceType: this._sourceType as SourceType,\r\n\t\t\tmediaUnique: this._selectedMediaUnique,\r\n\t\t\tsourceUrl: this._sourceUrl || null,\r\n\t\t\tsectionLookup: this._sectionLookup,\r\n\t\t\tconfig: this._config,\r\n\t\t};\r\n\t\tthis._submitModal();\r\n\t}\r\n\r\n\t#handleClose() {\r\n\t\tthis._rejectModal();\r\n\t}\r\n\r\n\t#renderSourceUI() {\r\n\t\tswitch (this._sourceType) {\r\n\t\t\tcase 'pdf':\r\n\t\t\t\treturn this.#renderPdfSource();\r\n\t\t\tcase 'markdown':\r\n\t\t\t\treturn this.#renderMarkdownSource();\r\n\t\t\tcase 'web':\r\n\t\t\t\treturn this.#renderWebSource();\r\n\t\t\tcase 'doc':\r\n\t\t\t\treturn this.#renderDocSource();\r\n\t\t\tdefault:\r\n\t\t\t\treturn nothing;\r\n\t\t}\r\n\t}\r\n\r\n\t#renderPdfSource() {\r\n\t\treturn html`\r\n\t\t\t<umb-property-layout label=\"PDF File\" orientation=\"vertical\">\r\n\t\t\t\t<div slot=\"editor\">\r\n\t\t\t\t\t<umb-input-media\r\n\t\t\t\t\t\tmax=\"1\"\r\n\t\t\t\t\t\t.selection=${this._selectedMediaUnique ? [this._selectedMediaUnique] : []}\r\n\t\t\t\t\t\t@change=${this.#handleMediaChange}>\r\n\t\t\t\t\t</umb-input-media>\r\n\t\t\t\t\t${this.#renderExtractionStatus()}\r\n\t\t\t\t</div>\r\n\t\t\t</umb-property-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderMarkdownSource() {\r\n\t\treturn html`\r\n\t\t\t<umb-property-layout label=\"Markdown File\" orientation=\"vertical\">\r\n\t\t\t\t<div slot=\"editor\">\r\n\t\t\t\t\t<umb-input-media\r\n\t\t\t\t\t\tmax=\"1\"\r\n\t\t\t\t\t\t.selection=${this._selectedMediaUnique ? [this._selectedMediaUnique] : []}\r\n\t\t\t\t\t\t@change=${this.#handleMediaChange}>\r\n\t\t\t\t\t</umb-input-media>\r\n\t\t\t\t\t${this.#renderExtractionStatus()}\r\n\t\t\t\t</div>\r\n\t\t\t</umb-property-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderWebSource() {\r\n\t\treturn html`\r\n\t\t\t<umb-property-layout label=\"Web Page URL\" orientation=\"vertical\">\r\n\t\t\t\t<div slot=\"editor\">\r\n\t\t\t\t\t<uui-input\r\n\t\t\t\t\t\tlabel=\"URL\"\r\n\t\t\t\t\t\tplaceholder=\"https://example.com/page\"\r\n\t\t\t\t\t\t.value=${this._sourceUrl}\r\n\t\t\t\t\t\t@input=${(e: UUIInputEvent) => (this._sourceUrl = e.target.value as string)}>\r\n\t\t\t\t\t</uui-input>\r\n\t\t\t\t\t<div class=\"source-coming-soon\">\r\n\t\t\t\t\t\t<uui-icon name=\"icon-info\"></uui-icon>\r\n\t\t\t\t\t\t<span>Web page extraction is not yet available.</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</umb-property-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderDocSource() {\r\n\t\treturn html`\r\n\t\t\t<umb-property-layout label=\"Word Document\" orientation=\"vertical\">\r\n\t\t\t\t<div slot=\"editor\">\r\n\t\t\t\t\t<umb-input-media\r\n\t\t\t\t\t\tmax=\"1\"\r\n\t\t\t\t\t\t@change=${(e: CustomEvent) => {\r\n\t\t\t\t\t\t\tconst target = e.target as UmbInputMediaElement;\r\n\t\t\t\t\t\t\tconst selection = target.selection;\r\n\t\t\t\t\t\t\tthis._selectedMediaUnique = selection.length > 0 ? selection[0] : null;\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t</umb-input-media>\r\n\t\t\t\t\t<div class=\"source-coming-soon\">\r\n\t\t\t\t\t\t<uui-icon name=\"icon-info\"></uui-icon>\r\n\t\t\t\t\t\t<span>Word document extraction is not yet available.</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</umb-property-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\t#hasExtractedContent(): boolean {\r\n\t\treturn Object.keys(this._sectionLookup).length > 0;\r\n\t}\r\n\r\n\t#handleTabClick(tab: TabType) {\r\n\t\tif (tab === 'content' && !this.#hasExtractedContent()) {\r\n\t\t\treturn; // Don't switch to content tab if no content\r\n\t\t}\r\n\t\tthis._activeTab = tab;\r\n\t}\r\n\r\n\t#renderExtractionStatus() {\r\n\t\tif (this._isExtracting) {\r\n\t\t\treturn html`<div class=\"extraction-status extracting\">\r\n\t\t\t\t<uui-loader-bar></uui-loader-bar>\r\n\t\t\t\t<span>Extracting content from source...</span>\r\n\t\t\t</div>`;\r\n\t\t}\r\n\r\n\t\tif (this._extractionError) {\r\n\t\t\treturn html`<div class=\"extraction-status error\">\r\n\t\t\t\t<uui-icon name=\"icon-alert\"></uui-icon>\r\n\t\t\t\t<span>${this._extractionError}</span>\r\n\t\t\t</div>`;\r\n\t\t}\r\n\r\n\t\tconst hasContent = Object.values(this._sectionLookup).some((v) => v.length > 0);\r\n\t\tif (hasContent) {\r\n\t\t\treturn html`<div class=\"extraction-status success\">\r\n\t\t\t\t<uui-icon name=\"icon-check\"></uui-icon>\r\n\t\t\t\t<span>Content extracted successfully</span>\r\n\t\t\t</div>`;\r\n\t\t}\r\n\r\n\t\treturn nothing;\r\n\t}\r\n\r\n\t#renderTabs() {\r\n\t\tconst hasContent = this.#hasExtractedContent();\r\n\t\treturn html`\r\n\t\t\t<uui-tab-group slot=\"navigation\">\r\n\t\t\t\t<uui-tab\r\n\t\t\t\t\tlabel=\"Source\"\r\n\t\t\t\t\t?active=${this._activeTab === 'source'}\r\n\t\t\t\t\torientation=\"horizontal\"\r\n\t\t\t\t\t@click=${() => this.#handleTabClick('source')}>\r\n\t\t\t\t\t<uui-icon slot=\"icon\" name=\"icon-page-add\"></uui-icon>\r\n\t\t\t\t\tSource\r\n\t\t\t\t</uui-tab>\r\n\t\t\t\t<uui-tab\r\n\t\t\t\t\tlabel=\"Content\"\r\n\t\t\t\t\t?active=${this._activeTab === 'content'}\r\n\t\t\t\t\torientation=\"horizontal\"\r\n\t\t\t\t\t?disabled=${!hasContent}\r\n\t\t\t\t\t@click=${() => this.#handleTabClick('content')}>\r\n\t\t\t\t\t<uui-icon slot=\"icon\" name=\"icon-edit\"></uui-icon>\r\n\t\t\t\t\tContent\r\n\t\t\t\t</uui-tab>\r\n\t\t\t\t<uui-tab\r\n\t\t\t\t\tlabel=\"Destination\"\r\n\t\t\t\t\t?active=${this._activeTab === 'destination'}\r\n\t\t\t\t\torientation=\"horizontal\"\r\n\t\t\t\t\t@click=${() => this.#handleTabClick('destination')}>\r\n\t\t\t\t\t<uui-icon slot=\"icon\" name=\"icon-document\"></uui-icon>\r\n\t\t\t\t\tDestination\r\n\t\t\t\t</uui-tab>\r\n\t\t\t</uui-tab-group>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderSourceTab() {\r\n\t\treturn html`\r\n\t\t\t<uui-box headline=\"Document Name\">\r\n\t\t\t\t<p>Enter a document name or let it be populated from the source. You can edit this later.</p>\r\n\t\t\t\t<uui-input\r\n\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\tlabel=\"name\"\r\n\t\t\t\t\tplaceholder=\"Enter document name\"\r\n\t\t\t\t\t.value=${this._documentName}\r\n\t\t\t\t\t@input=${(e: UUIInputEvent) => (this._documentName = e.target.value as string)}>\r\n\t\t\t\t</uui-input>\r\n\t\t\t</uui-box>\r\n\r\n\t\t\t<uui-box headline=\"Source\">\r\n\t\t\t\t${this._loadingSourceTypes\r\n\t\t\t\t\t? html`<uui-loader-bar></uui-loader-bar>`\r\n\t\t\t\t\t: this._availableSourceTypes.length === 0\r\n\t\t\t\t\t\t? html`<p style=\"color: var(--uui-color-danger);\">No source types configured for this workflow.</p>`\r\n\t\t\t\t\t\t: html`\r\n\t\t\t\t\t\t\t<umb-property-layout label=\"Source Type\" orientation=\"vertical\">\r\n\t\t\t\t\t\t\t\t<div slot=\"editor\">\r\n\t\t\t\t\t\t\t\t\t<uui-select\r\n\t\t\t\t\t\t\t\t\t\tlabel=\"Select source type\"\r\n\t\t\t\t\t\t\t\t\t\t.options=${[\r\n\t\t\t\t\t\t\t\t\t\t\t...(this._availableSourceTypes.length > 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t? [{ name: 'Choose a source...', value: '', selected: this._sourceType === '' }]\r\n\t\t\t\t\t\t\t\t\t\t\t\t: []),\r\n\t\t\t\t\t\t\t\t\t\t\t...this._availableSourceTypes.map((st) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\tname: SOURCE_TYPE_LABELS[st] || st,\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: st,\r\n\t\t\t\t\t\t\t\t\t\t\t\tselected: this._sourceType === st,\r\n\t\t\t\t\t\t\t\t\t\t\t})),\r\n\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t@change=${this.#handleSourceTypeChange}>\r\n\t\t\t\t\t\t\t\t\t</uui-select>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</umb-property-layout>\r\n\r\n\t\t\t\t\t\t\t${this.#renderSourceUI()}\r\n\t\t\t\t\t\t`}\r\n\t\t\t</uui-box>\r\n\t\t`;\r\n\t}\r\n\r\n\t/**\r\n\t * Builds a grouped preview of mapped values, organised by destination tab.\r\n\t * Groups by compound key (blockKey:alias) so block properties with the same\r\n\t * alias across different blocks are kept separate, then classifies each\r\n\t * into its destination tab using the destination.json structure.\r\n\t */\r\n\t#buildGroupedPreview(): Array<{\r\n\t\ttabId: string;\r\n\t\ttabLabel: string;\r\n\t\titems: Array<{ label: string; value: string; blockLabel?: string }>;\r\n\t}> {\r\n\t\tif (!this._config?.map?.mappings?.length || !this._config?.destination) return [];\r\n\r\n\t\tconst destination = this._config.destination;\r\n\r\n\t\t// Step 1: Build compound key → values + metadata (same as old #buildMappedPreview)\r\n\t\tconst preview = new Map<string, string[]>();\r\n\t\tconst keyMeta = new Map<string, { alias: string; blockKey?: string }>();\r\n\r\n\t\tfor (const mapping of this._config.map.mappings) {\r\n\t\t\tif (mapping.enabled === false) continue;\r\n\t\t\tconst text = this._sectionLookup[mapping.source];\r\n\t\t\tif (!text) continue;\r\n\t\t\tfor (const dest of mapping.destinations) {\r\n\t\t\t\tconst compoundKey = dest.blockKey ? `${dest.blockKey}:${dest.target}` : dest.target;\r\n\t\t\t\tconst existing = preview.get(compoundKey) ?? [];\r\n\t\t\t\texisting.push(text);\r\n\t\t\t\tpreview.set(compoundKey, existing);\r\n\t\t\t\tif (!keyMeta.has(compoundKey)) {\r\n\t\t\t\t\tkeyMeta.set(compoundKey, { alias: dest.target, blockKey: dest.blockKey });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Step 2: Classify each item into a destination tab\r\n\t\tconst tabItems = new Map<string, Array<{ label: string; value: string; blockLabel?: string }>>();\r\n\t\tconst tabLabels = new Map<string, string>();\r\n\r\n\t\tfor (const [compoundKey, parts] of preview.entries()) {\r\n\t\t\tconst meta = keyMeta.get(compoundKey);\r\n\t\t\tconst alias = meta?.alias ?? compoundKey;\r\n\t\t\tconst blockKey = meta?.blockKey;\r\n\r\n\t\t\tconst tabId = resolveDestinationTab(\r\n\t\t\t\t{ target: alias, blockKey },\r\n\t\t\t\tdestination,\r\n\t\t\t) ?? 'other';\r\n\r\n\t\t\tif (!tabItems.has(tabId)) {\r\n\t\t\t\ttabItems.set(tabId, []);\r\n\t\t\t}\r\n\r\n\t\t\t// Resolve the field-level label (without block prefix for block properties)\r\n\t\t\tlet fieldLabel = alias;\r\n\t\t\tif (blockKey && destination.blockGrids) {\r\n\t\t\t\tfor (const grid of destination.blockGrids) {\r\n\t\t\t\t\tconst block = grid.blocks.find((b) => b.key === blockKey);\r\n\t\t\t\t\tif (block) {\r\n\t\t\t\t\t\tconst prop = block.properties?.find((p) => p.alias === alias);\r\n\t\t\t\t\t\tif (prop) fieldLabel = prop.label || prop.alias;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst field = destination.fields.find((f) => f.alias === alias);\r\n\t\t\t\tif (field) fieldLabel = field.label;\r\n\t\t\t}\r\n\r\n\t\t\ttabItems.get(tabId)!.push({\r\n\t\t\t\tlabel: fieldLabel,\r\n\t\t\t\tvalue: parts.join(' '),\r\n\t\t\t\tblockLabel: blockKey ? (resolveBlockLabel(blockKey, destination) ?? undefined) : undefined,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Step 3: Order tabs according to destination structure, only include tabs with items\r\n\t\tconst allTabs = getDestinationTabs(destination);\r\n\t\tconst result: Array<{\r\n\t\t\ttabId: string;\r\n\t\t\ttabLabel: string;\r\n\t\t\titems: Array<{ label: string; value: string; blockLabel?: string }>;\r\n\t\t}> = [];\r\n\r\n\t\tfor (const tab of allTabs) {\r\n\t\t\tconst items = tabItems.get(tab.id);\r\n\t\t\tif (items?.length) {\r\n\t\t\t\ttabLabels.set(tab.id, tab.label);\r\n\t\t\t\tresult.push({ tabId: tab.id, tabLabel: tab.label, items });\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Add orphaned items if any\r\n\t\tconst orphanedItems = tabItems.get('other');\r\n\t\tif (orphanedItems?.length) {\r\n\t\t\tresult.push({ tabId: 'other', tabLabel: 'Other', items: orphanedItems });\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\t#renderSectionCard(label: string, value: string) {\r\n\t\treturn html`\r\n\t\t\t<div class=\"section-card\">\r\n\t\t\t\t<div class=\"section-card-header\">\r\n\t\t\t\t\t<span class=\"section-card-label\">${label}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"section-card-body\">\r\n\t\t\t\t\t<uui-action-bar class=\"section-card-actions\">\r\n\t\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\t\tcompact\r\n\t\t\t\t\t\t\ttitle=\"Copy\"\r\n\t\t\t\t\t\t\tlabel=\"Copy ${label}\"\r\n\t\t\t\t\t\t\t@click=${() => this.#copySection(label, value)}>\r\n\t\t\t\t\t\t\t<uui-icon name=\"icon-documents\"></uui-icon>\r\n\t\t\t\t\t\t</uui-button>\r\n\t\t\t\t\t</uui-action-bar>\r\n\t\t\t\t\t<div class=\"section-card-content\">${value}</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderContentGroupItems(group: { tabId: string; items: Array<{ label: string; value: string; blockLabel?: string }> }) {\r\n\t\tif (group.tabId === 'page-content') {\r\n\t\t\t// Sub-group by block label\r\n\t\t\tconst blockGroups = new Map<string, Array<{ label: string; value: string }>>();\r\n\t\t\tfor (const item of group.items) {\r\n\t\t\t\tconst key = item.blockLabel ?? 'Other';\r\n\t\t\t\tconst arr = blockGroups.get(key) ?? [];\r\n\t\t\t\tarr.push(item);\r\n\t\t\t\tblockGroups.set(key, arr);\r\n\t\t\t}\r\n\r\n\t\t\treturn html`\r\n\t\t\t\t${Array.from(blockGroups.entries()).map(([blockLabel, items]) => html`\r\n\t\t\t\t\t<div class=\"block-group-header\">\r\n\t\t\t\t\t\t<umb-icon name=\"icon-box\"></umb-icon>\r\n\t\t\t\t\t\t<span>${blockLabel}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t${items.map((item) => this.#renderSectionCard(item.label, item.value))}\r\n\t\t\t\t`)}\r\n\t\t\t`;\r\n\t\t}\r\n\r\n\t\treturn html`\r\n\t\t\t${group.items.map((item) => this.#renderSectionCard(item.label, item.value))}\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderContentTab() {\r\n\t\tconst grouped = this.#buildGroupedPreview();\r\n\r\n\t\tif (grouped.length === 0) {\r\n\t\t\treturn html`\r\n\t\t\t\t<div class=\"content-editor\">\r\n\t\t\t\t\t<p class=\"content-editor-intro\">No mapped content to preview. Create mappings in the workflow editor first.</p>\r\n\t\t\t\t</div>\r\n\t\t\t`;\r\n\t\t}\r\n\r\n\t\t// Auto-select first tab if none active or current tab no longer exists\r\n\t\tif (!this._contentActiveTab || !grouped.find((g) => g.tabId === this._contentActiveTab)) {\r\n\t\t\tthis._contentActiveTab = grouped[0].tabId;\r\n\t\t}\r\n\r\n\t\tconst activeGroup = grouped.find((g) => g.tabId === this._contentActiveTab) ?? grouped[0];\r\n\r\n\t\treturn html`\r\n\t\t\t<uui-tab-group class=\"content-inner-tabs\">\r\n\t\t\t\t${grouped.map((group) => html`\r\n\t\t\t\t\t<uui-tab\r\n\t\t\t\t\t\tlabel=${group.tabLabel}\r\n\t\t\t\t\t\t?active=${this._contentActiveTab === group.tabId}\r\n\t\t\t\t\t\t@click=${() => { this._contentActiveTab = group.tabId; }}>\r\n\t\t\t\t\t\t${group.tabLabel}\r\n\t\t\t\t\t</uui-tab>\r\n\t\t\t\t`)}\r\n\t\t\t</uui-tab-group>\r\n\t\t\t${this.#renderContentGroupItems(activeGroup)}\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderDestinationTab() {\r\n\t\treturn html`\r\n\t\t\t<uui-box headline=\"Document Type\">\r\n\t\t\t\t<div class=\"destination-value\">\r\n\t\t\t\t\t<umb-icon name=\"icon-document-dashed-line\"></umb-icon>\r\n\t\t\t\t\t<span>${this.data?.documentTypeName}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</uui-box>\r\n\r\n\t\t\t<uui-box headline=\"Blueprint\">\r\n\t\t\t\t<div class=\"destination-value\">\r\n\t\t\t\t\t<umb-icon name=\"icon-blueprint\"></umb-icon>\r\n\t\t\t\t\t<span>${this.data?.blueprintName}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</uui-box>\r\n\t\t`;\r\n\t}\r\n\r\n\tasync #copySection(key: string, value: string) {\r\n\t\ttry {\r\n\t\t\tawait navigator.clipboard.writeText(value);\r\n\t\t\t// TODO: Show toast notification \"Copied to clipboard\"\r\n\t\t\tconsole.log('Copied to clipboard:', key);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Failed to copy:', err);\r\n\t\t}\r\n\t}\r\n\r\n\t#getCanCreate(): boolean {\r\n\t\tif (!this._documentName || this._isExtracting) return false;\r\n\r\n\t\tswitch (this._sourceType) {\r\n\t\t\tcase 'pdf':\r\n\t\t\tcase 'markdown':\r\n\t\t\t\treturn !!this._selectedMediaUnique;\r\n\t\t\tcase 'web':\r\n\t\t\tcase 'doc':\r\n\t\t\t\treturn false;\r\n\t\t\tdefault:\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\t#renderTabContent() {\r\n\t\tswitch (this._activeTab) {\r\n\t\t\tcase 'source':\r\n\t\t\t\treturn this.#renderSourceTab();\r\n\t\t\tcase 'content':\r\n\t\t\t\treturn this.#renderContentTab();\r\n\t\t\tcase 'destination':\r\n\t\t\t\treturn this.#renderDestinationTab();\r\n\t\t}\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tconst canCreate = this.#getCanCreate();\r\n\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout headline=\"Create from Source\">\r\n\t\t\t\t${this.#renderTabs()}\r\n\r\n\t\t\t\t<div class=\"tab-content\">\r\n\t\t\t\t\t${this.#renderTabContent()}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<uui-button\r\n\t\t\t\t\tslot=\"actions\"\r\n\t\t\t\t\tid=\"close\"\r\n\t\t\t\t\tlabel=${this.localize.term('general_close')}\r\n\t\t\t\t\t@click=\"${this.#handleClose}\"></uui-button>\r\n\t\t\t\t<uui-button\r\n\t\t\t\t\tslot=\"actions\"\r\n\t\t\t\t\tid=\"save\"\r\n\t\t\t\t\tlook=\"primary\"\r\n\t\t\t\t\tcolor=\"positive\"\r\n\t\t\t\t\tlabel=${this.localize.term('general_create')}\r\n\t\t\t\t\t?disabled=${!canCreate}\r\n\t\t\t\t\t@click=\"${this.#handleSave}\"></uui-button>\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t/* Navigation tabs */\r\n\t\t\tuui-tab[disabled] {\r\n\t\t\t\topacity: 0.5;\r\n\t\t\t\tcursor: not-allowed;\r\n\t\t\t}\r\n\r\n\t\t\t/* Tab content */\r\n\t\t\t.tab-content {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t}\r\n\r\n\t\t\t/* Content editor tab */\r\n\t\t\t.content-editor {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t}\r\n\r\n\t\t\t.content-editor uui-box {\r\n\t\t\t\tmargin-bottom: var(--uui-size-space-4);\r\n\t\t\t}\r\n\r\n\t\t\t.content-editor-intro {\r\n\t\t\t\tmargin: 0 0 var(--uui-size-space-4) 0;\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t}\r\n\r\n\t\t\t.section-card {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tbackground: var(--uui-color-surface);\r\n\t\t\t\tborder: 1px solid var(--uui-color-border);\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t\tmargin-bottom: var(--uui-size-space-4);\r\n\t\t\t}\r\n\r\n\t\t\t.section-card-header {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tpadding: var(--uui-size-space-3) var(--uui-size-space-4);\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-border);\r\n\t\t\t\tbackground: var(--uui-color-surface-alt);\r\n\t\t\t}\r\n\r\n\t\t\t.section-card-label {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\r\n\t\t\t.section-card-body {\r\n\t\t\t\tposition: relative;\r\n\t\t\t}\r\n\r\n\t\t\t.section-card-actions {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: var(--uui-size-space-2);\r\n\t\t\t\tright: var(--uui-size-space-2);\r\n\t\t\t\topacity: 0;\r\n\t\t\t\ttransition: opacity 120ms ease;\r\n\t\t\t}\r\n\r\n\t\t\t.section-card:hover .section-card-actions {\r\n\t\t\t\topacity: 1;\r\n\t\t\t}\r\n\r\n\t\t\t.section-card-content {\r\n\t\t\t\tpadding: var(--uui-size-space-4);\r\n\t\t\t\twhite-space: pre-wrap;\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tmax-height: 300px;\r\n\t\t\t\toverflow-y: auto;\r\n\t\t\t}\r\n\r\n\t\t\t/* Content tab inner tabs — bleed edge-to-edge past outer body layout padding */\r\n\t\t\t.content-inner-tabs {\r\n\t\t\t\tmargin: calc(var(--uui-size-layout-1) * -1);\r\n\t\t\t\tmargin-bottom: var(--uui-size-space-4);\r\n\t\t\t\tbackground: var(--uui-color-surface);\r\n\t\t\t\t--uui-tab-background: var(--uui-color-surface);\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-border);\r\n\t\t\t}\r\n\r\n\t\t\t.block-group-header {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t\tpadding: var(--uui-size-space-3) var(--uui-size-space-4);\r\n\t\t\t\tbackground: var(--uui-color-surface-alt);\r\n\t\t\t\tborder: 1px solid var(--uui-color-border);\r\n\t\t\t\tborder-radius: var(--uui-border-radius) var(--uui-border-radius) 0 0;\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tmargin-top: var(--uui-size-space-4);\r\n\t\t\t}\r\n\r\n\t\t\t.block-group-header:first-child {\r\n\t\t\t\tmargin-top: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.block-group-header + .section-card {\r\n\t\t\t\tborder-top: none;\r\n\t\t\t\tborder-radius: 0 0 var(--uui-border-radius) var(--uui-border-radius);\r\n\t\t\t}\r\n\r\n\t\t\t.block-group-header + .section-card .section-card-header {\r\n\t\t\t\tborder-radius: 0;\r\n\t\t\t}\r\n\r\n\t\t\t/* Destination tab */\r\n\t\t\t.destination-value {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-space-3);\r\n\t\t\t}\r\n\r\n\t\t\tuui-input {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\r\n\t\t\tuui-box {\r\n\t\t\t\tmargin-bottom: var(--uui-size-space-4);\r\n\t\t\t}\r\n\r\n\t\t\tp {\r\n\t\t\t\tmargin-bottom: var(--uui-size-space-4);\r\n\t\t\t}\r\n\r\n\t\t\t.extraction-status {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t\tmargin-top: var(--uui-size-space-3);\r\n\t\t\t\tpadding: var(--uui-size-space-2);\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t}\r\n\r\n\t\t\t.extraction-status.extracting {\r\n\t\t\t\tbackground-color: var(--uui-color-surface-alt);\r\n\t\t\t}\r\n\r\n\t\t\t.extraction-status.error {\r\n\t\t\t\tbackground-color: var(--uui-color-danger-emphasis);\r\n\t\t\t\tcolor: var(--uui-color-danger-contrast);\r\n\t\t\t}\r\n\r\n\t\t\t.extraction-status.success {\r\n\t\t\t\tbackground-color: var(--uui-color-positive-emphasis);\r\n\t\t\t\tcolor: var(--uui-color-positive-contrast);\r\n\t\t\t}\r\n\r\n\t\t\tuui-select {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t.source-coming-soon {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t\tmargin-top: var(--uui-size-space-3);\r\n\t\t\t\tpadding: var(--uui-size-space-2);\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tbackground-color: var(--uui-color-surface-alt);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UpDocModalElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'up-doc-modal': UpDocModalElement;\r\n\t}\r\n}\r\n"],"names":["_UpDocModalElement_instances","loadAvailableSourceTypes_fn","handleSourceTypeChange_fn","handleMediaChange_fn","extractFromSource_fn","prefillDocumentName_fn","handleSave_fn","handleClose_fn","renderSourceUI_fn","renderPdfSource_fn","renderMarkdownSource_fn","renderWebSource_fn","renderDocSource_fn","hasExtractedContent_fn","handleTabClick_fn","renderExtractionStatus_fn","renderTabs_fn","renderSourceTab_fn","buildGroupedPreview_fn","renderSectionCard_fn","renderContentGroupItems_fn","renderContentTab_fn","renderDestinationTab_fn","copySection_fn","getCanCreate_fn","renderTabContent_fn","SOURCE_TYPE_LABELS","UpDocModalElement","UmbModalBaseElement","__privateAdd","__privateMethod","canCreate","html","blueprintId","token","UMB_AUTH_CONTEXT","config","fetchConfig","err","e","newSourceType","selection","mediaUnique","workflowName","transformResult","transformAdhoc","allSections","allTransformSections","sectionLookup","section","error","elementLookup","titleTarget","mapping","topLevelDest","d","parts","stripMarkdown","key","value","nothing","tab","v","hasContent","st","destination","preview","keyMeta","text","dest","compoundKey","existing","tabItems","tabLabels","meta","alias","blockKey","tabId","resolveDestinationTab","fieldLabel","grid","block","b","prop","p","field","f","resolveBlockLabel","allTabs","getDestinationTabs","result","items","orphanedItems","label","group","blockGroups","item","arr","blockLabel","grouped","g","activeGroup","UmbTextStyles","css","__decorateClass","state","customElement","UpDocModalElement_default"],"mappings":"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"}
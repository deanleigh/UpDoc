{"version":3,"file":"up-doc-workflow-destination-view.element-DQ8Tn3Xx.js","sources":["../src/up-doc-workflow-destination-view.element.ts"],"sourcesContent":["import type { DocumentTypeConfig, DestinationField, DestinationBlockGrid } from './workflow.types.js';\r\nimport { fetchWorkflowByAlias, changeWorkflowDestination } from './workflow.service.js';\r\nimport { getDestinationTabs, getAllBlockContainers } from './destination-utils.js';\r\nimport { html, customElement, css, state, nothing } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { UMB_AUTH_CONTEXT } from '@umbraco-cms/backoffice/auth';\r\nimport { UMB_WORKSPACE_CONTEXT } from '@umbraco-cms/backoffice/workspace';\r\nimport { umbOpenModal } from '@umbraco-cms/backoffice/modal';\r\nimport { UMB_BLUEPRINT_PICKER_MODAL } from './blueprint-picker-modal.token.js';\r\nimport type { DocumentTypeOption } from './blueprint-picker-modal.token.js';\r\n\r\n@customElement('up-doc-workflow-destination-view')\r\nexport class UpDocWorkflowDestinationViewElement extends UmbLitElement {\r\n\t@state() private _config: DocumentTypeConfig | null = null;\r\n\t@state() private _loading = true;\r\n\t@state() private _error: string | null = null;\r\n\t@state() private _activeTab = '';\r\n\t#workflowAlias: string | null = null;\r\n\r\n\toverride connectedCallback() {\r\n\t\tsuper.connectedCallback();\r\n\t\tthis.consumeContext(UMB_WORKSPACE_CONTEXT, (context) => {\r\n\t\t\tif (!context) return;\r\n\t\t\tthis.observe((context as any).unique, (unique: string | null) => {\r\n\t\t\t\tif (unique) {\r\n\t\t\t\t\tthis.#workflowAlias = decodeURIComponent(unique);\r\n\t\t\t\t\tthis.#loadConfig(this.#workflowAlias);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tasync #loadConfig(workflowAlias: string) {\r\n\t\tthis._loading = true;\r\n\t\tthis._error = null;\r\n\r\n\t\ttry {\r\n\t\t\tconst authContext = await this.getContext(UMB_AUTH_CONTEXT);\r\n\t\t\tconst token = await authContext.getLatestToken();\r\n\t\t\tthis._config = await fetchWorkflowByAlias(workflowAlias, token);\r\n\r\n\t\t\tif (!this._config) {\r\n\t\t\t\tthis._error = `Workflow \"${workflowAlias}\" not found`;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst tabs = this.#getTabs();\r\n\t\t\tif (tabs.length > 0) {\r\n\t\t\t\tthis._activeTab = tabs[0].id;\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tthis._error = err instanceof Error ? err.message : 'Failed to load workflow';\r\n\t\t\tconsole.error('Failed to load workflow config:', err);\r\n\t\t} finally {\r\n\t\t\tthis._loading = false;\r\n\t\t}\r\n\t}\r\n\r\n\t// =========================================================================\r\n\t// Change Document Type / Blueprint\r\n\t// =========================================================================\r\n\r\n\tasync #fetchDocumentTypeOptions(token: string): Promise<{\r\n\t\toptions: DocumentTypeOption[];\r\n\t\taliasMap: Map<string, string>;\r\n\t}> {\r\n\t\tconst docTypesResponse = await fetch('/umbraco/management/api/v1/updoc/document-types', {\r\n\t\t\theaders: { Authorization: `Bearer ${token}` },\r\n\t\t});\r\n\r\n\t\tif (!docTypesResponse.ok) return { options: [], aliasMap: new Map() };\r\n\r\n\t\tconst docTypes: Array<{ alias: string; name: string; icon: string; id: string }> =\r\n\t\t\tawait docTypesResponse.json();\r\n\r\n\t\tconst options: DocumentTypeOption[] = [];\r\n\t\tconst aliasMap = new Map<string, string>();\r\n\r\n\t\tfor (const dt of docTypes) {\r\n\t\t\taliasMap.set(dt.id, dt.alias);\r\n\r\n\t\t\tconst bpResponse = await fetch(\r\n\t\t\t\t`/umbraco/management/api/v1/updoc/document-types/${encodeURIComponent(dt.alias)}/blueprints`,\r\n\t\t\t\t{ headers: { Authorization: `Bearer ${token}` } },\r\n\t\t\t);\r\n\r\n\t\t\tif (!bpResponse.ok) continue;\r\n\r\n\t\t\tconst blueprints: Array<{ id: string; name: string }> = await bpResponse.json();\r\n\t\t\tif (blueprints.length > 0) {\r\n\t\t\t\toptions.push({\r\n\t\t\t\t\tdocumentTypeUnique: dt.id,\r\n\t\t\t\t\tdocumentTypeName: dt.name,\r\n\t\t\t\t\tdocumentTypeIcon: dt.icon ?? null,\r\n\t\t\t\t\tblueprints: blueprints.map((bp) => ({\r\n\t\t\t\t\t\tblueprintUnique: bp.id,\r\n\t\t\t\t\t\tblueprintName: bp.name,\r\n\t\t\t\t\t})),\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn { options, aliasMap };\r\n\t}\r\n\r\n\tasync #handleChangeDocumentType() {\r\n\t\tif (!this.#workflowAlias) return;\r\n\r\n\t\tconst authContext = await this.getContext(UMB_AUTH_CONTEXT);\r\n\t\tconst token = await authContext.getLatestToken();\r\n\r\n\t\tconst { options, aliasMap } = await this.#fetchDocumentTypeOptions(token);\r\n\t\tif (!options.length) return;\r\n\r\n\t\tlet selection;\r\n\t\ttry {\r\n\t\t\tselection = await umbOpenModal(this, UMB_BLUEPRINT_PICKER_MODAL, {\r\n\t\t\t\tdata: { documentTypes: options },\r\n\t\t\t});\r\n\t\t} catch {\r\n\t\t\treturn; // Cancelled\r\n\t\t}\r\n\r\n\t\tconst { blueprintUnique, documentTypeUnique } = selection;\r\n\t\tconst selectedDocType = options.find((dt) => dt.documentTypeUnique === documentTypeUnique);\r\n\t\tconst selectedBlueprint = selectedDocType?.blueprints.find((bp) => bp.blueprintUnique === blueprintUnique);\r\n\t\tconst docTypeAlias = aliasMap.get(documentTypeUnique) ?? '';\r\n\r\n\t\tconst result = await changeWorkflowDestination(\r\n\t\t\tthis.#workflowAlias,\r\n\t\t\tdocTypeAlias,\r\n\t\t\tselectedDocType?.documentTypeName ?? null,\r\n\t\t\tblueprintUnique,\r\n\t\t\tselectedBlueprint?.blueprintName ?? null,\r\n\t\t\ttoken,\r\n\t\t);\r\n\r\n\t\tif (result) {\r\n\t\t\tawait this.#loadConfig(this.#workflowAlias);\r\n\t\t}\r\n\t}\r\n\r\n\tasync #handleChangeBlueprint() {\r\n\t\tif (!this.#workflowAlias || !this._config) return;\r\n\r\n\t\tconst authContext = await this.getContext(UMB_AUTH_CONTEXT);\r\n\t\tconst token = await authContext.getLatestToken();\r\n\r\n\t\tconst dest = this._config.destination;\r\n\t\tconst currentDocTypeAlias = dest.documentTypeAlias;\r\n\r\n\t\t// Fetch doc types to find the current one (need its GUID for preSelectedDocTypeUnique)\r\n\t\tconst { options, aliasMap } = await this.#fetchDocumentTypeOptions(token);\r\n\t\t// Find by alias (aliasMap is GUID → alias, so reverse-lookup)\r\n\t\tconst currentDocTypeUnique = [...aliasMap.entries()].find(([, alias]) => alias === currentDocTypeAlias)?.[0];\r\n\t\tconst currentDocType = options.find((dt) => dt.documentTypeUnique === currentDocTypeUnique);\r\n\r\n\t\tif (!currentDocType) return;\r\n\r\n\t\tlet selection;\r\n\t\ttry {\r\n\t\t\tselection = await umbOpenModal(this, UMB_BLUEPRINT_PICKER_MODAL, {\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tdocumentTypes: [currentDocType],\r\n\t\t\t\t\tpreSelectedDocTypeUnique: currentDocType.documentTypeUnique,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t} catch {\r\n\t\t\treturn; // Cancelled\r\n\t\t}\r\n\r\n\t\tconst selectedBlueprint = currentDocType.blueprints.find(\r\n\t\t\t(bp) => bp.blueprintUnique === selection.blueprintUnique,\r\n\t\t);\r\n\r\n\t\tconst result = await changeWorkflowDestination(\r\n\t\t\tthis.#workflowAlias,\r\n\t\t\tcurrentDocTypeAlias,\r\n\t\t\tdest.documentTypeName ?? null,\r\n\t\t\tselection.blueprintUnique,\r\n\t\t\tselectedBlueprint?.blueprintName ?? null,\r\n\t\t\ttoken,\r\n\t\t);\r\n\r\n\t\tif (result) {\r\n\t\t\tawait this.#loadConfig(this.#workflowAlias);\r\n\t\t}\r\n\t}\r\n\r\n\t#getTabs() {\r\n\t\tif (!this._config) return [];\r\n\t\treturn getDestinationTabs(this._config.destination);\r\n\t}\r\n\r\n\t#renderFieldsForTab(tabName: string) {\r\n\t\tif (!this._config) return nothing;\r\n\r\n\t\tconst fields = this._config.destination.fields.filter((f) => f.tab === tabName);\r\n\t\tif (fields.length === 0) return html`<p class=\"empty-message\">No fields in this tab.</p>`;\r\n\r\n\t\treturn html`\r\n\t\t\t<div class=\"field-list\">\r\n\t\t\t\t${fields.map((field) => this.#renderField(field))}\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderField(field: DestinationField) {\r\n\t\treturn html`\r\n\t\t\t<div class=\"field-item\">\r\n\t\t\t\t<div class=\"field-header\">\r\n\t\t\t\t\t<span class=\"field-label\">${field.label}</span>\r\n\t\t\t\t\t<span class=\"field-type\">${field.type}</span>\r\n\t\t\t\t\t${field.mandatory ? html`<uui-tag look=\"primary\" color=\"danger\" class=\"field-badge\">Required</uui-tag>` : nothing}\r\n\t\t\t\t\t<uui-button compact look=\"outline\" label=\"Map\" class=\"map-button\" disabled>\r\n\t\t\t\t\t\t<uui-icon name=\"icon-nodes\"></uui-icon>\r\n\t\t\t\t\t</uui-button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"field-meta\">\r\n\t\t\t\t\t<span class=\"field-alias\">${field.alias}</span>\r\n\t\t\t\t\t${field.description ? html`<span class=\"field-description\">${field.description}</span>` : nothing}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderBlockContainersForTab(tabId: string) {\r\n\t\tif (!this._config) return nothing;\r\n\r\n\t\tconst containers = getAllBlockContainers(this._config.destination).filter((c) => {\r\n\t\t\tconst cTab = c.tab ?? 'Page Content';\r\n\t\t\treturn cTab.toLowerCase().replace(/\\s+/g, '-') === tabId;\r\n\t\t});\r\n\r\n\t\tif (!containers.length) {\r\n\t\t\treturn html`<p class=\"empty-message\">No blocks configured.</p>`;\r\n\t\t}\r\n\r\n\t\treturn html`\r\n\t\t\t${containers.map((container) => this.#renderBlockGrid(container))}\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderBlockGrid(grid: DestinationBlockGrid) {\r\n\t\treturn html`\r\n\t\t\t<div class=\"block-grid\">\r\n\t\t\t\t<div class=\"block-grid-header\">\r\n\t\t\t\t\t<span class=\"block-grid-label\">${grid.label}</span>\r\n\t\t\t\t\t<span class=\"field-alias\">${grid.alias}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t${grid.description ? html`<p class=\"block-grid-description\">${grid.description}</p>` : nothing}\r\n\t\t\t\t<div class=\"block-list\">\r\n\t\t\t\t\t${grid.blocks.map(\r\n\t\t\t\t\t\t(block) => html`\r\n\t\t\t\t\t\t\t<div class=\"block-item\">\r\n\t\t\t\t\t\t\t\t<div class=\"block-header\">\r\n\t\t\t\t\t\t\t\t\t<umb-icon name=\"icon-box\"></umb-icon>\r\n\t\t\t\t\t\t\t\t\t<span class=\"block-label\">${block.label}</span>\r\n\t\t\t\t\t\t\t\t\t${block.identifyBy\r\n\t\t\t\t\t\t\t\t\t\t? html`<span class=\"block-identify\">identified by: \"${block.identifyBy.value}\"</span>`\r\n\t\t\t\t\t\t\t\t\t\t: nothing}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t${block.properties?.length\r\n\t\t\t\t\t\t\t\t\t? html`\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"block-properties\">\r\n\t\t\t\t\t\t\t\t\t\t\t${block.properties.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(prop) => html`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-property\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"block-property-label\">${prop.label || prop.alias}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"field-type\">${prop.type}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${prop.acceptsFormats?.length\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? html`<span class=\"accepts-formats\">${prop.acceptsFormats.join(', ')}</span>`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: nothing}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<uui-button compact look=\"outline\" label=\"Map\" class=\"map-button\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<uui-icon name=\"icon-nodes\"></uui-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</uui-button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t`\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t`\r\n\t\t\t\t\t\t\t\t\t: nothing}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t`\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t// =========================================================================\r\n\t// Info Boxes\r\n\t// =========================================================================\r\n\r\n\t#getFieldsCount(): number {\r\n\t\tif (!this._config) return 0;\r\n\t\treturn this._config.destination.fields.length;\r\n\t}\r\n\r\n\t#getBlocksCount(): number {\r\n\t\tif (!this._config) return 0;\r\n\t\treturn getAllBlockContainers(this._config.destination)\r\n\t\t\t.reduce((sum, container) => sum + container.blocks.length, 0);\r\n\t}\r\n\r\n\t#renderInfoBoxes() {\r\n\t\tif (!this._config) return nothing;\r\n\t\tconst dest = this._config.destination;\r\n\r\n\t\treturn html`\r\n\t\t\t<div class=\"info-boxes\">\r\n\t\t\t\t<uui-box headline=\"Document Type\" class=\"info-box-item\">\r\n\t\t\t\t\t<div class=\"box-content\">\r\n\t\t\t\t\t\t<uui-icon name=\"icon-document-dashed-line\" class=\"box-icon\"></uui-icon>\r\n\t\t\t\t\t\t<span class=\"box-stat box-filename\" title=\"${dest.documentTypeName ?? dest.documentTypeAlias}\">${dest.documentTypeName ?? dest.documentTypeAlias}</span>\r\n\t\t\t\t\t\t<span class=\"box-sub\">${dest.documentTypeAlias}</span>\r\n\t\t\t\t\t\t<div class=\"box-buttons\">\r\n\t\t\t\t\t\t\t<uui-button look=\"secondary\" label=\"Change\" @click=${this.#handleChangeDocumentType}>Change</uui-button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</uui-box>\r\n\r\n\t\t\t\t<uui-box headline=\"Blueprint\" class=\"info-box-item\">\r\n\t\t\t\t\t<div class=\"box-content\">\r\n\t\t\t\t\t\t<uui-icon name=\"icon-blueprint\" class=\"box-icon\"></uui-icon>\r\n\t\t\t\t\t\t<span class=\"box-stat box-filename\" title=\"${dest.blueprintName ?? '—'}\">${dest.blueprintName ?? '—'}</span>\r\n\t\t\t\t\t\t<div class=\"box-buttons\">\r\n\t\t\t\t\t\t\t<uui-button look=\"secondary\" label=\"Change\" @click=${this.#handleChangeBlueprint}>Change</uui-button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</uui-box>\r\n\r\n\t\t\t\t<uui-box headline=\"Fields\" class=\"info-box-item\">\r\n\t\t\t\t\t<div class=\"box-content\">\r\n\t\t\t\t\t\t<uui-icon name=\"icon-layers\" class=\"box-icon\"></uui-icon>\r\n\t\t\t\t\t\t<span class=\"box-stat\">${this.#getFieldsCount()}</span>\r\n\t\t\t\t\t\t<span class=\"box-sub\">text-mappable</span>\r\n\t\t\t\t\t\t<div class=\"box-buttons\">\r\n\t\t\t\t\t\t\t<uui-button look=\"secondary\" label=\"Regenerate\" disabled title=\"Coming soon\">Regenerate</uui-button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</uui-box>\r\n\r\n\t\t\t\t<uui-box headline=\"Blocks\" class=\"info-box-item\">\r\n\t\t\t\t\t<div class=\"box-content\">\r\n\t\t\t\t\t\t<uui-icon name=\"icon-box\" class=\"box-icon\"></uui-icon>\r\n\t\t\t\t\t\t<span class=\"box-stat\">${this.#getBlocksCount()}</span>\r\n\t\t\t\t\t\t<span class=\"box-sub\">in blueprint</span>\r\n\t\t\t\t\t\t<div class=\"box-buttons\">\r\n\t\t\t\t\t\t\t<uui-button look=\"secondary\" label=\"Regenerate\" disabled title=\"Coming soon\">Regenerate</uui-button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</uui-box>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderTabContent() {\r\n\t\tif (!this._config) return nothing;\r\n\r\n\t\tconst tabName = this._config.destination.fields.find(\r\n\t\t\t(f) => f.tab && f.tab.toLowerCase().replace(/\\s+/g, '-') === this._activeTab\r\n\t\t)?.tab;\r\n\r\n\t\tconst hasContainers = getAllBlockContainers(this._config.destination).some((c) => {\r\n\t\t\tconst cTab = c.tab ?? 'Page Content';\r\n\t\t\treturn cTab.toLowerCase().replace(/\\s+/g, '-') === this._activeTab;\r\n\t\t});\r\n\r\n\t\treturn html`\r\n\t\t\t${tabName ? this.#renderFieldsForTab(tabName) : nothing}\r\n\t\t\t${hasContainers ? this.#renderBlockContainersForTab(this._activeTab) : nothing}\r\n\t\t`;\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (this._loading) {\r\n\t\t\treturn html`<div class=\"loading\"><uui-loader-bar></uui-loader-bar></div>`;\r\n\t\t}\r\n\r\n\t\tif (this._error) {\r\n\t\t\treturn html`<p style=\"color: var(--uui-color-danger);\">${this._error}</p>`;\r\n\t\t}\r\n\r\n\t\tconst tabs = this.#getTabs();\r\n\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout header-fit-height>\r\n\t\t\t\t<uui-tab-group slot=\"header\" dropdown-content-direction=\"vertical\">\r\n\t\t\t\t\t${tabs.map(\r\n\t\t\t\t\t\t(tab) => html`\r\n\t\t\t\t\t\t\t<uui-tab\r\n\t\t\t\t\t\t\t\tlabel=${tab.label}\r\n\t\t\t\t\t\t\t\t?active=${this._activeTab === tab.id}\r\n\t\t\t\t\t\t\t\t@click=${() => { this._activeTab = tab.id; }}>\r\n\t\t\t\t\t\t\t\t${tab.label}\r\n\t\t\t\t\t\t\t</uui-tab>\r\n\t\t\t\t\t\t`\r\n\t\t\t\t\t)}\r\n\t\t\t\t</uui-tab-group>\r\n\t\t\t\t${this.#renderInfoBoxes()}\r\n\t\t\t\t<uui-box class=\"page-box\">\r\n\t\t\t\t\t${this.#renderTabContent()}\r\n\t\t\t\t</uui-box>\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\t--uui-tab-background: var(--uui-color-surface);\r\n\t\t\t}\r\n\r\n\t\t\t.loading {\r\n\t\t\t\tpadding: var(--uui-size-layout-1);\r\n\t\t\t}\r\n\r\n\t\t\t.empty-message {\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tfont-style: italic;\r\n\t\t\t}\r\n\r\n\t\t\t.field-list {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tgap: var(--uui-size-space-1);\r\n\t\t\t}\r\n\r\n\t\t\t.field-item {\r\n\t\t\t\tpadding: var(--uui-size-space-3) var(--uui-size-space-4);\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-border);\r\n\t\t\t}\r\n\r\n\t\t\t.field-item:last-child {\r\n\t\t\t\tborder-bottom: none;\r\n\t\t\t}\r\n\r\n\t\t\t.field-header {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-space-3);\r\n\t\t\t}\r\n\r\n\t\t\t.field-label {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\r\n\t\t\t.field-type {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tbackground: var(--uui-color-surface-alt);\r\n\t\t\t\tpadding: 2px 8px;\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t}\r\n\r\n\t\t\t.field-badge {\r\n\t\t\t\tfont-size: 11px;\r\n\t\t\t}\r\n\r\n\t\t\t.field-meta {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tgap: var(--uui-size-space-3);\r\n\t\t\t\tmargin-top: var(--uui-size-space-1);\r\n\t\t\t}\r\n\r\n\t\t\t.field-alias {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tfont-family: monospace;\r\n\t\t\t}\r\n\r\n\t\t\t.field-description {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t}\r\n\r\n\t\t\t.block-grid {\r\n\t\t\t\tmargin-bottom: var(--uui-size-space-5);\r\n\t\t\t}\r\n\r\n\t\t\t.block-grid-header {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-space-3);\r\n\t\t\t\tpadding: var(--uui-size-space-3) var(--uui-size-space-4);\r\n\t\t\t\tbackground: var(--uui-color-surface-alt);\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-border);\r\n\t\t\t}\r\n\r\n\t\t\t.block-grid-label {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\r\n\t\t\t.block-grid-description {\r\n\t\t\t\tpadding: var(--uui-size-space-2) var(--uui-size-space-4);\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tmargin: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.block-list {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t}\r\n\r\n\t\t\t.block-item {\r\n\t\t\t\tpadding: var(--uui-size-space-3) var(--uui-size-space-4);\r\n\t\t\t\tpadding-left: var(--uui-size-space-6);\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-border);\r\n\t\t\t}\r\n\r\n\t\t\t.block-item:last-child {\r\n\t\t\t\tborder-bottom: none;\r\n\t\t\t}\r\n\r\n\t\t\t.block-header {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t}\r\n\r\n\t\t\t.block-label {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\r\n\t\t\t.block-identify {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tfont-style: italic;\r\n\t\t\t}\r\n\r\n\t\t\t.block-properties {\r\n\t\t\t\tmargin-top: var(--uui-size-space-2);\r\n\t\t\t\tpadding-left: var(--uui-size-space-5);\r\n\t\t\t}\r\n\r\n\t\t\t.block-property {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t\tpadding: var(--uui-size-space-1) 0;\r\n\t\t\t}\r\n\r\n\t\t\t.block-property-label {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t}\r\n\r\n\t\t\t.accepts-formats {\r\n\t\t\t\tfont-size: 11px;\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t}\r\n\r\n\t\t\t.map-button {\r\n\t\t\t\tmargin-left: auto;\r\n\t\t\t\t--uui-button-font-size: var(--uui-type-small-size);\r\n\t\t\t}\r\n\r\n\t\t\t.page-box {\r\n\t\t\t\tmargin: var(--uui-size-space-4);\r\n\t\t\t}\r\n\r\n\t\t\t/* Info boxes row (matching Source tab pattern) */\r\n\t\t\t.info-boxes {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tgap: var(--uui-size-space-4);\r\n\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\tpadding: var(--uui-size-space-4);\r\n\t\t\t}\r\n\r\n\t\t\t.info-box-item {\r\n\t\t\t\tflex: 1;\r\n\t\t\t}\r\n\r\n\t\t\t.box-content {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t\tmin-height: 180px;\r\n\t\t\t}\r\n\r\n\t\t\t.box-buttons {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t\tmargin-top: auto;\r\n\t\t\t\tpadding-top: var(--uui-size-space-2);\r\n\t\t\t}\r\n\r\n\t\t\t.box-icon {\r\n\t\t\t\tfont-size: 48px;\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tmargin-top: var(--uui-size-space-3);\r\n\t\t\t}\r\n\r\n\t\t\t.box-stat {\r\n\t\t\t\tfont-size: var(--uui-type-h4-size);\r\n\t\t\t\tfont-weight: 700;\r\n\t\t\t\tcolor: var(--uui-color-text);\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t}\r\n\r\n\t\t\t.box-filename {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tfont-size: var(--uui-type-default-size) !important;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\tmax-width: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t.box-sub {\r\n\t\t\t\tfont-size: 11px;\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UpDocWorkflowDestinationViewElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'up-doc-workflow-destination-view': UpDocWorkflowDestinationViewElement;\r\n\t}\r\n}\r\n"],"names":["_workflowAlias","_UpDocWorkflowDestinationViewElement_instances","loadConfig_fn","fetchDocumentTypeOptions_fn","handleChangeDocumentType_fn","handleChangeBlueprint_fn","getTabs_fn","renderFieldsForTab_fn","renderField_fn","renderBlockContainersForTab_fn","renderBlockGrid_fn","getFieldsCount_fn","getBlocksCount_fn","renderInfoBoxes_fn","renderTabContent_fn","UpDocWorkflowDestinationViewElement","UmbLitElement","__privateAdd","UMB_WORKSPACE_CONTEXT","context","unique","__privateSet","__privateMethod","__privateGet","html","tabs","tab","workflowAlias","token","UMB_AUTH_CONTEXT","fetchWorkflowByAlias","err","docTypesResponse","docTypes","options","aliasMap","dt","bpResponse","blueprints","bp","selection","umbOpenModal","UMB_BLUEPRINT_PICKER_MODAL","blueprintUnique","documentTypeUnique","selectedDocType","selectedBlueprint","docTypeAlias","changeWorkflowDestination","dest","currentDocTypeAlias","currentDocTypeUnique","alias","currentDocType","getDestinationTabs","tabName","nothing","fields","f","field","tabId","containers","getAllBlockContainers","c","container","grid","block","prop","sum","hasContainers","UmbTextStyles","css","__decorateClass","state","customElement","UpDocWorkflowDestinationViewElement_default"],"mappings":"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"}
{"version":3,"file":"up-doc-workflow-detail-modal.element-B4r_RYLU.js","sources":["../src/up-doc-workflow-detail-modal.element.ts"],"sourcesContent":["import type { UmbWorkflowDetailModalData, UmbWorkflowDetailModalValue } from './up-doc-workflow-detail-modal.token.js';\r\nimport type { DocumentTypeConfig, DestinationField, DestinationBlockGrid, SourceConfig, SourceSection } from './workflow.types.js';\r\nimport { fetchWorkflowByAlias } from './workflow.service.js';\r\nimport { getAllBlockContainers } from './destination-utils.js';\r\nimport { html, customElement, css, state, nothing } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { UmbModalBaseElement } from '@umbraco-cms/backoffice/modal';\r\nimport { UMB_AUTH_CONTEXT } from '@umbraco-cms/backoffice/auth';\r\n\r\n@customElement('up-doc-workflow-detail-modal')\r\nexport class UpDocWorkflowDetailModalElement extends UmbModalBaseElement<\r\n\tUmbWorkflowDetailModalData,\r\n\tUmbWorkflowDetailModalValue\r\n> {\r\n\t@state() private _config: DocumentTypeConfig | null = null;\r\n\t@state() private _loading = true;\r\n\t@state() private _error: string | null = null;\r\n\t@state() private _activeTab = 'destination';\r\n\t@state() private _activeDestinationTab = 'page-properties';\r\n\r\n\toverride async firstUpdated() {\r\n\t\tawait this.#loadConfig();\r\n\t}\r\n\r\n\tasync #loadConfig() {\r\n\t\tthis._loading = true;\r\n\t\tthis._error = null;\r\n\r\n\t\ttry {\r\n\t\t\tconst workflowAlias = this.data?.workflowAlias;\r\n\t\t\tif (!workflowAlias) {\r\n\t\t\t\tthis._error = 'No workflow name provided';\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst authContext = await this.getContext(UMB_AUTH_CONTEXT);\r\n\t\t\tconst token = await authContext.getLatestToken();\r\n\t\t\tthis._config = await fetchWorkflowByAlias(workflowAlias, token);\r\n\r\n\t\t\tif (!this._config) {\r\n\t\t\t\tthis._error = `Workflow \"${workflowAlias}\" not found`;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Select first top-level tab\r\n\t\t\tconst tabs = this.#getTopTabs();\r\n\t\t\tif (tabs.length > 0) {\r\n\t\t\t\tthis._activeTab = tabs[0].id;\r\n\t\t\t}\r\n\r\n\t\t\t// Select first inner destination tab\r\n\t\t\tconst destTabs = this.#getDestinationTabs();\r\n\t\t\tif (destTabs.length > 0) {\r\n\t\t\t\tthis._activeDestinationTab = destTabs[0].id;\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tthis._error = err instanceof Error ? err.message : 'Failed to load workflow';\r\n\t\t\tconsole.error('Failed to load workflow config:', err);\r\n\t\t} finally {\r\n\t\t\tthis._loading = false;\r\n\t\t}\r\n\t}\r\n\r\n\t/** Top-level tabs: Destination + one per source type */\r\n\t#getTopTabs(): Array<{ id: string; label: string; icon: string }> {\r\n\t\tif (!this._config) return [];\r\n\r\n\t\tconst tabs: Array<{ id: string; label: string; icon: string }> = [\r\n\t\t\t{ id: 'destination', label: 'Destination', icon: 'icon-blueprint' },\r\n\t\t];\r\n\r\n\t\tfor (const sourceType of Object.keys(this._config.sources)) {\r\n\t\t\ttabs.push({\r\n\t\t\t\tid: `source-${sourceType}`,\r\n\t\t\t\tlabel: sourceType.charAt(0).toUpperCase() + sourceType.slice(1),\r\n\t\t\t\ticon: sourceType === 'pdf' ? 'icon-document' : sourceType === 'markdown' ? 'icon-code' : 'icon-globe',\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn tabs;\r\n\t}\r\n\r\n\t/** Inner tabs within the Destination top tab, derived from the document type's tab groupings */\r\n\t#getDestinationTabs(): Array<{ id: string; label: string }> {\r\n\t\tif (!this._config) return [];\r\n\r\n\t\tconst tabs: Array<{ id: string; label: string }> = [];\r\n\t\tconst tabNames = new Set(this._config.destination.fields.map((f) => f.tab).filter(Boolean));\r\n\r\n\t\tfor (const tabName of tabNames) {\r\n\t\t\ttabs.push({\r\n\t\t\t\tid: tabName!.toLowerCase().replace(/\\s+/g, '-'),\r\n\t\t\t\tlabel: tabName!,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfor (const container of getAllBlockContainers(this._config.destination)) {\r\n\t\t\tconst containerTab = container.tab ?? 'Page Content';\r\n\t\t\tif (!tabNames.has(containerTab)) {\r\n\t\t\t\ttabNames.add(containerTab);\r\n\t\t\t\ttabs.push({\r\n\t\t\t\t\tid: containerTab.toLowerCase().replace(/\\s+/g, '-'),\r\n\t\t\t\t\tlabel: containerTab,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn tabs;\r\n\t}\r\n\r\n\t#handleClose() {\r\n\t\tthis._rejectModal();\r\n\t}\r\n\r\n\t// =========================================================================\r\n\t// Destination rendering — Info Boxes\r\n\t// =========================================================================\r\n\r\n\t#getFieldsCount(): number {\r\n\t\tif (!this._config) return 0;\r\n\t\treturn this._config.destination.fields.length;\r\n\t}\r\n\r\n\t#getBlocksCount(): number {\r\n\t\tif (!this._config) return 0;\r\n\t\treturn getAllBlockContainers(this._config.destination)\r\n\t\t\t.reduce((sum, container) => sum + container.blocks.length, 0);\r\n\t}\r\n\r\n\t#renderDestinationInfoBoxes() {\r\n\t\tif (!this._config) return nothing;\r\n\t\tconst dest = this._config.destination;\r\n\r\n\t\treturn html`\r\n\t\t\t<div class=\"dest-info-boxes\">\r\n\t\t\t\t<div class=\"dest-info-box\">\r\n\t\t\t\t\t<div class=\"dest-info-box-header\">Blueprint</div>\r\n\t\t\t\t\t<umb-icon class=\"dest-info-box-icon\" name=\"icon-blueprint\"></umb-icon>\r\n\t\t\t\t\t<div class=\"dest-info-box-value\">${dest.blueprintName ?? '—'}</div>\r\n\t\t\t\t\t<div class=\"dest-info-box-sub\">&nbsp;</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"dest-info-box\">\r\n\t\t\t\t\t<div class=\"dest-info-box-header\">Document Type</div>\r\n\t\t\t\t\t<umb-icon class=\"dest-info-box-icon\" name=\"icon-document-dashed-line\"></umb-icon>\r\n\t\t\t\t\t<div class=\"dest-info-box-value\">${dest.documentTypeName ?? dest.documentTypeAlias}</div>\r\n\t\t\t\t\t<div class=\"dest-info-box-sub\">${dest.documentTypeAlias}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"dest-info-box\">\r\n\t\t\t\t\t<div class=\"dest-info-box-header\">Fields</div>\r\n\t\t\t\t\t<umb-icon class=\"dest-info-box-icon\" name=\"icon-layers\"></umb-icon>\r\n\t\t\t\t\t<div class=\"dest-info-box-number\">${this.#getFieldsCount()}</div>\r\n\t\t\t\t\t<div class=\"dest-info-box-sub\">text-mappable</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"dest-info-box\">\r\n\t\t\t\t\t<div class=\"dest-info-box-header\">Blocks</div>\r\n\t\t\t\t\t<umb-icon class=\"dest-info-box-icon\" name=\"icon-box\"></umb-icon>\r\n\t\t\t\t\t<div class=\"dest-info-box-number\">${this.#getBlocksCount()}</div>\r\n\t\t\t\t\t<div class=\"dest-info-box-sub\">in blueprint</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t// =========================================================================\r\n\t// Destination rendering — Page Properties\r\n\t// =========================================================================\r\n\r\n\t#renderFieldsForTab(tabName: string) {\r\n\t\tif (!this._config) return nothing;\r\n\r\n\t\tconst fields = this._config.destination.fields.filter((f) => f.tab === tabName);\r\n\t\tif (fields.length === 0) return html`<p class=\"empty-message\">No fields in this tab.</p>`;\r\n\r\n\t\treturn html`\r\n\t\t\t<div class=\"field-list\">\r\n\t\t\t\t${fields.map((field) => this.#renderField(field))}\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderField(field: DestinationField) {\r\n\t\treturn html`\r\n\t\t\t<div class=\"field-item\">\r\n\t\t\t\t<div class=\"field-header\">\r\n\t\t\t\t\t<span class=\"field-label\">${field.label}</span>\r\n\t\t\t\t\t<span class=\"field-type\">${field.type}</span>\r\n\t\t\t\t\t${field.mandatory ? html`<uui-tag look=\"primary\" color=\"danger\" class=\"field-badge\">Required</uui-tag>` : nothing}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"field-meta\">\r\n\t\t\t\t\t<span class=\"field-alias\">${field.alias}</span>\r\n\t\t\t\t\t${field.description ? html`<span class=\"field-description\">${field.description}</span>` : nothing}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t// =========================================================================\r\n\t// Destination rendering — Block Containers (Grids + Lists)\r\n\t// =========================================================================\r\n\r\n\t#renderBlockContainersForTab(tabId: string) {\r\n\t\tif (!this._config) return nothing;\r\n\r\n\t\tconst containers = getAllBlockContainers(this._config.destination).filter((c) => {\r\n\t\t\tconst cTab = c.tab ?? 'Page Content';\r\n\t\t\treturn cTab.toLowerCase().replace(/\\s+/g, '-') === tabId;\r\n\t\t});\r\n\r\n\t\tif (!containers.length) {\r\n\t\t\treturn html`<p class=\"empty-message\">No blocks configured.</p>`;\r\n\t\t}\r\n\r\n\t\treturn html`\r\n\t\t\t${containers.map((container) => this.#renderBlockGrid(container))}\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderBlockGrid(grid: DestinationBlockGrid) {\r\n\t\treturn html`\r\n\t\t\t<div class=\"block-grid\">\r\n\t\t\t\t<div class=\"block-grid-header\">\r\n\t\t\t\t\t<span class=\"block-grid-label\">${grid.label}</span>\r\n\t\t\t\t\t<span class=\"field-alias\">${grid.alias}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t${grid.description ? html`<p class=\"block-grid-description\">${grid.description}</p>` : nothing}\r\n\t\t\t\t<div class=\"block-list\">\r\n\t\t\t\t\t${grid.blocks.map(\r\n\t\t\t\t\t\t(block) => html`\r\n\t\t\t\t\t\t\t<div class=\"block-item\">\r\n\t\t\t\t\t\t\t\t<div class=\"block-header\">\r\n\t\t\t\t\t\t\t\t\t<umb-icon name=\"icon-box\"></umb-icon>\r\n\t\t\t\t\t\t\t\t\t<span class=\"block-label\">${block.label}</span>\r\n\t\t\t\t\t\t\t\t\t${block.identifyBy\r\n\t\t\t\t\t\t\t\t\t\t? html`<span class=\"block-identify\">identified by: \"${block.identifyBy.value}\"</span>`\r\n\t\t\t\t\t\t\t\t\t\t: nothing}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t${block.properties?.length\r\n\t\t\t\t\t\t\t\t\t? html`\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"block-properties\">\r\n\t\t\t\t\t\t\t\t\t\t\t${block.properties.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(prop) => html`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-property\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"block-property-label\">${prop.label || prop.alias}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"field-type\">${prop.type}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${prop.acceptsFormats?.length\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? html`<span class=\"accepts-formats\">${prop.acceptsFormats.join(', ')}</span>`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: nothing}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t`\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t`\r\n\t\t\t\t\t\t\t\t\t: nothing}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t`\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t// =========================================================================\r\n\t// Source rendering\r\n\t// =========================================================================\r\n\r\n\t#renderSourceSections(sourceConfig: SourceConfig) {\r\n\t\tif (!sourceConfig.sections.length) {\r\n\t\t\treturn html`<p class=\"empty-message\">No extraction sections configured.</p>`;\r\n\t\t}\r\n\r\n\t\treturn html`\r\n\t\t\t${sourceConfig.globals?.columnDetection\r\n\t\t\t\t? html`\r\n\t\t\t\t\t<div class=\"source-globals\">\r\n\t\t\t\t\t\t<span class=\"globals-label\">Column Detection:</span>\r\n\t\t\t\t\t\t<span>${sourceConfig.globals.columnDetection.enabled ? 'Enabled' : 'Disabled'}\r\n\t\t\t\t\t\t\t${sourceConfig.globals.columnDetection.enabled\r\n\t\t\t\t\t\t\t\t? `(threshold: ${(sourceConfig.globals.columnDetection.thresholdPercent * 100).toFixed(0)}%)`\r\n\t\t\t\t\t\t\t\t: ''}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t`\r\n\t\t\t\t: nothing}\r\n\t\t\t<div class=\"section-list\">\r\n\t\t\t\t${sourceConfig.sections.map((section) => this.#renderSourceSection(section))}\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderSourceSection(section: SourceSection) {\r\n\t\treturn html`\r\n\t\t\t<div class=\"section-item\">\r\n\t\t\t\t<div class=\"section-header\">\r\n\t\t\t\t\t<span class=\"section-label\">${section.label}</span>\r\n\t\t\t\t\t<span class=\"section-strategy\">${section.strategy}</span>\r\n\t\t\t\t\t${section.required ? html`<uui-tag look=\"primary\" color=\"danger\" class=\"field-badge\">Required</uui-tag>` : nothing}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"section-meta\">\r\n\t\t\t\t\t<span class=\"field-alias\">${section.key}</span>\r\n\t\t\t\t\t<span class=\"section-output\">${section.outputFormat}</span>\r\n\t\t\t\t\t${section.pages ? html`<span class=\"section-pages\">pages: ${Array.isArray(section.pages) ? section.pages.join(', ') : section.pages}</span>` : nothing}\r\n\t\t\t\t</div>\r\n\t\t\t\t${section.description ? html`<p class=\"section-description\">${section.description}</p>` : nothing}\r\n\t\t\t\t${section.strategyParams ? this.#renderStrategyParams(section.strategy, section.strategyParams) : nothing}\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderStrategyParams(strategy: string, params: Record<string, unknown>) {\r\n\t\tconst entries = Object.entries(params).filter(([, v]) => v !== undefined && v !== null);\r\n\t\tif (entries.length === 0) return nothing;\r\n\r\n\t\treturn html`\r\n\t\t\t<div class=\"strategy-params\">\r\n\t\t\t\t${entries.map(\r\n\t\t\t\t\t([key, value]) => html`\r\n\t\t\t\t\t\t<span class=\"param\">\r\n\t\t\t\t\t\t\t<span class=\"param-key\">${key}:</span>\r\n\t\t\t\t\t\t\t<span class=\"param-value\">${Array.isArray(value) ? value.join(', ') : String(value)}</span>\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t`\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t// =========================================================================\r\n\t// Tab content routing\r\n\t// =========================================================================\r\n\r\n\t#renderTabContent() {\r\n\t\tif (!this._config) return nothing;\r\n\r\n\t\t// Destination tab — render inner tabs\r\n\t\tif (this._activeTab === 'destination') {\r\n\t\t\treturn this.#renderDestinationContent();\r\n\t\t}\r\n\r\n\t\t// Source tabs\r\n\t\tif (this._activeTab.startsWith('source-')) {\r\n\t\t\tconst sourceType = this._activeTab.replace('source-', '');\r\n\t\t\tconst sourceConfig = this._config.sources[sourceType];\r\n\t\t\tif (sourceConfig) {\r\n\t\t\t\treturn this.#renderSourceSections(sourceConfig);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn html`<p class=\"empty-message\">Select a tab to view its contents.</p>`;\r\n\t}\r\n\r\n\t#renderDestinationContent() {\r\n\t\tconst innerTabs = this.#getDestinationTabs();\r\n\r\n\t\treturn html`\r\n\t\t\t<div class=\"inner-tab-group\">\r\n\t\t\t\t${innerTabs.map(\r\n\t\t\t\t\t(tab) => html`\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclass=\"inner-tab ${this._activeDestinationTab === tab.id ? 'active' : ''}\"\r\n\t\t\t\t\t\t\t@click=${() => { this._activeDestinationTab = tab.id; }}>\r\n\t\t\t\t\t\t\t${tab.label}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t`\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t${this.#renderDestinationInfoBoxes()}\r\n\t\t\t<div class=\"inner-tab-content\">\r\n\t\t\t\t${this.#renderDestinationTabContent()}\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderDestinationTabContent() {\r\n\t\tif (!this._config) return nothing;\r\n\r\n\t\tconst tabName = this._config.destination.fields.find(\r\n\t\t\t(f) => f.tab && f.tab.toLowerCase().replace(/\\s+/g, '-') === this._activeDestinationTab\r\n\t\t)?.tab;\r\n\r\n\t\tconst hasContainers = getAllBlockContainers(this._config.destination).some((c) => {\r\n\t\t\tconst cTab = c.tab ?? 'Page Content';\r\n\t\t\treturn cTab.toLowerCase().replace(/\\s+/g, '-') === this._activeDestinationTab;\r\n\t\t});\r\n\r\n\t\treturn html`\r\n\t\t\t${tabName ? this.#renderFieldsForTab(tabName) : nothing}\r\n\t\t\t${hasContainers ? this.#renderBlockContainersForTab(this._activeDestinationTab) : nothing}\r\n\t\t`;\r\n\t}\r\n\r\n\t// =========================================================================\r\n\t// Main render\r\n\t// =========================================================================\r\n\r\n\toverride render() {\r\n\t\tif (this._loading) {\r\n\t\t\treturn html`\r\n\t\t\t\t<umb-body-layout headline=${this.data?.workflowAlias ?? 'Workflow'}>\r\n\t\t\t\t\t<div class=\"loading\"><uui-loader-bar></uui-loader-bar></div>\r\n\t\t\t\t</umb-body-layout>\r\n\t\t\t`;\r\n\t\t}\r\n\r\n\t\tif (this._error) {\r\n\t\t\treturn html`\r\n\t\t\t\t<umb-body-layout headline=${this.data?.workflowAlias ?? 'Workflow'}>\r\n\t\t\t\t\t<p style=\"color: var(--uui-color-danger);\">${this._error}</p>\r\n\t\t\t\t\t<div slot=\"actions\">\r\n\t\t\t\t\t\t<uui-button label=\"Close\" @click=${this.#handleClose}></uui-button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</umb-body-layout>\r\n\t\t\t`;\r\n\t\t}\r\n\r\n\t\tconst tabs = this.#getTopTabs();\r\n\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout headline=${this.data?.workflowAlias ?? 'Workflow'}>\r\n\t\t\t\t<uui-tab-group slot=\"navigation\">\r\n\t\t\t\t\t${tabs.map(\r\n\t\t\t\t\t\t(tab) => html`\r\n\t\t\t\t\t\t\t<uui-tab\r\n\t\t\t\t\t\t\t\tlabel=${tab.label}\r\n\t\t\t\t\t\t\t\t?active=${this._activeTab === tab.id}\r\n\t\t\t\t\t\t\t\t@click=${() => { this._activeTab = tab.id; }}>\r\n\t\t\t\t\t\t\t\t<uui-icon slot=\"icon\" name=${tab.icon}></uui-icon>\r\n\t\t\t\t\t\t\t\t${tab.label}\r\n\t\t\t\t\t\t\t</uui-tab>\r\n\t\t\t\t\t\t`\r\n\t\t\t\t\t)}\r\n\t\t\t\t</uui-tab-group>\r\n\r\n\t\t\t\t<div class=\"tab-content\">\r\n\t\t\t\t\t${this.#renderTabContent()}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<uui-button\r\n\t\t\t\t\tslot=\"actions\"\r\n\t\t\t\t\tlabel=\"Close\"\r\n\t\t\t\t\t@click=${this.#handleClose}></uui-button>\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t/* Tab content area */\r\n\t\t\t.tab-content {\r\n\t\t\t\tpadding: var(--uui-size-space-1) 0;\r\n\t\t\t}\r\n\r\n\t\t\t/* Inner destination tabs (content-area style) */\r\n\t\t\t.inner-tab-group {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tgap: 0;\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-border);\r\n\t\t\t\tmargin-bottom: var(--uui-size-space-4);\r\n\t\t\t}\r\n\r\n\t\t\t.inner-tab {\r\n\t\t\t\tall: unset;\r\n\t\t\t\tpadding: var(--uui-size-space-3) var(--uui-size-space-5);\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\tfont-size: var(--uui-type-default-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tborder-bottom: 2px solid transparent;\r\n\t\t\t\ttransition: color 120ms, border-color 120ms;\r\n\t\t\t}\r\n\r\n\t\t\t.inner-tab:hover {\r\n\t\t\t\tcolor: var(--uui-color-text);\r\n\t\t\t}\r\n\r\n\t\t\t.inner-tab.active {\r\n\t\t\t\tcolor: var(--uui-color-text);\r\n\t\t\t\tborder-bottom-color: var(--uui-color-current);\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\r\n\t\t\t.inner-tab-content {\r\n\t\t\t\tmin-height: 100px;\r\n\t\t\t}\r\n\r\n\t\t\t.loading {\r\n\t\t\t\tpadding: var(--uui-size-layout-1);\r\n\t\t\t}\r\n\r\n\t\t\t.empty-message {\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tfont-style: italic;\r\n\t\t\t}\r\n\r\n\t\t\t/* Field list (Page Properties) */\r\n\t\t\t.field-list {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tgap: var(--uui-size-space-1);\r\n\t\t\t}\r\n\r\n\t\t\t.field-item {\r\n\t\t\t\tpadding: var(--uui-size-space-3) var(--uui-size-space-4);\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-border);\r\n\t\t\t}\r\n\r\n\t\t\t.field-item:last-child {\r\n\t\t\t\tborder-bottom: none;\r\n\t\t\t}\r\n\r\n\t\t\t.field-header {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-space-3);\r\n\t\t\t}\r\n\r\n\t\t\t.field-label {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\r\n\t\t\t.field-type {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tbackground: var(--uui-color-surface-alt);\r\n\t\t\t\tpadding: 2px 8px;\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t}\r\n\r\n\t\t\t.field-badge {\r\n\t\t\t\tfont-size: 11px;\r\n\t\t\t}\r\n\r\n\t\t\t.field-meta {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tgap: var(--uui-size-space-3);\r\n\t\t\t\tmargin-top: var(--uui-size-space-1);\r\n\t\t\t}\r\n\r\n\t\t\t.field-alias {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tfont-family: monospace;\r\n\t\t\t}\r\n\r\n\t\t\t.field-description {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t}\r\n\r\n\t\t\t/* Block grid (Page Content) */\r\n\t\t\t.block-grid {\r\n\t\t\t\tmargin-bottom: var(--uui-size-space-5);\r\n\t\t\t}\r\n\r\n\t\t\t.block-grid-header {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-space-3);\r\n\t\t\t\tpadding: var(--uui-size-space-3) var(--uui-size-space-4);\r\n\t\t\t\tbackground: var(--uui-color-surface-alt);\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-border);\r\n\t\t\t}\r\n\r\n\t\t\t.block-grid-label {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\r\n\t\t\t.block-grid-description {\r\n\t\t\t\tpadding: var(--uui-size-space-2) var(--uui-size-space-4);\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tmargin: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.block-list {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t}\r\n\r\n\t\t\t.block-item {\r\n\t\t\t\tpadding: var(--uui-size-space-3) var(--uui-size-space-4);\r\n\t\t\t\tpadding-left: var(--uui-size-space-6);\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-border);\r\n\t\t\t}\r\n\r\n\t\t\t.block-item:last-child {\r\n\t\t\t\tborder-bottom: none;\r\n\t\t\t}\r\n\r\n\t\t\t.block-header {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t}\r\n\r\n\t\t\t.block-label {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\r\n\t\t\t.block-identify {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tfont-style: italic;\r\n\t\t\t}\r\n\r\n\t\t\t.block-properties {\r\n\t\t\t\tmargin-top: var(--uui-size-space-2);\r\n\t\t\t\tpadding-left: var(--uui-size-space-5);\r\n\t\t\t}\r\n\r\n\t\t\t.block-property {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t\tpadding: var(--uui-size-space-1) 0;\r\n\t\t\t}\r\n\r\n\t\t\t.block-property-label {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t}\r\n\r\n\t\t\t.accepts-formats {\r\n\t\t\t\tfont-size: 11px;\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t}\r\n\r\n\t\t\t/* Source sections */\r\n\t\t\t.source-globals {\r\n\t\t\t\tpadding: var(--uui-size-space-3) var(--uui-size-space-4);\r\n\t\t\t\tbackground: var(--uui-color-surface-alt);\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-border);\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t}\r\n\r\n\t\t\t.globals-label {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\r\n\t\t\t.section-list {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t}\r\n\r\n\t\t\t.section-item {\r\n\t\t\t\tpadding: var(--uui-size-space-3) var(--uui-size-space-4);\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-border);\r\n\t\t\t}\r\n\r\n\t\t\t.section-item:last-child {\r\n\t\t\t\tborder-bottom: none;\r\n\t\t\t}\r\n\r\n\t\t\t.section-header {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-space-3);\r\n\t\t\t}\r\n\r\n\t\t\t.section-label {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\r\n\t\t\t.section-strategy {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tbackground: var(--uui-color-surface-alt);\r\n\t\t\t\tpadding: 2px 8px;\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t}\r\n\r\n\t\t\t.section-meta {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tgap: var(--uui-size-space-3);\r\n\t\t\t\tmargin-top: var(--uui-size-space-1);\r\n\t\t\t}\r\n\r\n\t\t\t.section-output {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t}\r\n\r\n\t\t\t.section-pages {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t}\r\n\r\n\t\t\t.section-description {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tmargin: var(--uui-size-space-1) 0 0 0;\r\n\t\t\t}\r\n\r\n\t\t\t.strategy-params {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t\tmargin-top: var(--uui-size-space-2);\r\n\t\t\t\tpadding: var(--uui-size-space-2);\r\n\t\t\t\tbackground: var(--uui-color-surface-alt);\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t\tfont-size: 12px;\r\n\t\t\t\tfont-family: monospace;\r\n\t\t\t}\r\n\r\n\t\t\t.param {\r\n\t\t\t\tdisplay: inline-flex;\r\n\t\t\t\tgap: 4px;\r\n\t\t\t}\r\n\r\n\t\t\t.param-key {\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t}\r\n\r\n\t\t\t.param-value {\r\n\t\t\t\tcolor: var(--uui-color-text);\r\n\t\t\t\tword-break: break-all;\r\n\t\t\t}\r\n\r\n\t\t\t/* Destination info boxes */\r\n\t\t\t.dest-info-boxes {\r\n\t\t\t\tdisplay: grid;\r\n\t\t\t\tgrid-template-columns: repeat(4, 1fr);\r\n\t\t\t\tmargin: var(--uui-size-space-4);\r\n\t\t\t\tborder: 1px solid var(--uui-color-border);\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t}\r\n\r\n\t\t\t.dest-info-box {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tpadding: var(--uui-size-space-5) var(--uui-size-space-4) var(--uui-size-space-4);\r\n\t\t\t\tborder-right: 1px solid var(--uui-color-border);\r\n\t\t\t}\r\n\r\n\t\t\t.dest-info-box:last-child {\r\n\t\t\t\tborder-right: none;\r\n\t\t\t}\r\n\r\n\t\t\t.dest-info-box-header {\r\n\t\t\t\tfont-size: 11px;\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\ttext-transform: uppercase;\r\n\t\t\t\tletter-spacing: 0.5px;\r\n\t\t\t\tmargin-bottom: var(--uui-size-space-3);\r\n\t\t\t\talign-self: flex-start;\r\n\t\t\t}\r\n\r\n\t\t\t.dest-info-box-icon {\r\n\t\t\t\tfont-size: 32px;\r\n\t\t\t\tcolor: var(--uui-color-border-emphasis);\r\n\t\t\t\tmargin-bottom: var(--uui-size-space-3);\r\n\t\t\t}\r\n\r\n\t\t\t.dest-info-box-value {\r\n\t\t\t\tfont-size: var(--uui-type-default-size);\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tcolor: var(--uui-color-text);\r\n\t\t\t\ttext-align: center;\r\n\t\t\t}\r\n\r\n\t\t\t.dest-info-box-number {\r\n\t\t\t\tfont-size: 28px;\r\n\t\t\t\tfont-weight: 700;\r\n\t\t\t\tcolor: var(--uui-color-text);\r\n\t\t\t}\r\n\r\n\t\t\t.dest-info-box-sub {\r\n\t\t\t\tfont-size: 11px;\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tmargin-top: var(--uui-size-space-1);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UpDocWorkflowDetailModalElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'up-doc-workflow-detail-modal': UpDocWorkflowDetailModalElement;\r\n\t}\r\n}\r\n"],"names":["_UpDocWorkflowDetailModalElement_instances","loadConfig_fn","getTopTabs_fn","getDestinationTabs_fn","handleClose_fn","getFieldsCount_fn","getBlocksCount_fn","renderDestinationInfoBoxes_fn","renderFieldsForTab_fn","renderField_fn","renderBlockContainersForTab_fn","renderBlockGrid_fn","renderSourceSections_fn","renderSourceSection_fn","renderStrategyParams_fn","renderTabContent_fn","renderDestinationContent_fn","renderDestinationTabContent_fn","UpDocWorkflowDetailModalElement","UmbModalBaseElement","__privateAdd","__privateMethod","html","tabs","tab","workflowAlias","token","UMB_AUTH_CONTEXT","fetchWorkflowByAlias","destTabs","err","sourceType","tabNames","f","tabName","container","getAllBlockContainers","containerTab","sum","nothing","dest","fields","field","tabId","containers","c","grid","block","prop","sourceConfig","section","strategy","params","entries","v","key","value","innerTabs","hasContainers","UmbTextStyles","css","__decorateClass","state","customElement","UpDocWorkflowDetailModalElement_default"],"mappings":"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A;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0UD;AAzvBiBC,EAAA;AAAA,EAAhBC,EAAA;AAAM,GAJK5C,EAIK,WAAA,WAAA,CAAA;AACA2C,EAAA;AAAA,EAAhBC,EAAA;AAAM,GALK5C,EAKK,WAAA,YAAA,CAAA;AACA2C,EAAA;AAAA,EAAhBC,EAAA;AAAM,GANK5C,EAMK,WAAA,UAAA,CAAA;AACA2C,EAAA;AAAA,EAAhBC,EAAA;AAAM,GAPK5C,EAOK,WAAA,cAAA,CAAA;AACA2C,EAAA;AAAA,EAAhBC,EAAA;AAAM,GARK5C,EAQK,WAAA,yBAAA,CAAA;AARLA,IAAN2C,EAAA;AAAA,EADNE,EAAc,8BAA8B;AAAA,GAChC7C,CAAA;AAgwBb,MAAA8C,IAAe9C;"}
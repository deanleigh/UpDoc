{"version":3,"file":"up-doc-save.action-DGb0pvq-.js","sources":["../src/up-doc-save.action.ts"],"sourcesContent":["import { UmbWorkspaceActionBase, UMB_WORKSPACE_CONTEXT } from '@umbraco-cms/backoffice/workspace';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport type { UmbWorkspaceActionArgs } from '@umbraco-cms/backoffice/workspace';\r\nimport type { UpDocWorkflowWorkspaceContext } from './up-doc-workflow-workspace.context.js';\r\n\r\nexport class UpDocSaveAction extends UmbWorkspaceActionBase {\r\n\t#retrieveContext: Promise<unknown>;\r\n\t#workspaceContext?: UpDocWorkflowWorkspaceContext;\r\n\r\n\tconstructor(host: UmbControllerHost, args: UmbWorkspaceActionArgs) {\r\n\t\tsuper(host, args);\r\n\t\tthis.#retrieveContext = this.consumeContext(UMB_WORKSPACE_CONTEXT, (context) => {\r\n\t\t\tthis.#workspaceContext = context as UpDocWorkflowWorkspaceContext;\r\n\t\t}).asPromise();\r\n\t}\r\n\r\n\toverride async execute() {\r\n\t\tawait this.#retrieveContext;\r\n\t\tawait this.#workspaceContext?.save();\r\n\t}\r\n}\r\n\r\nexport { UpDocSaveAction as api };\r\n"],"names":["UpDocSaveAction","UmbWorkspaceActionBase","#retrieveContext","#workspaceContext","host","args","UMB_WORKSPACE_CONTEXT","context"],"mappings":";AAKO,MAAMA,UAAwBC,EAAuB;AAAA,EAC3DC;AAAA,EACAC;AAAA,EAEA,YAAYC,GAAyBC,GAA8B;AAClE,UAAMD,GAAMC,CAAI,GAChB,KAAKH,KAAmB,KAAK,eAAeI,GAAuB,CAACC,MAAY;AAC/E,WAAKJ,KAAoBI;AAAA,IAC1B,CAAC,EAAE,UAAA;AAAA,EACJ;AAAA,EAEA,MAAe,UAAU;AACxB,UAAM,KAAKL,IACX,MAAM,KAAKC,IAAmB,KAAA;AAAA,EAC/B;AACD;"}
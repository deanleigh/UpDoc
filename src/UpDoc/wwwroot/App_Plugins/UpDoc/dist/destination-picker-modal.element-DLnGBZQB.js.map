{"version":3,"file":"destination-picker-modal.element-DLnGBZQB.js","sources":["../src/destination-picker-modal.element.ts"],"sourcesContent":["import type { DestinationConfig, DestinationField, DestinationBlockGrid } from './workflow.types.js';\r\nimport type { DestinationPickerModalData, DestinationPickerModalValue } from './destination-picker-modal.token.js';\r\nimport { html, css, state, nothing, customElement } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbModalBaseElement } from '@umbraco-cms/backoffice/modal';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\n\r\n@customElement('up-doc-destination-picker-modal')\r\nexport class UpDocDestinationPickerModalElement extends UmbModalBaseElement<\r\n\tDestinationPickerModalData,\r\n\tDestinationPickerModalValue\r\n> {\r\n\t@state() private _activeTab = '';\r\n\t@state() private _selectedTargets = new Set<string>();\r\n\r\n\toverride connectedCallback() {\r\n\t\tsuper.connectedCallback();\r\n\t\tconst tabs = this.#getTabs();\r\n\t\tif (tabs.length > 0) {\r\n\t\t\tthis._activeTab = tabs[0].id;\r\n\t\t}\r\n\t}\r\n\r\n\tget #destination(): DestinationConfig | undefined {\r\n\t\treturn this.data?.destination;\r\n\t}\r\n\r\n\t#getTabs(): Array<{ id: string; label: string }> {\r\n\t\tif (!this.#destination) return [];\r\n\r\n\t\tconst tabs: Array<{ id: string; label: string }> = [];\r\n\t\tconst tabNames = new Set(this.#destination.fields.map((f) => f.tab).filter(Boolean));\r\n\r\n\t\tfor (const tabName of tabNames) {\r\n\t\t\ttabs.push({\r\n\t\t\t\tid: tabName!.toLowerCase().replace(/\\s+/g, '-'),\r\n\t\t\t\tlabel: tabName!,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (this.#destination.blockGrids?.length) {\r\n\t\t\tif (!tabNames.has('Page Content')) {\r\n\t\t\t\ttabs.push({ id: 'page-content', label: 'Page Content' });\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn tabs;\r\n\t}\r\n\r\n\t#toggleTarget(alias: string) {\r\n\t\tconst next = new Set(this._selectedTargets);\r\n\t\tif (next.has(alias)) {\r\n\t\t\tnext.delete(alias);\r\n\t\t} else {\r\n\t\t\tnext.add(alias);\r\n\t\t}\r\n\t\tthis._selectedTargets = next;\r\n\t}\r\n\r\n\t#onConfirm() {\r\n\t\tthis.value = { selectedTargets: Array.from(this._selectedTargets) };\r\n\t\tthis.modalContext?.submit();\r\n\t}\r\n\r\n\t#onCancel() {\r\n\t\tthis.modalContext?.reject();\r\n\t}\r\n\r\n\t#renderField(field: DestinationField) {\r\n\t\tconst checked = this._selectedTargets.has(field.alias);\r\n\t\treturn html`\r\n\t\t\t<div class=\"field-item ${checked ? 'field-selected' : ''}\" @click=${() => this.#toggleTarget(field.alias)}>\r\n\t\t\t\t<uui-checkbox\r\n\t\t\t\t\tlabel=\"Select ${field.label}\"\r\n\t\t\t\t\t?checked=${checked}\r\n\t\t\t\t\t@click=${(e: Event) => e.stopPropagation()}\r\n\t\t\t\t\t@change=${() => this.#toggleTarget(field.alias)}>\r\n\t\t\t\t</uui-checkbox>\r\n\t\t\t\t<div class=\"field-info\">\r\n\t\t\t\t\t<span class=\"field-label\">${field.label}</span>\r\n\t\t\t\t\t<span class=\"field-type\">${field.type}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderFieldsForTab(tabName: string) {\r\n\t\tif (!this.#destination) return nothing;\r\n\r\n\t\tconst fields = this.#destination.fields.filter((f) => f.tab === tabName);\r\n\t\tif (fields.length === 0) return html`<p class=\"empty-message\">No fields in this tab.</p>`;\r\n\r\n\t\treturn html`\r\n\t\t\t<div class=\"field-list\">\r\n\t\t\t\t${fields.map((field) => this.#renderField(field))}\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderBlockGrids() {\r\n\t\tif (!this.#destination?.blockGrids?.length) {\r\n\t\t\treturn html`<p class=\"empty-message\">No block grids configured.</p>`;\r\n\t\t}\r\n\r\n\t\treturn html`\r\n\t\t\t${this.#destination.blockGrids.map((grid) => this.#renderBlockGrid(grid))}\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderBlockGrid(grid: DestinationBlockGrid) {\r\n\t\treturn html`\r\n\t\t\t<div class=\"block-grid\">\r\n\t\t\t\t<div class=\"block-grid-header\">\r\n\t\t\t\t\t<span class=\"block-grid-label\">${grid.label}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"block-list\">\r\n\t\t\t\t\t${grid.blocks.map(\r\n\t\t\t\t\t\t(block) => html`\r\n\t\t\t\t\t\t\t<div class=\"block-item\">\r\n\t\t\t\t\t\t\t\t<div class=\"block-header\">\r\n\t\t\t\t\t\t\t\t\t<umb-icon name=\"icon-box\"></umb-icon>\r\n\t\t\t\t\t\t\t\t\t<span class=\"block-label\">${block.label}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t${block.properties?.length\r\n\t\t\t\t\t\t\t\t\t? html`\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"block-properties\">\r\n\t\t\t\t\t\t\t\t\t\t\t${block.properties.map((prop) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst alias = prop.alias;\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst checked = this._selectedTargets.has(alias);\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn html`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-property ${checked ? 'field-selected' : ''}\" @click=${() => this.#toggleTarget(alias)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<uui-checkbox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Select ${prop.label || prop.alias}\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?checked=${checked}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@click=${(e: Event) => e.stopPropagation()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t@change=${() => this.#toggleTarget(alias)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</uui-checkbox>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"block-property-label\">${prop.label || prop.alias}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"field-type\">${prop.type}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t`;\r\n\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t`\r\n\t\t\t\t\t\t\t\t\t: nothing}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t`\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderTabContent() {\r\n\t\tif (!this.#destination) return nothing;\r\n\r\n\t\tif (this._activeTab === 'page-content') {\r\n\t\t\treturn this.#renderBlockGrids();\r\n\t\t}\r\n\r\n\t\tconst tabName = this.#destination.fields.find(\r\n\t\t\t(f) => f.tab && f.tab.toLowerCase().replace(/\\s+/g, '-') === this._activeTab\r\n\t\t)?.tab;\r\n\r\n\t\tif (tabName) {\r\n\t\t\treturn this.#renderFieldsForTab(tabName);\r\n\t\t}\r\n\r\n\t\treturn nothing;\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tconst tabs = this.#getTabs();\r\n\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout headline=\"Pick destination field(s)\">\r\n\t\t\t\t<uui-tab-group slot=\"header\" dropdown-content-direction=\"vertical\">\r\n\t\t\t\t\t${tabs.map(\r\n\t\t\t\t\t\t(tab) => html`\r\n\t\t\t\t\t\t\t<uui-tab\r\n\t\t\t\t\t\t\t\tlabel=${tab.label}\r\n\t\t\t\t\t\t\t\t?active=${this._activeTab === tab.id}\r\n\t\t\t\t\t\t\t\t@click=${() => { this._activeTab = tab.id; }}>\r\n\t\t\t\t\t\t\t\t${tab.label}\r\n\t\t\t\t\t\t\t</uui-tab>\r\n\t\t\t\t\t\t`\r\n\t\t\t\t\t)}\r\n\t\t\t\t</uui-tab-group>\r\n\r\n\t\t\t\t<uui-box>\r\n\t\t\t\t\t${this.#renderTabContent()}\r\n\t\t\t\t</uui-box>\r\n\r\n\t\t\t\t<div slot=\"actions\">\r\n\t\t\t\t\t<uui-button label=\"Cancel\" @click=${this.#onCancel}>Cancel</uui-button>\r\n\t\t\t\t\t<uui-button\r\n\t\t\t\t\t\tlook=\"primary\"\r\n\t\t\t\t\t\tcolor=\"positive\"\r\n\t\t\t\t\t\tlabel=\"Confirm\"\r\n\t\t\t\t\t\t?disabled=${this._selectedTargets.size === 0}\r\n\t\t\t\t\t\t@click=${this.#onConfirm}>\r\n\t\t\t\t\t\tMap to ${this._selectedTargets.size} field${this._selectedTargets.size !== 1 ? 's' : ''}\r\n\t\t\t\t\t</uui-button>\r\n\t\t\t\t</div>\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\t--uui-tab-background: var(--uui-color-surface);\r\n\t\t\t}\r\n\r\n\t\t\t.empty-message {\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tfont-style: italic;\r\n\t\t\t\tpadding: var(--uui-size-space-4);\r\n\t\t\t}\r\n\r\n\t\t\t.field-list {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t}\r\n\r\n\t\t\t.field-item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-space-3);\r\n\t\t\t\tpadding: var(--uui-size-space-3) var(--uui-size-space-4);\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-border);\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t}\r\n\r\n\t\t\t.field-item:hover {\r\n\t\t\t\tbackground: var(--uui-color-surface-emphasis);\r\n\t\t\t}\r\n\r\n\t\t\t.field-item.field-selected {\r\n\t\t\t\tbackground: var(--uui-color-selected);\r\n\t\t\t}\r\n\r\n\t\t\t.field-item:last-child {\r\n\t\t\t\tborder-bottom: none;\r\n\t\t\t}\r\n\r\n\t\t\t.field-info {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-space-3);\r\n\t\t\t\tflex: 1;\r\n\t\t\t}\r\n\r\n\t\t\t.field-label {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\r\n\t\t\t.field-type {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tbackground: var(--uui-color-surface-alt);\r\n\t\t\t\tpadding: 2px 8px;\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t}\r\n\r\n\t\t\t.block-grid {\r\n\t\t\t\tmargin-bottom: var(--uui-size-space-3);\r\n\t\t\t}\r\n\r\n\t\t\t.block-grid-header {\r\n\t\t\t\tpadding: var(--uui-size-space-3) var(--uui-size-space-4);\r\n\t\t\t\tbackground: var(--uui-color-surface-alt);\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-border);\r\n\t\t\t}\r\n\r\n\t\t\t.block-grid-label {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\r\n\t\t\t.block-list {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t}\r\n\r\n\t\t\t.block-item {\r\n\t\t\t\tpadding: var(--uui-size-space-3) var(--uui-size-space-4);\r\n\t\t\t\tpadding-left: var(--uui-size-space-6);\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-border);\r\n\t\t\t}\r\n\r\n\t\t\t.block-item:last-child {\r\n\t\t\t\tborder-bottom: none;\r\n\t\t\t}\r\n\r\n\t\t\t.block-header {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t\tmargin-bottom: var(--uui-size-space-2);\r\n\t\t\t}\r\n\r\n\t\t\t.block-label {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\r\n\t\t\t.block-properties {\r\n\t\t\t\tpadding-left: var(--uui-size-space-5);\r\n\t\t\t}\r\n\r\n\t\t\t.block-property {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t\tpadding: var(--uui-size-space-2) var(--uui-size-space-3);\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t}\r\n\r\n\t\t\t.block-property:hover {\r\n\t\t\t\tbackground: var(--uui-color-surface-emphasis);\r\n\t\t\t}\r\n\r\n\t\t\t.block-property.field-selected {\r\n\t\t\t\tbackground: var(--uui-color-selected);\r\n\t\t\t}\r\n\r\n\t\t\t.block-property-label {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UpDocDestinationPickerModalElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'up-doc-destination-picker-modal': UpDocDestinationPickerModalElement;\r\n\t}\r\n}\r\n"],"names":["_UpDocDestinationPickerModalElement_instances","destination_get","getTabs_fn","toggleTarget_fn","onConfirm_fn","onCancel_fn","renderField_fn","renderFieldsForTab_fn","renderBlockGrids_fn","renderBlockGrid_fn","renderTabContent_fn","UpDocDestinationPickerModalElement","UmbModalBaseElement","__privateAdd","tabs","__privateMethod","html","tab","_a","__privateGet","tabNames","f","tabName","alias","next","field","checked","e","nothing","fields","_b","grid","block","prop","UmbTextStyles","css","__decorateClass","state","customElement","UpDocDestinationPickerModalElement_default"],"mappings":"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"}
{"version":3,"file":"up-doc-workflow-destination-view.element-xPbbNx7t.js","sources":["../src/up-doc-workflow-destination-view.element.ts"],"sourcesContent":["import type { DocumentTypeConfig, DestinationField, DestinationBlockGrid } from './workflow.types.js';\r\nimport { fetchWorkflowByName } from './workflow.service.js';\r\nimport { getDestinationTabs } from './destination-utils.js';\r\nimport { html, customElement, css, state, nothing } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport { UMB_AUTH_CONTEXT } from '@umbraco-cms/backoffice/auth';\r\nimport { UMB_WORKSPACE_CONTEXT } from '@umbraco-cms/backoffice/workspace';\r\n\r\n@customElement('up-doc-workflow-destination-view')\r\nexport class UpDocWorkflowDestinationViewElement extends UmbLitElement {\r\n\t@state() private _config: DocumentTypeConfig | null = null;\r\n\t@state() private _loading = true;\r\n\t@state() private _error: string | null = null;\r\n\t@state() private _activeTab = '';\r\n\r\n\toverride connectedCallback() {\r\n\t\tsuper.connectedCallback();\r\n\t\tthis.consumeContext(UMB_WORKSPACE_CONTEXT, (context) => {\r\n\t\t\tif (!context) return;\r\n\t\t\tthis.observe((context as any).unique, (unique: string | null) => {\r\n\t\t\t\tif (unique) {\r\n\t\t\t\t\tthis.#loadConfig(decodeURIComponent(unique));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tasync #loadConfig(workflowName: string) {\r\n\t\tthis._loading = true;\r\n\t\tthis._error = null;\r\n\r\n\t\ttry {\r\n\t\t\tconst authContext = await this.getContext(UMB_AUTH_CONTEXT);\r\n\t\t\tconst token = await authContext.getLatestToken();\r\n\t\t\tthis._config = await fetchWorkflowByName(workflowName, token);\r\n\r\n\t\t\tif (!this._config) {\r\n\t\t\t\tthis._error = `Workflow \"${workflowName}\" not found`;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst tabs = this.#getTabs();\r\n\t\t\tif (tabs.length > 0) {\r\n\t\t\t\tthis._activeTab = tabs[0].id;\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\tthis._error = err instanceof Error ? err.message : 'Failed to load workflow';\r\n\t\t\tconsole.error('Failed to load workflow config:', err);\r\n\t\t} finally {\r\n\t\t\tthis._loading = false;\r\n\t\t}\r\n\t}\r\n\r\n\t#getTabs() {\r\n\t\tif (!this._config) return [];\r\n\t\treturn getDestinationTabs(this._config.destination);\r\n\t}\r\n\r\n\t#renderFieldsForTab(tabName: string) {\r\n\t\tif (!this._config) return nothing;\r\n\r\n\t\tconst fields = this._config.destination.fields.filter((f) => f.tab === tabName);\r\n\t\tif (fields.length === 0) return html`<p class=\"empty-message\">No fields in this tab.</p>`;\r\n\r\n\t\treturn html`\r\n\t\t\t<div class=\"field-list\">\r\n\t\t\t\t${fields.map((field) => this.#renderField(field))}\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderField(field: DestinationField) {\r\n\t\treturn html`\r\n\t\t\t<div class=\"field-item\">\r\n\t\t\t\t<div class=\"field-header\">\r\n\t\t\t\t\t<span class=\"field-label\">${field.label}</span>\r\n\t\t\t\t\t<span class=\"field-type\">${field.type}</span>\r\n\t\t\t\t\t${field.mandatory ? html`<uui-tag look=\"primary\" color=\"danger\" class=\"field-badge\">Required</uui-tag>` : nothing}\r\n\t\t\t\t\t<uui-button compact look=\"outline\" label=\"Map\" class=\"map-button\" disabled>\r\n\t\t\t\t\t\t<uui-icon name=\"icon-nodes\"></uui-icon>\r\n\t\t\t\t\t</uui-button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"field-meta\">\r\n\t\t\t\t\t<span class=\"field-alias\">${field.alias}</span>\r\n\t\t\t\t\t${field.description ? html`<span class=\"field-description\">${field.description}</span>` : nothing}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderBlockGrids() {\r\n\t\tif (!this._config?.destination.blockGrids?.length) {\r\n\t\t\treturn html`<p class=\"empty-message\">No block grids configured.</p>`;\r\n\t\t}\r\n\r\n\t\treturn html`\r\n\t\t\t${this._config.destination.blockGrids.map((grid) => this.#renderBlockGrid(grid))}\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderBlockGrid(grid: DestinationBlockGrid) {\r\n\t\treturn html`\r\n\t\t\t<div class=\"block-grid\">\r\n\t\t\t\t<div class=\"block-grid-header\">\r\n\t\t\t\t\t<span class=\"block-grid-label\">${grid.label}</span>\r\n\t\t\t\t\t<span class=\"field-alias\">${grid.alias}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t${grid.description ? html`<p class=\"block-grid-description\">${grid.description}</p>` : nothing}\r\n\t\t\t\t<div class=\"block-list\">\r\n\t\t\t\t\t${grid.blocks.map(\r\n\t\t\t\t\t\t(block) => html`\r\n\t\t\t\t\t\t\t<div class=\"block-item\">\r\n\t\t\t\t\t\t\t\t<div class=\"block-header\">\r\n\t\t\t\t\t\t\t\t\t<umb-icon name=\"icon-box\"></umb-icon>\r\n\t\t\t\t\t\t\t\t\t<span class=\"block-label\">${block.label}</span>\r\n\t\t\t\t\t\t\t\t\t${block.identifyBy\r\n\t\t\t\t\t\t\t\t\t\t? html`<span class=\"block-identify\">identified by: \"${block.identifyBy.value}\"</span>`\r\n\t\t\t\t\t\t\t\t\t\t: nothing}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t${block.properties?.length\r\n\t\t\t\t\t\t\t\t\t? html`\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"block-properties\">\r\n\t\t\t\t\t\t\t\t\t\t\t${block.properties.map(\r\n\t\t\t\t\t\t\t\t\t\t\t\t(prop) => html`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div class=\"block-property\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"block-property-label\">${prop.label || prop.alias}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"field-type\">${prop.type}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t${prop.acceptsFormats?.length\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? html`<span class=\"accepts-formats\">${prop.acceptsFormats.join(', ')}</span>`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: nothing}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<uui-button compact look=\"outline\" label=\"Map\" class=\"map-button\" disabled>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<uui-icon name=\"icon-nodes\"></uui-icon>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</uui-button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t`\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t`\r\n\t\t\t\t\t\t\t\t\t: nothing}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t`\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderTabContent() {\r\n\t\tif (!this._config) return nothing;\r\n\r\n\t\tif (this._activeTab === 'page-content') {\r\n\t\t\treturn this.#renderBlockGrids();\r\n\t\t}\r\n\r\n\t\tconst tabName = this._config.destination.fields.find(\r\n\t\t\t(f) => f.tab && f.tab.toLowerCase().replace(/\\s+/g, '-') === this._activeTab\r\n\t\t)?.tab;\r\n\r\n\t\tif (tabName) {\r\n\t\t\treturn this.#renderFieldsForTab(tabName);\r\n\t\t}\r\n\r\n\t\treturn nothing;\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (this._loading) {\r\n\t\t\treturn html`<div class=\"loading\"><uui-loader-bar></uui-loader-bar></div>`;\r\n\t\t}\r\n\r\n\t\tif (this._error) {\r\n\t\t\treturn html`<p style=\"color: var(--uui-color-danger);\">${this._error}</p>`;\r\n\t\t}\r\n\r\n\t\tconst tabs = this.#getTabs();\r\n\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout header-fit-height>\r\n\t\t\t\t<uui-tab-group slot=\"header\" dropdown-content-direction=\"vertical\">\r\n\t\t\t\t\t${tabs.map(\r\n\t\t\t\t\t\t(tab) => html`\r\n\t\t\t\t\t\t\t<uui-tab\r\n\t\t\t\t\t\t\t\tlabel=${tab.label}\r\n\t\t\t\t\t\t\t\t?active=${this._activeTab === tab.id}\r\n\t\t\t\t\t\t\t\t@click=${() => { this._activeTab = tab.id; }}>\r\n\t\t\t\t\t\t\t\t${tab.label}\r\n\t\t\t\t\t\t\t</uui-tab>\r\n\t\t\t\t\t\t`\r\n\t\t\t\t\t)}\r\n\t\t\t\t</uui-tab-group>\r\n\t\t\t\t<uui-box>\r\n\t\t\t\t\t${this.#renderTabContent()}\r\n\t\t\t\t</uui-box>\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\t--uui-tab-background: var(--uui-color-surface);\r\n\t\t\t}\r\n\r\n\t\t\t.loading {\r\n\t\t\t\tpadding: var(--uui-size-layout-1);\r\n\t\t\t}\r\n\r\n\t\t\t.empty-message {\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tfont-style: italic;\r\n\t\t\t}\r\n\r\n\t\t\t.field-list {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tgap: var(--uui-size-space-1);\r\n\t\t\t}\r\n\r\n\t\t\t.field-item {\r\n\t\t\t\tpadding: var(--uui-size-space-3) var(--uui-size-space-4);\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-border);\r\n\t\t\t}\r\n\r\n\t\t\t.field-item:last-child {\r\n\t\t\t\tborder-bottom: none;\r\n\t\t\t}\r\n\r\n\t\t\t.field-header {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-space-3);\r\n\t\t\t}\r\n\r\n\t\t\t.field-label {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\r\n\t\t\t.field-type {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tbackground: var(--uui-color-surface-alt);\r\n\t\t\t\tpadding: 2px 8px;\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t}\r\n\r\n\t\t\t.field-badge {\r\n\t\t\t\tfont-size: 11px;\r\n\t\t\t}\r\n\r\n\t\t\t.field-meta {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tgap: var(--uui-size-space-3);\r\n\t\t\t\tmargin-top: var(--uui-size-space-1);\r\n\t\t\t}\r\n\r\n\t\t\t.field-alias {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tfont-family: monospace;\r\n\t\t\t}\r\n\r\n\t\t\t.field-description {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t}\r\n\r\n\t\t\t.block-grid {\r\n\t\t\t\tmargin-bottom: var(--uui-size-space-5);\r\n\t\t\t}\r\n\r\n\t\t\t.block-grid-header {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-space-3);\r\n\t\t\t\tpadding: var(--uui-size-space-3) var(--uui-size-space-4);\r\n\t\t\t\tbackground: var(--uui-color-surface-alt);\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-border);\r\n\t\t\t}\r\n\r\n\t\t\t.block-grid-label {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\r\n\t\t\t.block-grid-description {\r\n\t\t\t\tpadding: var(--uui-size-space-2) var(--uui-size-space-4);\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tmargin: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.block-list {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t}\r\n\r\n\t\t\t.block-item {\r\n\t\t\t\tpadding: var(--uui-size-space-3) var(--uui-size-space-4);\r\n\t\t\t\tpadding-left: var(--uui-size-space-6);\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-border);\r\n\t\t\t}\r\n\r\n\t\t\t.block-item:last-child {\r\n\t\t\t\tborder-bottom: none;\r\n\t\t\t}\r\n\r\n\t\t\t.block-header {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t}\r\n\r\n\t\t\t.block-label {\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\r\n\t\t\t.block-identify {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t\tfont-style: italic;\r\n\t\t\t}\r\n\r\n\t\t\t.block-properties {\r\n\t\t\t\tmargin-top: var(--uui-size-space-2);\r\n\t\t\t\tpadding-left: var(--uui-size-space-5);\r\n\t\t\t}\r\n\r\n\t\t\t.block-property {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: var(--uui-size-space-2);\r\n\t\t\t\tpadding: var(--uui-size-space-1) 0;\r\n\t\t\t}\r\n\r\n\t\t\t.block-property-label {\r\n\t\t\t\tfont-size: var(--uui-type-small-size);\r\n\t\t\t}\r\n\r\n\t\t\t.accepts-formats {\r\n\t\t\t\tfont-size: 11px;\r\n\t\t\t\tcolor: var(--uui-color-text-alt);\r\n\t\t\t}\r\n\r\n\t\t\t.map-button {\r\n\t\t\t\tmargin-left: auto;\r\n\t\t\t\t--uui-button-font-size: var(--uui-type-small-size);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UpDocWorkflowDestinationViewElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'up-doc-workflow-destination-view': UpDocWorkflowDestinationViewElement;\r\n\t}\r\n}\r\n"],"names":["_UpDocWorkflowDestinationViewElement_instances","loadConfig_fn","getTabs_fn","renderFieldsForTab_fn","renderField_fn","renderBlockGrids_fn","renderBlockGrid_fn","renderTabContent_fn","UpDocWorkflowDestinationViewElement","UmbLitElement","__privateAdd","UMB_WORKSPACE_CONTEXT","context","unique","__privateMethod","html","tabs","tab","workflowName","token","UMB_AUTH_CONTEXT","fetchWorkflowByName","err","getDestinationTabs","tabName","nothing","fields","f","field","grid","block","prop","UmbTextStyles","css","__decorateClass","state","customElement","UpDocWorkflowDestinationViewElement_default"],"mappings":"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"}
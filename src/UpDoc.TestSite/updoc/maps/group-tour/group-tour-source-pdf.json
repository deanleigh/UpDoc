{
  "$schema": "../../../../UpDoc/wwwroot/App_Plugins/UpDoc/schemas/source.schema.json",
  "version": "1.0",
  "sourceTypes": ["pdf"],
  "globals": {
    "columnDetection": {
      "enabled": true,
      "thresholdPercent": 0.35
    }
  },
  "sections": [
    {
      "key": "title",
      "label": "Tour Title",
      "description": "The main title of the tour, typically the largest text on page 1",
      "strategy": "largestFont",
      "outputFormat": "text",
      "required": true,
      "pages": [1],
      "columnFilter": false,
      "strategyParams": {
        "fontSizeThreshold": 0.85
      }
    },
    {
      "key": "description",
      "label": "Tour Description",
      "description": "Brief summary including duration and price (e.g., '5 days from £889')",
      "strategy": "regex",
      "outputFormat": "text",
      "required": true,
      "pages": [1],
      "columnFilter": false,
      "strategyParams": {
        "pattern": "\\d+\\s*days?\\s+from\\s+£\\d+",
        "flags": "i"
      }
    },
    {
      "key": "itinerary",
      "label": "Suggested Itinerary",
      "description": "Day-by-day breakdown of the tour",
      "strategy": "betweenPatterns",
      "outputFormat": "markdown",
      "required": true,
      "pages": "all",
      "columnFilter": true,
      "strategyParams": {
        "startPattern": "^Day\\s+\\d+",
        "stopPatterns": [
          "features",
          "accommodation",
          "terms",
          "conditions",
          "booking",
          "contact us",
          "telephone",
          "email:",
          "www.",
          "http",
          "nb:",
          "nb:-",
          "please note",
          "reserve the right"
        ],
        "includeStartLine": true,
        "headingLevel": "h2"
      }
    },
    {
      "key": "features",
      "label": "Features",
      "description": "List of tour features and inclusions",
      "strategy": "betweenPatterns",
      "outputFormat": "markdown",
      "required": false,
      "pages": "all",
      "columnFilter": true,
      "strategyParams": {
        "startPattern": "^Features$",
        "stopPatterns": [
          "accommodation",
          "terms",
          "conditions",
          "booking",
          "contact us"
        ],
        "includeStartLine": false,
        "headingLevel": "h2"
      }
    },
    {
      "key": "accommodation",
      "label": "Accommodation",
      "description": "Hotel and accommodation details",
      "strategy": "betweenPatterns",
      "outputFormat": "markdown",
      "required": false,
      "pages": [1],
      "columnFilter": true,
      "strategyParams": {
        "startPattern": "^Accommodation$",
        "stopPatterns": ["EXTRAS", "For more information"],
        "includeStartLine": false,
        "headingLevel": "h2"
      }
    }
  ]
}

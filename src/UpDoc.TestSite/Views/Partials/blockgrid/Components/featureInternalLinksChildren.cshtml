@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<Umbraco.Cms.Core.Models.Blocks.BlockGridItem<FeatureInternalLinksChildren>>

@{
    Layout = "_Layout_Features.cshtml";
    var children = UmbracoContext?.PublishedRequest?.PublishedContent?.Children()?.Where(c => c is IContentHeadingDefault);
}

@if (children != null && children.Any())
{
    <div class="grid">
        @foreach (var child in children)
        {
            var childPage = (IContentHeadingDefault)child;
            var thumbnail = childPage.PageThumbnail;
            <div class="g-col-12 g-col-md-6 g-col-lg-4">
                <div class="card h-100 shadow">
                    @if (thumbnail != null)
                    {
                        <img src="@(thumbnail.GetCropUrl(width: 480))" class="card-img-top" alt="...">
                    }
                    <div class="card-body text-center">
                        <h3 class="card-title pb-1">
                            <a class="stretched-link"
                               href="@child.Url()">@childPage.PageTitle</a>
                        </h3>
                        <p class="card-text pb-2">
                            @childPage.PageDescription
                        </p>
                    </div>
                </div>
            </div>
        }
    </div>
}